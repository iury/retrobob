//! This test automates the execution of a ROM test made by Kevin Horton, included in this folder.

const std = @import("std");
const CPU = @import("../cpu.zig").CPU;
const BufferMapper = @import("../testing/BufferMapper.zig");
const DummyDMC = @import("../testing/DummyDMC.zig");
const Cartridge = @import("../../cartridge.zig").Cartridge;
const MemoryBus = @import("../../memory_bus.zig").MemoryBus;
const NROM = @import("../../mappers/nrom.zig").NROM;

test "nestest" {
    @setEvalBranchQuota(100000);

    const expectEqual = std.testing.expectEqual;
    const allocator = std.testing.allocator;

    const path = try std.fs.cwd().realpathAlloc(allocator, "src/cpus/6502/nestest/nestest.nes");
    defer allocator.free(path);
    const file = try std.fs.openFileAbsolute(path, .{});
    defer file.close();
    const rom_data = try file.readToEndAlloc(allocator, 8 * 1024 * 1024);
    defer allocator.free(rom_data);

    var cartridge: *Cartridge = try Cartridge.init(allocator, rom_data);
    defer cartridge.deinit();

    var nrom: *NROM = try NROM.init(allocator, cartridge);
    var mapper = nrom.memory();
    defer mapper.deinit();

    var dmc: DummyDMC = .{};
    var ppu: BufferMapper = .{};
    var apu: BufferMapper = .{};
    var input: BufferMapper = .{};

    var bus = try MemoryBus.init(std.testing.allocator, mapper, ppu.memory(), apu.memory(), input.memory());
    var bus_memory = bus.memory();
    defer bus_memory.deinit();

    var cpu: CPU = .{
        .memory = bus_memory,
        .dmc = dmc.proxy(),
    };

    cpu.pc = 0xC5F5;
    cpu.sp = 0xFD;

    // C5F5  A2 00     LDX #$00                        A:00 X:00 Y:00 P:24 SP:FD PPU:  0, 30 CYC:10
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc5f7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C5F7  86 00     STX $00 = 00                    A:00 X:00 Y:00 P:26 SP:FD PPU:  0, 36 CYC:12
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc5f9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C5F9  86 10     STX $10 = 00                    A:00 X:00 Y:00 P:26 SP:FD PPU:  0, 45 CYC:15
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc5fb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C5FB  86 11     STX $11 = 00                    A:00 X:00 Y:00 P:26 SP:FD PPU:  0, 54 CYC:18
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc5fd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C5FD  20 2D C7  JSR $C72D                       A:00 X:00 Y:00 P:26 SP:FD PPU:  0, 63 CYC:21
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc72d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C72D  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  0, 81 CYC:27
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C72E  38        SEC                             A:00 X:00 Y:00 P:26 SP:FB PPU:  0, 87 CYC:29
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C72F  B0 04     BCS $C735                       A:00 X:00 Y:00 P:27 SP:FB PPU:  0, 93 CYC:31
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc735, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C735  EA        NOP                             A:00 X:00 Y:00 P:27 SP:FB PPU:  0,102 CYC:34
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc736, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C736  18        CLC                             A:00 X:00 Y:00 P:27 SP:FB PPU:  0,108 CYC:36
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc737, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C737  B0 03     BCS $C73C                       A:00 X:00 Y:00 P:26 SP:FB PPU:  0,114 CYC:38
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc739, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C739  4C 40 C7  JMP $C740                       A:00 X:00 Y:00 P:26 SP:FB PPU:  0,120 CYC:40
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc740, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C740  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  0,129 CYC:43
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc741, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C741  38        SEC                             A:00 X:00 Y:00 P:26 SP:FB PPU:  0,135 CYC:45
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc742, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C742  90 03     BCC $C747                       A:00 X:00 Y:00 P:27 SP:FB PPU:  0,141 CYC:47
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc744, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C744  4C 4B C7  JMP $C74B                       A:00 X:00 Y:00 P:27 SP:FB PPU:  0,147 CYC:49
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc74b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C74B  EA        NOP                             A:00 X:00 Y:00 P:27 SP:FB PPU:  0,156 CYC:52
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc74c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C74C  18        CLC                             A:00 X:00 Y:00 P:27 SP:FB PPU:  0,162 CYC:54
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc74d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C74D  90 04     BCC $C753                       A:00 X:00 Y:00 P:26 SP:FB PPU:  0,168 CYC:56
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc753, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C753  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  0,177 CYC:59
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc754, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C754  A9 00     LDA #$00                        A:00 X:00 Y:00 P:26 SP:FB PPU:  0,183 CYC:61
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc756, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C756  F0 04     BEQ $C75C                       A:00 X:00 Y:00 P:26 SP:FB PPU:  0,189 CYC:63
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc75c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C75C  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  0,198 CYC:66
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc75d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C75D  A9 40     LDA #$40                        A:00 X:00 Y:00 P:26 SP:FB PPU:  0,204 CYC:68
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc75f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C75F  F0 03     BEQ $C764                       A:40 X:00 Y:00 P:24 SP:FB PPU:  0,210 CYC:70
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc761, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C761  4C 68 C7  JMP $C768                       A:40 X:00 Y:00 P:24 SP:FB PPU:  0,216 CYC:72
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc768, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C768  EA        NOP                             A:40 X:00 Y:00 P:24 SP:FB PPU:  0,225 CYC:75
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc769, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C769  A9 40     LDA #$40                        A:40 X:00 Y:00 P:24 SP:FB PPU:  0,231 CYC:77
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc76b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C76B  D0 04     BNE $C771                       A:40 X:00 Y:00 P:24 SP:FB PPU:  0,237 CYC:79
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc771, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C771  EA        NOP                             A:40 X:00 Y:00 P:24 SP:FB PPU:  0,246 CYC:82
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc772, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C772  A9 00     LDA #$00                        A:40 X:00 Y:00 P:24 SP:FB PPU:  0,252 CYC:84
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc774, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C774  D0 03     BNE $C779                       A:00 X:00 Y:00 P:26 SP:FB PPU:  0,258 CYC:86
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc776, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C776  4C 7D C7  JMP $C77D                       A:00 X:00 Y:00 P:26 SP:FB PPU:  0,264 CYC:88
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc77d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C77D  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  0,273 CYC:91
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc77e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C77E  A9 FF     LDA #$FF                        A:00 X:00 Y:00 P:26 SP:FB PPU:  0,279 CYC:93
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc780, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C780  85 01     STA $01 = 00                    A:FF X:00 Y:00 P:A4 SP:FB PPU:  0,285 CYC:95
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc782, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C782  24 01     BIT $01 = FF                    A:FF X:00 Y:00 P:A4 SP:FB PPU:  0,294 CYC:98
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc784, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C784  70 04     BVS $C78A                       A:FF X:00 Y:00 P:E4 SP:FB PPU:  0,303 CYC:101
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc78a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C78A  EA        NOP                             A:FF X:00 Y:00 P:E4 SP:FB PPU:  0,312 CYC:104
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc78b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C78B  24 01     BIT $01 = FF                    A:FF X:00 Y:00 P:E4 SP:FB PPU:  0,318 CYC:106
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc78d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C78D  50 03     BVC $C792                       A:FF X:00 Y:00 P:E4 SP:FB PPU:  0,327 CYC:109
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc78f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C78F  4C 96 C7  JMP $C796                       A:FF X:00 Y:00 P:E4 SP:FB PPU:  0,333 CYC:111
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc796, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C796  EA        NOP                             A:FF X:00 Y:00 P:E4 SP:FB PPU:  1,  1 CYC:114
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc797, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C797  A9 00     LDA #$00                        A:FF X:00 Y:00 P:E4 SP:FB PPU:  1,  7 CYC:116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc799, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C799  85 01     STA $01 = FF                    A:00 X:00 Y:00 P:66 SP:FB PPU:  1, 13 CYC:118
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc79b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C79B  24 01     BIT $01 = 00                    A:00 X:00 Y:00 P:66 SP:FB PPU:  1, 22 CYC:121
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc79d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C79D  50 04     BVC $C7A3                       A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 31 CYC:124
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7a3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7A3  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 40 CYC:127
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7a4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7A4  24 01     BIT $01 = 00                    A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 46 CYC:129
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7a6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7A6  70 03     BVS $C7AB                       A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 55 CYC:132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7a8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7A8  4C AF C7  JMP $C7AF                       A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 61 CYC:134
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7af, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7AF  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 70 CYC:137
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7b0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7B0  A9 00     LDA #$00                        A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 76 CYC:139
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7b2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7B2  10 04     BPL $C7B8                       A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 82 CYC:141
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7b8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7B8  EA        NOP                             A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 91 CYC:144
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7b9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7B9  A9 80     LDA #$80                        A:00 X:00 Y:00 P:26 SP:FB PPU:  1, 97 CYC:146
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7BB  10 03     BPL $C7C0                       A:80 X:00 Y:00 P:A4 SP:FB PPU:  1,103 CYC:148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7bd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7BD  4C D9 C7  JMP $C7D9                       A:80 X:00 Y:00 P:A4 SP:FB PPU:  1,109 CYC:150
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7D9  EA        NOP                             A:80 X:00 Y:00 P:A4 SP:FB PPU:  1,118 CYC:153
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7da, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7DA  60        RTS                             A:80 X:00 Y:00 P:A4 SP:FB PPU:  1,124 CYC:155
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc600, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C600  20 DB C7  JSR $C7DB                       A:80 X:00 Y:00 P:A4 SP:FD PPU:  1,142 CYC:161
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc7db, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7DB  EA        NOP                             A:80 X:00 Y:00 P:A4 SP:FB PPU:  1,160 CYC:167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7dc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7DC  A9 FF     LDA #$FF                        A:80 X:00 Y:00 P:A4 SP:FB PPU:  1,166 CYC:169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7de, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7DE  85 01     STA $01 = 00                    A:FF X:00 Y:00 P:A4 SP:FB PPU:  1,172 CYC:171
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7E0  24 01     BIT $01 = FF                    A:FF X:00 Y:00 P:A4 SP:FB PPU:  1,181 CYC:174
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7E2  A9 00     LDA #$00                        A:FF X:00 Y:00 P:E4 SP:FB PPU:  1,190 CYC:177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7E4  38        SEC                             A:00 X:00 Y:00 P:66 SP:FB PPU:  1,196 CYC:179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7E5  78        SEI                             A:00 X:00 Y:00 P:67 SP:FB PPU:  1,202 CYC:181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7E6  F8        SED                             A:00 X:00 Y:00 P:67 SP:FB PPU:  1,208 CYC:183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7E7  08        PHP                             A:00 X:00 Y:00 P:6F SP:FB PPU:  1,214 CYC:185
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C7E8  68        PLA                             A:00 X:00 Y:00 P:6F SP:FA PPU:  1,223 CYC:188
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc7e9, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7E9  29 EF     AND #$EF                        A:7F X:00 Y:00 P:6D SP:FB PPU:  1,235 CYC:192
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7eb, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7EB  C9 6F     CMP #$6F                        A:6F X:00 Y:00 P:6D SP:FB PPU:  1,241 CYC:194
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7ed, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7ED  F0 04     BEQ $C7F3                       A:6F X:00 Y:00 P:6F SP:FB PPU:  1,247 CYC:196
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7f3, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7F3  EA        NOP                             A:6F X:00 Y:00 P:6F SP:FB PPU:  1,256 CYC:199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7f4, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7F4  A9 40     LDA #$40                        A:6F X:00 Y:00 P:6F SP:FB PPU:  1,262 CYC:201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7f6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7F6  85 01     STA $01 = FF                    A:40 X:00 Y:00 P:6D SP:FB PPU:  1,268 CYC:203
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7f8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7F8  24 01     BIT $01 = 40                    A:40 X:00 Y:00 P:6D SP:FB PPU:  1,277 CYC:206
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7fa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7FA  D8        CLD                             A:40 X:00 Y:00 P:6D SP:FB PPU:  1,286 CYC:209
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7fb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7FB  A9 10     LDA #$10                        A:40 X:00 Y:00 P:65 SP:FB PPU:  1,292 CYC:211
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7fd, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7FD  18        CLC                             A:10 X:00 Y:00 P:65 SP:FB PPU:  1,298 CYC:213
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc7fe, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C7FE  08        PHP                             A:10 X:00 Y:00 P:64 SP:FB PPU:  1,304 CYC:215
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc7ff, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C7FF  68        PLA                             A:10 X:00 Y:00 P:64 SP:FA PPU:  1,313 CYC:218
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc800, cpu.pc);
    try expectEqual(0x74, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C800  29 EF     AND #$EF                        A:74 X:00 Y:00 P:64 SP:FB PPU:  1,325 CYC:222
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc802, cpu.pc);
    try expectEqual(0x64, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C802  C9 64     CMP #$64                        A:64 X:00 Y:00 P:64 SP:FB PPU:  1,331 CYC:224
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc804, cpu.pc);
    try expectEqual(0x64, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C804  F0 04     BEQ $C80A                       A:64 X:00 Y:00 P:67 SP:FB PPU:  1,337 CYC:226
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc80a, cpu.pc);
    try expectEqual(0x64, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C80A  EA        NOP                             A:64 X:00 Y:00 P:67 SP:FB PPU:  2,  5 CYC:229
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc80b, cpu.pc);
    try expectEqual(0x64, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C80B  A9 80     LDA #$80                        A:64 X:00 Y:00 P:67 SP:FB PPU:  2, 11 CYC:231
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc80d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C80D  85 01     STA $01 = 40                    A:80 X:00 Y:00 P:E5 SP:FB PPU:  2, 17 CYC:233
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc80f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C80F  24 01     BIT $01 = 80                    A:80 X:00 Y:00 P:E5 SP:FB PPU:  2, 26 CYC:236
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc811, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C811  F8        SED                             A:80 X:00 Y:00 P:A5 SP:FB PPU:  2, 35 CYC:239
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc812, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C812  A9 00     LDA #$00                        A:80 X:00 Y:00 P:AD SP:FB PPU:  2, 41 CYC:241
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc814, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C814  38        SEC                             A:00 X:00 Y:00 P:2F SP:FB PPU:  2, 47 CYC:243
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc815, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C815  08        PHP                             A:00 X:00 Y:00 P:2F SP:FB PPU:  2, 53 CYC:245
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc816, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C816  68        PLA                             A:00 X:00 Y:00 P:2F SP:FA PPU:  2, 62 CYC:248
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc817, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C817  29 EF     AND #$EF                        A:3F X:00 Y:00 P:2D SP:FB PPU:  2, 74 CYC:252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc819, cpu.pc);
    try expectEqual(0x2f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C819  C9 2F     CMP #$2F                        A:2F X:00 Y:00 P:2D SP:FB PPU:  2, 80 CYC:254
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc81b, cpu.pc);
    try expectEqual(0x2f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C81B  F0 04     BEQ $C821                       A:2F X:00 Y:00 P:2F SP:FB PPU:  2, 86 CYC:256
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc821, cpu.pc);
    try expectEqual(0x2f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C821  EA        NOP                             A:2F X:00 Y:00 P:2F SP:FB PPU:  2, 95 CYC:259
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc822, cpu.pc);
    try expectEqual(0x2f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C822  A9 FF     LDA #$FF                        A:2F X:00 Y:00 P:2F SP:FB PPU:  2,101 CYC:261
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc824, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C824  48        PHA                             A:FF X:00 Y:00 P:AD SP:FB PPU:  2,107 CYC:263
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc825, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C825  28        PLP                             A:FF X:00 Y:00 P:AD SP:FA PPU:  2,116 CYC:266
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc826, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C826  D0 09     BNE $C831                       A:FF X:00 Y:00 P:EF SP:FB PPU:  2,128 CYC:270
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc828, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C828  10 07     BPL $C831                       A:FF X:00 Y:00 P:EF SP:FB PPU:  2,134 CYC:272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc82a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C82A  50 05     BVC $C831                       A:FF X:00 Y:00 P:EF SP:FB PPU:  2,140 CYC:274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc82c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C82C  90 03     BCC $C831                       A:FF X:00 Y:00 P:EF SP:FB PPU:  2,146 CYC:276
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc82e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C82E  4C 35 C8  JMP $C835                       A:FF X:00 Y:00 P:EF SP:FB PPU:  2,152 CYC:278
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc835, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C835  EA        NOP                             A:FF X:00 Y:00 P:EF SP:FB PPU:  2,161 CYC:281
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc836, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C836  A9 04     LDA #$04                        A:FF X:00 Y:00 P:EF SP:FB PPU:  2,167 CYC:283
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc838, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C838  48        PHA                             A:04 X:00 Y:00 P:6D SP:FB PPU:  2,173 CYC:285
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc839, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C839  28        PLP                             A:04 X:00 Y:00 P:6D SP:FA PPU:  2,182 CYC:288
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc83a, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C83A  F0 09     BEQ $C845                       A:04 X:00 Y:00 P:24 SP:FB PPU:  2,194 CYC:292
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc83c, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C83C  30 07     BMI $C845                       A:04 X:00 Y:00 P:24 SP:FB PPU:  2,200 CYC:294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc83e, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C83E  70 05     BVS $C845                       A:04 X:00 Y:00 P:24 SP:FB PPU:  2,206 CYC:296
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc840, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C840  B0 03     BCS $C845                       A:04 X:00 Y:00 P:24 SP:FB PPU:  2,212 CYC:298
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc842, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C842  4C 49 C8  JMP $C849                       A:04 X:00 Y:00 P:24 SP:FB PPU:  2,218 CYC:300
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc849, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C849  EA        NOP                             A:04 X:00 Y:00 P:24 SP:FB PPU:  2,227 CYC:303
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc84a, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C84A  F8        SED                             A:04 X:00 Y:00 P:24 SP:FB PPU:  2,233 CYC:305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc84b, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C84B  A9 FF     LDA #$FF                        A:04 X:00 Y:00 P:2C SP:FB PPU:  2,239 CYC:307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc84d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xac, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C84D  85 01     STA $01 = 80                    A:FF X:00 Y:00 P:AC SP:FB PPU:  2,245 CYC:309
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc84f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xac, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C84F  24 01     BIT $01 = FF                    A:FF X:00 Y:00 P:AC SP:FB PPU:  2,254 CYC:312
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc851, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C851  18        CLC                             A:FF X:00 Y:00 P:EC SP:FB PPU:  2,263 CYC:315
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc852, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C852  A9 00     LDA #$00                        A:FF X:00 Y:00 P:EC SP:FB PPU:  2,269 CYC:317
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc854, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C854  48        PHA                             A:00 X:00 Y:00 P:6E SP:FB PPU:  2,275 CYC:319
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc855, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C855  A9 FF     LDA #$FF                        A:00 X:00 Y:00 P:6E SP:FA PPU:  2,284 CYC:322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc857, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C857  68        PLA                             A:FF X:00 Y:00 P:EC SP:FA PPU:  2,290 CYC:324
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc858, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C858  D0 09     BNE $C863                       A:00 X:00 Y:00 P:6E SP:FB PPU:  2,302 CYC:328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc85a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C85A  30 07     BMI $C863                       A:00 X:00 Y:00 P:6E SP:FB PPU:  2,308 CYC:330
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc85c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C85C  50 05     BVC $C863                       A:00 X:00 Y:00 P:6E SP:FB PPU:  2,314 CYC:332
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc85e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C85E  B0 03     BCS $C863                       A:00 X:00 Y:00 P:6E SP:FB PPU:  2,320 CYC:334
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc860, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C860  4C 67 C8  JMP $C867                       A:00 X:00 Y:00 P:6E SP:FB PPU:  2,326 CYC:336
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc867, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C867  EA        NOP                             A:00 X:00 Y:00 P:6E SP:FB PPU:  2,335 CYC:339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc868, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C868  A9 00     LDA #$00                        A:00 X:00 Y:00 P:6E SP:FB PPU:  3,  0 CYC:341
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc86a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C86A  85 01     STA $01 = FF                    A:00 X:00 Y:00 P:6E SP:FB PPU:  3,  6 CYC:343
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc86c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C86C  24 01     BIT $01 = 00                    A:00 X:00 Y:00 P:6E SP:FB PPU:  3, 15 CYC:346
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc86e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C86E  38        SEC                             A:00 X:00 Y:00 P:2E SP:FB PPU:  3, 24 CYC:349
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc86f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C86F  A9 FF     LDA #$FF                        A:00 X:00 Y:00 P:2F SP:FB PPU:  3, 30 CYC:351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc871, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C871  48        PHA                             A:FF X:00 Y:00 P:AD SP:FB PPU:  3, 36 CYC:353
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc872, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C872  A9 00     LDA #$00                        A:FF X:00 Y:00 P:AD SP:FA PPU:  3, 45 CYC:356
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc874, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // C874  68        PLA                             A:00 X:00 Y:00 P:2F SP:FA PPU:  3, 51 CYC:358
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc875, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C875  F0 09     BEQ $C880                       A:FF X:00 Y:00 P:AD SP:FB PPU:  3, 63 CYC:362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc877, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C877  10 07     BPL $C880                       A:FF X:00 Y:00 P:AD SP:FB PPU:  3, 69 CYC:364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc879, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C879  70 05     BVS $C880                       A:FF X:00 Y:00 P:AD SP:FB PPU:  3, 75 CYC:366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc87b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C87B  90 03     BCC $C880                       A:FF X:00 Y:00 P:AD SP:FB PPU:  3, 81 CYC:368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc87d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C87D  4C 84 C8  JMP $C884                       A:FF X:00 Y:00 P:AD SP:FB PPU:  3, 87 CYC:370
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc884, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C884  60        RTS                             A:FF X:00 Y:00 P:AD SP:FB PPU:  3, 96 CYC:373
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc603, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C603  20 85 C8  JSR $C885                       A:FF X:00 Y:00 P:AD SP:FD PPU:  3,114 CYC:379
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc885, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C885  EA        NOP                             A:FF X:00 Y:00 P:AD SP:FB PPU:  3,132 CYC:385
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc886, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C886  18        CLC                             A:FF X:00 Y:00 P:AD SP:FB PPU:  3,138 CYC:387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc887, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xac, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C887  A9 FF     LDA #$FF                        A:FF X:00 Y:00 P:AC SP:FB PPU:  3,144 CYC:389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc889, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xac, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C889  85 01     STA $01 = 00                    A:FF X:00 Y:00 P:AC SP:FB PPU:  3,150 CYC:391
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc88b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xac, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C88B  24 01     BIT $01 = FF                    A:FF X:00 Y:00 P:AC SP:FB PPU:  3,159 CYC:394
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc88d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C88D  A9 55     LDA #$55                        A:FF X:00 Y:00 P:EC SP:FB PPU:  3,168 CYC:397
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc88f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C88F  09 AA     ORA #$AA                        A:55 X:00 Y:00 P:6C SP:FB PPU:  3,174 CYC:399
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc891, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C891  B0 0B     BCS $C89E                       A:FF X:00 Y:00 P:EC SP:FB PPU:  3,180 CYC:401
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc893, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C893  10 09     BPL $C89E                       A:FF X:00 Y:00 P:EC SP:FB PPU:  3,186 CYC:403
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc895, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C895  C9 FF     CMP #$FF                        A:FF X:00 Y:00 P:EC SP:FB PPU:  3,192 CYC:405
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc897, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C897  D0 05     BNE $C89E                       A:FF X:00 Y:00 P:6F SP:FB PPU:  3,198 CYC:407
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc899, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C899  50 03     BVC $C89E                       A:FF X:00 Y:00 P:6F SP:FB PPU:  3,204 CYC:409
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc89b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C89B  4C A2 C8  JMP $C8A2                       A:FF X:00 Y:00 P:6F SP:FB PPU:  3,210 CYC:411
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc8a2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8A2  EA        NOP                             A:FF X:00 Y:00 P:6F SP:FB PPU:  3,219 CYC:414
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8a3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8A3  38        SEC                             A:FF X:00 Y:00 P:6F SP:FB PPU:  3,225 CYC:416
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8a4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8A4  B8        CLV                             A:FF X:00 Y:00 P:6F SP:FB PPU:  3,231 CYC:418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8a5, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8A5  A9 00     LDA #$00                        A:FF X:00 Y:00 P:2F SP:FB PPU:  3,237 CYC:420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8a7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8A7  09 00     ORA #$00                        A:00 X:00 Y:00 P:2F SP:FB PPU:  3,243 CYC:422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8a9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8A9  D0 09     BNE $C8B4                       A:00 X:00 Y:00 P:2F SP:FB PPU:  3,249 CYC:424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8ab, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8AB  70 07     BVS $C8B4                       A:00 X:00 Y:00 P:2F SP:FB PPU:  3,255 CYC:426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8ad, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8AD  90 05     BCC $C8B4                       A:00 X:00 Y:00 P:2F SP:FB PPU:  3,261 CYC:428
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8af, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8AF  30 03     BMI $C8B4                       A:00 X:00 Y:00 P:2F SP:FB PPU:  3,267 CYC:430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8b1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8B1  4C B8 C8  JMP $C8B8                       A:00 X:00 Y:00 P:2F SP:FB PPU:  3,273 CYC:432
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc8b8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8B8  EA        NOP                             A:00 X:00 Y:00 P:2F SP:FB PPU:  3,282 CYC:435
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8b9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8B9  18        CLC                             A:00 X:00 Y:00 P:2F SP:FB PPU:  3,288 CYC:437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8ba, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8BA  24 01     BIT $01 = FF                    A:00 X:00 Y:00 P:2E SP:FB PPU:  3,294 CYC:439
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc8bc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xee, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8BC  A9 55     LDA #$55                        A:00 X:00 Y:00 P:EE SP:FB PPU:  3,303 CYC:442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8be, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8BE  29 AA     AND #$AA                        A:55 X:00 Y:00 P:6C SP:FB PPU:  3,309 CYC:444
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8c0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8C0  D0 09     BNE $C8CB                       A:00 X:00 Y:00 P:6E SP:FB PPU:  3,315 CYC:446
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8c2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8C2  50 07     BVC $C8CB                       A:00 X:00 Y:00 P:6E SP:FB PPU:  3,321 CYC:448
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8c4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8C4  B0 05     BCS $C8CB                       A:00 X:00 Y:00 P:6E SP:FB PPU:  3,327 CYC:450
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8c6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8C6  30 03     BMI $C8CB                       A:00 X:00 Y:00 P:6E SP:FB PPU:  3,333 CYC:452
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8c8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8C8  4C CF C8  JMP $C8CF                       A:00 X:00 Y:00 P:6E SP:FB PPU:  3,339 CYC:454
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc8cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8CF  EA        NOP                             A:00 X:00 Y:00 P:6E SP:FB PPU:  4,  7 CYC:457
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8D0  38        SEC                             A:00 X:00 Y:00 P:6E SP:FB PPU:  4, 13 CYC:459
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8d1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8D1  B8        CLV                             A:00 X:00 Y:00 P:6F SP:FB PPU:  4, 19 CYC:461
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8D2  A9 F8     LDA #$F8                        A:00 X:00 Y:00 P:2F SP:FB PPU:  4, 25 CYC:463
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8d4, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8D4  29 EF     AND #$EF                        A:F8 X:00 Y:00 P:AD SP:FB PPU:  4, 31 CYC:465
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8d6, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8D6  90 0B     BCC $C8E3                       A:E8 X:00 Y:00 P:AD SP:FB PPU:  4, 37 CYC:467
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8d8, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8D8  10 09     BPL $C8E3                       A:E8 X:00 Y:00 P:AD SP:FB PPU:  4, 43 CYC:469
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8da, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xad, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8DA  C9 E8     CMP #$E8                        A:E8 X:00 Y:00 P:AD SP:FB PPU:  4, 49 CYC:471
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8dc, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8DC  D0 05     BNE $C8E3                       A:E8 X:00 Y:00 P:2F SP:FB PPU:  4, 55 CYC:473
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8de, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8DE  70 03     BVS $C8E3                       A:E8 X:00 Y:00 P:2F SP:FB PPU:  4, 61 CYC:475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8e0, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8E0  4C E7 C8  JMP $C8E7                       A:E8 X:00 Y:00 P:2F SP:FB PPU:  4, 67 CYC:477
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc8e7, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8E7  EA        NOP                             A:E8 X:00 Y:00 P:2F SP:FB PPU:  4, 76 CYC:480
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8e8, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8E8  18        CLC                             A:E8 X:00 Y:00 P:2F SP:FB PPU:  4, 82 CYC:482
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8e9, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8E9  24 01     BIT $01 = FF                    A:E8 X:00 Y:00 P:2E SP:FB PPU:  4, 88 CYC:484
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc8eb, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8EB  A9 5F     LDA #$5F                        A:E8 X:00 Y:00 P:EC SP:FB PPU:  4, 97 CYC:487
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8ed, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8ED  49 AA     EOR #$AA                        A:5F X:00 Y:00 P:6C SP:FB PPU:  4,103 CYC:489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8ef, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8EF  B0 0B     BCS $C8FC                       A:F5 X:00 Y:00 P:EC SP:FB PPU:  4,109 CYC:491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8f1, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8F1  10 09     BPL $C8FC                       A:F5 X:00 Y:00 P:EC SP:FB PPU:  4,115 CYC:493
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8f3, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xec, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8F3  C9 F5     CMP #$F5                        A:F5 X:00 Y:00 P:EC SP:FB PPU:  4,121 CYC:495
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8f5, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8F5  D0 05     BNE $C8FC                       A:F5 X:00 Y:00 P:6F SP:FB PPU:  4,127 CYC:497
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8f7, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8F7  50 03     BVC $C8FC                       A:F5 X:00 Y:00 P:6F SP:FB PPU:  4,133 CYC:499
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc8f9, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C8F9  4C 00 C9  JMP $C900                       A:F5 X:00 Y:00 P:6F SP:FB PPU:  4,139 CYC:501
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc900, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C900  EA        NOP                             A:F5 X:00 Y:00 P:6F SP:FB PPU:  4,148 CYC:504
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc901, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C901  38        SEC                             A:F5 X:00 Y:00 P:6F SP:FB PPU:  4,154 CYC:506
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc902, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C902  B8        CLV                             A:F5 X:00 Y:00 P:6F SP:FB PPU:  4,160 CYC:508
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc903, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C903  A9 70     LDA #$70                        A:F5 X:00 Y:00 P:2F SP:FB PPU:  4,166 CYC:510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc905, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C905  49 70     EOR #$70                        A:70 X:00 Y:00 P:2D SP:FB PPU:  4,172 CYC:512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc907, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C907  D0 09     BNE $C912                       A:00 X:00 Y:00 P:2F SP:FB PPU:  4,178 CYC:514
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc909, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C909  70 07     BVS $C912                       A:00 X:00 Y:00 P:2F SP:FB PPU:  4,184 CYC:516
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc90b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C90B  90 05     BCC $C912                       A:00 X:00 Y:00 P:2F SP:FB PPU:  4,190 CYC:518
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc90d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C90D  30 03     BMI $C912                       A:00 X:00 Y:00 P:2F SP:FB PPU:  4,196 CYC:520
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc90f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C90F  4C 16 C9  JMP $C916                       A:00 X:00 Y:00 P:2F SP:FB PPU:  4,202 CYC:522
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc916, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C916  EA        NOP                             A:00 X:00 Y:00 P:2F SP:FB PPU:  4,211 CYC:525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc917, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C917  18        CLC                             A:00 X:00 Y:00 P:2F SP:FB PPU:  4,217 CYC:527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc918, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C918  24 01     BIT $01 = FF                    A:00 X:00 Y:00 P:2E SP:FB PPU:  4,223 CYC:529
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc91a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xee, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C91A  A9 00     LDA #$00                        A:00 X:00 Y:00 P:EE SP:FB PPU:  4,232 CYC:532
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc91c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6e, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C91C  69 69     ADC #$69                        A:00 X:00 Y:00 P:6E SP:FB PPU:  4,238 CYC:534
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc91e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C91E  30 0B     BMI $C92B                       A:69 X:00 Y:00 P:2C SP:FB PPU:  4,244 CYC:536
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc920, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C920  B0 09     BCS $C92B                       A:69 X:00 Y:00 P:2C SP:FB PPU:  4,250 CYC:538
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc922, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C922  C9 69     CMP #$69                        A:69 X:00 Y:00 P:2C SP:FB PPU:  4,256 CYC:540
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc924, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C924  D0 05     BNE $C92B                       A:69 X:00 Y:00 P:2F SP:FB PPU:  4,262 CYC:542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc926, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C926  70 03     BVS $C92B                       A:69 X:00 Y:00 P:2F SP:FB PPU:  4,268 CYC:544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc928, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C928  4C 2F C9  JMP $C92F                       A:69 X:00 Y:00 P:2F SP:FB PPU:  4,274 CYC:546
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc92f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C92F  EA        NOP                             A:69 X:00 Y:00 P:2F SP:FB PPU:  4,283 CYC:549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc930, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C930  38        SEC                             A:69 X:00 Y:00 P:2F SP:FB PPU:  4,289 CYC:551
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc931, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C931  F8        SED                             A:69 X:00 Y:00 P:2F SP:FB PPU:  4,295 CYC:553
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc932, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C932  24 01     BIT $01 = FF                    A:69 X:00 Y:00 P:2F SP:FB PPU:  4,301 CYC:555
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc934, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C934  A9 01     LDA #$01                        A:69 X:00 Y:00 P:ED SP:FB PPU:  4,310 CYC:558
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc936, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C936  69 69     ADC #$69                        A:01 X:00 Y:00 P:6D SP:FB PPU:  4,316 CYC:560
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc938, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C938  30 0B     BMI $C945                       A:6B X:00 Y:00 P:2C SP:FB PPU:  4,322 CYC:562
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc93a, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C93A  B0 09     BCS $C945                       A:6B X:00 Y:00 P:2C SP:FB PPU:  4,328 CYC:564
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc93c, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2c, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C93C  C9 6B     CMP #$6B                        A:6B X:00 Y:00 P:2C SP:FB PPU:  4,334 CYC:566
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc93e, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C93E  D0 05     BNE $C945                       A:6B X:00 Y:00 P:2F SP:FB PPU:  4,340 CYC:568
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc940, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C940  70 03     BVS $C945                       A:6B X:00 Y:00 P:2F SP:FB PPU:  5,  5 CYC:570
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc942, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C942  4C 49 C9  JMP $C949                       A:6B X:00 Y:00 P:2F SP:FB PPU:  5, 11 CYC:572
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc949, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C949  EA        NOP                             A:6B X:00 Y:00 P:2F SP:FB PPU:  5, 20 CYC:575
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc94a, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x2f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C94A  D8        CLD                             A:6B X:00 Y:00 P:2F SP:FB PPU:  5, 26 CYC:577
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc94b, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C94B  38        SEC                             A:6B X:00 Y:00 P:27 SP:FB PPU:  5, 32 CYC:579
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc94c, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C94C  B8        CLV                             A:6B X:00 Y:00 P:27 SP:FB PPU:  5, 38 CYC:581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc94d, cpu.pc);
    try expectEqual(0x6b, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C94D  A9 7F     LDA #$7F                        A:6B X:00 Y:00 P:27 SP:FB PPU:  5, 44 CYC:583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc94f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C94F  69 7F     ADC #$7F                        A:7F X:00 Y:00 P:25 SP:FB PPU:  5, 50 CYC:585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc951, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C951  10 0B     BPL $C95E                       A:FF X:00 Y:00 P:E4 SP:FB PPU:  5, 56 CYC:587
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc953, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C953  B0 09     BCS $C95E                       A:FF X:00 Y:00 P:E4 SP:FB PPU:  5, 62 CYC:589
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc955, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C955  C9 FF     CMP #$FF                        A:FF X:00 Y:00 P:E4 SP:FB PPU:  5, 68 CYC:591
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc957, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C957  D0 05     BNE $C95E                       A:FF X:00 Y:00 P:67 SP:FB PPU:  5, 74 CYC:593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc959, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C959  50 03     BVC $C95E                       A:FF X:00 Y:00 P:67 SP:FB PPU:  5, 80 CYC:595
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc95b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C95B  4C 62 C9  JMP $C962                       A:FF X:00 Y:00 P:67 SP:FB PPU:  5, 86 CYC:597
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C962  EA        NOP                             A:FF X:00 Y:00 P:67 SP:FB PPU:  5, 95 CYC:600
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc963, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C963  18        CLC                             A:FF X:00 Y:00 P:67 SP:FB PPU:  5,101 CYC:602
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C964  24 01     BIT $01 = FF                    A:FF X:00 Y:00 P:66 SP:FB PPU:  5,107 CYC:604
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C966  A9 7F     LDA #$7F                        A:FF X:00 Y:00 P:E4 SP:FB PPU:  5,116 CYC:607
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc968, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C968  69 80     ADC #$80                        A:7F X:00 Y:00 P:64 SP:FB PPU:  5,122 CYC:609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C96A  10 0B     BPL $C977                       A:FF X:00 Y:00 P:A4 SP:FB PPU:  5,128 CYC:611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C96C  B0 09     BCS $C977                       A:FF X:00 Y:00 P:A4 SP:FB PPU:  5,134 CYC:613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C96E  C9 FF     CMP #$FF                        A:FF X:00 Y:00 P:A4 SP:FB PPU:  5,140 CYC:615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc970, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C970  D0 05     BNE $C977                       A:FF X:00 Y:00 P:27 SP:FB PPU:  5,146 CYC:617
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc972, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C972  70 03     BVS $C977                       A:FF X:00 Y:00 P:27 SP:FB PPU:  5,152 CYC:619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc974, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C974  4C 7B C9  JMP $C97B                       A:FF X:00 Y:00 P:27 SP:FB PPU:  5,158 CYC:621
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc97b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C97B  EA        NOP                             A:FF X:00 Y:00 P:27 SP:FB PPU:  5,167 CYC:624
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc97c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C97C  38        SEC                             A:FF X:00 Y:00 P:27 SP:FB PPU:  5,173 CYC:626
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc97d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C97D  B8        CLV                             A:FF X:00 Y:00 P:27 SP:FB PPU:  5,179 CYC:628
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc97e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C97E  A9 7F     LDA #$7F                        A:FF X:00 Y:00 P:27 SP:FB PPU:  5,185 CYC:630
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C980  69 80     ADC #$80                        A:7F X:00 Y:00 P:25 SP:FB PPU:  5,191 CYC:632
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc982, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C982  D0 09     BNE $C98D                       A:00 X:00 Y:00 P:27 SP:FB PPU:  5,197 CYC:634
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc984, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C984  30 07     BMI $C98D                       A:00 X:00 Y:00 P:27 SP:FB PPU:  5,203 CYC:636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc986, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C986  70 05     BVS $C98D                       A:00 X:00 Y:00 P:27 SP:FB PPU:  5,209 CYC:638
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc988, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C988  90 03     BCC $C98D                       A:00 X:00 Y:00 P:27 SP:FB PPU:  5,215 CYC:640
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc98a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C98A  4C 91 C9  JMP $C991                       A:00 X:00 Y:00 P:27 SP:FB PPU:  5,221 CYC:642
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc991, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C991  EA        NOP                             A:00 X:00 Y:00 P:27 SP:FB PPU:  5,230 CYC:645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc992, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C992  38        SEC                             A:00 X:00 Y:00 P:27 SP:FB PPU:  5,236 CYC:647
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc993, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C993  B8        CLV                             A:00 X:00 Y:00 P:27 SP:FB PPU:  5,242 CYC:649
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc994, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C994  A9 9F     LDA #$9F                        A:00 X:00 Y:00 P:27 SP:FB PPU:  5,248 CYC:651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc996, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C996  F0 09     BEQ $C9A1                       A:9F X:00 Y:00 P:A5 SP:FB PPU:  5,254 CYC:653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc998, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C998  10 07     BPL $C9A1                       A:9F X:00 Y:00 P:A5 SP:FB PPU:  5,260 CYC:655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc99a, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C99A  70 05     BVS $C9A1                       A:9F X:00 Y:00 P:A5 SP:FB PPU:  5,266 CYC:657
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc99c, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C99C  90 03     BCC $C9A1                       A:9F X:00 Y:00 P:A5 SP:FB PPU:  5,272 CYC:659
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc99e, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C99E  4C A5 C9  JMP $C9A5                       A:9F X:00 Y:00 P:A5 SP:FB PPU:  5,278 CYC:661
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc9a5, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9A5  EA        NOP                             A:9F X:00 Y:00 P:A5 SP:FB PPU:  5,287 CYC:664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9a6, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9A6  18        CLC                             A:9F X:00 Y:00 P:A5 SP:FB PPU:  5,293 CYC:666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9a7, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9A7  24 01     BIT $01 = FF                    A:9F X:00 Y:00 P:A4 SP:FB PPU:  5,299 CYC:668
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc9a9, cpu.pc);
    try expectEqual(0x9f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9A9  A9 00     LDA #$00                        A:9F X:00 Y:00 P:E4 SP:FB PPU:  5,308 CYC:671
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9ab, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9AB  D0 09     BNE $C9B6                       A:00 X:00 Y:00 P:66 SP:FB PPU:  5,314 CYC:673
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9ad, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9AD  30 07     BMI $C9B6                       A:00 X:00 Y:00 P:66 SP:FB PPU:  5,320 CYC:675
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9af, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9AF  50 05     BVC $C9B6                       A:00 X:00 Y:00 P:66 SP:FB PPU:  5,326 CYC:677
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9b1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9B1  B0 03     BCS $C9B6                       A:00 X:00 Y:00 P:66 SP:FB PPU:  5,332 CYC:679
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9b3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9B3  4C BA C9  JMP $C9BA                       A:00 X:00 Y:00 P:66 SP:FB PPU:  5,338 CYC:681
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc9ba, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9BA  EA        NOP                             A:00 X:00 Y:00 P:66 SP:FB PPU:  6,  6 CYC:684
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9bb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9BB  24 01     BIT $01 = FF                    A:00 X:00 Y:00 P:66 SP:FB PPU:  6, 12 CYC:686
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc9bd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9BD  A9 40     LDA #$40                        A:00 X:00 Y:00 P:E6 SP:FB PPU:  6, 21 CYC:689
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9bf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9BF  C9 40     CMP #$40                        A:40 X:00 Y:00 P:64 SP:FB PPU:  6, 27 CYC:691
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9c1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9C1  30 09     BMI $C9CC                       A:40 X:00 Y:00 P:67 SP:FB PPU:  6, 33 CYC:693
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9c3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9C3  90 07     BCC $C9CC                       A:40 X:00 Y:00 P:67 SP:FB PPU:  6, 39 CYC:695
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9c5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9C5  D0 05     BNE $C9CC                       A:40 X:00 Y:00 P:67 SP:FB PPU:  6, 45 CYC:697
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9c7, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9C7  50 03     BVC $C9CC                       A:40 X:00 Y:00 P:67 SP:FB PPU:  6, 51 CYC:699
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9c9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9C9  4C D0 C9  JMP $C9D0                       A:40 X:00 Y:00 P:67 SP:FB PPU:  6, 57 CYC:701
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc9d0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9D0  EA        NOP                             A:40 X:00 Y:00 P:67 SP:FB PPU:  6, 66 CYC:704
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9d1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9D1  B8        CLV                             A:40 X:00 Y:00 P:67 SP:FB PPU:  6, 72 CYC:706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9d2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9D2  C9 3F     CMP #$3F                        A:40 X:00 Y:00 P:27 SP:FB PPU:  6, 78 CYC:708
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9d4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9D4  F0 09     BEQ $C9DF                       A:40 X:00 Y:00 P:25 SP:FB PPU:  6, 84 CYC:710
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9d6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9D6  30 07     BMI $C9DF                       A:40 X:00 Y:00 P:25 SP:FB PPU:  6, 90 CYC:712
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9d8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9D8  90 05     BCC $C9DF                       A:40 X:00 Y:00 P:25 SP:FB PPU:  6, 96 CYC:714
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9da, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9DA  70 03     BVS $C9DF                       A:40 X:00 Y:00 P:25 SP:FB PPU:  6,102 CYC:716
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9dc, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9DC  4C E3 C9  JMP $C9E3                       A:40 X:00 Y:00 P:25 SP:FB PPU:  6,108 CYC:718
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc9e3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9E3  EA        NOP                             A:40 X:00 Y:00 P:25 SP:FB PPU:  6,117 CYC:721
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9e4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9E4  C9 41     CMP #$41                        A:40 X:00 Y:00 P:25 SP:FB PPU:  6,123 CYC:723
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9e6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9E6  F0 07     BEQ $C9EF                       A:40 X:00 Y:00 P:A4 SP:FB PPU:  6,129 CYC:725
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9e8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9E8  10 05     BPL $C9EF                       A:40 X:00 Y:00 P:A4 SP:FB PPU:  6,135 CYC:727
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9ea, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9EA  10 03     BPL $C9EF                       A:40 X:00 Y:00 P:A4 SP:FB PPU:  6,141 CYC:729
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9ec, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9EC  4C F3 C9  JMP $C9F3                       A:40 X:00 Y:00 P:A4 SP:FB PPU:  6,147 CYC:731
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc9f3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9F3  EA        NOP                             A:40 X:00 Y:00 P:A4 SP:FB PPU:  6,156 CYC:734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9f4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9F4  A9 80     LDA #$80                        A:40 X:00 Y:00 P:A4 SP:FB PPU:  6,162 CYC:736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9f6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9F6  C9 00     CMP #$00                        A:80 X:00 Y:00 P:A4 SP:FB PPU:  6,168 CYC:738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9f8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9F8  F0 07     BEQ $CA01                       A:80 X:00 Y:00 P:A5 SP:FB PPU:  6,174 CYC:740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9fa, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9FA  10 05     BPL $CA01                       A:80 X:00 Y:00 P:A5 SP:FB PPU:  6,180 CYC:742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9fc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9FC  90 03     BCC $CA01                       A:80 X:00 Y:00 P:A5 SP:FB PPU:  6,186 CYC:744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc9fe, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C9FE  4C 05 CA  JMP $CA05                       A:80 X:00 Y:00 P:A5 SP:FB PPU:  6,192 CYC:746
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca05, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA05  EA        NOP                             A:80 X:00 Y:00 P:A5 SP:FB PPU:  6,201 CYC:749
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca06, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA06  C9 80     CMP #$80                        A:80 X:00 Y:00 P:A5 SP:FB PPU:  6,207 CYC:751
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca08, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA08  D0 07     BNE $CA11                       A:80 X:00 Y:00 P:27 SP:FB PPU:  6,213 CYC:753
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca0a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA0A  30 05     BMI $CA11                       A:80 X:00 Y:00 P:27 SP:FB PPU:  6,219 CYC:755
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca0c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA0C  90 03     BCC $CA11                       A:80 X:00 Y:00 P:27 SP:FB PPU:  6,225 CYC:757
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca0e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA0E  4C 15 CA  JMP $CA15                       A:80 X:00 Y:00 P:27 SP:FB PPU:  6,231 CYC:759
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca15, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA15  EA        NOP                             A:80 X:00 Y:00 P:27 SP:FB PPU:  6,240 CYC:762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca16, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA16  C9 81     CMP #$81                        A:80 X:00 Y:00 P:27 SP:FB PPU:  6,246 CYC:764
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca18, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA18  B0 07     BCS $CA21                       A:80 X:00 Y:00 P:A4 SP:FB PPU:  6,252 CYC:766
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca1a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA1A  F0 05     BEQ $CA21                       A:80 X:00 Y:00 P:A4 SP:FB PPU:  6,258 CYC:768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca1c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA1C  10 03     BPL $CA21                       A:80 X:00 Y:00 P:A4 SP:FB PPU:  6,264 CYC:770
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca1e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA1E  4C 25 CA  JMP $CA25                       A:80 X:00 Y:00 P:A4 SP:FB PPU:  6,270 CYC:772
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca25, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA25  EA        NOP                             A:80 X:00 Y:00 P:A4 SP:FB PPU:  6,279 CYC:775
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca26, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA26  C9 7F     CMP #$7F                        A:80 X:00 Y:00 P:A4 SP:FB PPU:  6,285 CYC:777
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca28, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA28  90 07     BCC $CA31                       A:80 X:00 Y:00 P:25 SP:FB PPU:  6,291 CYC:779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca2a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA2A  F0 05     BEQ $CA31                       A:80 X:00 Y:00 P:25 SP:FB PPU:  6,297 CYC:781
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca2c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA2C  30 03     BMI $CA31                       A:80 X:00 Y:00 P:25 SP:FB PPU:  6,303 CYC:783
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca2e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA2E  4C 35 CA  JMP $CA35                       A:80 X:00 Y:00 P:25 SP:FB PPU:  6,309 CYC:785
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca35, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA35  EA        NOP                             A:80 X:00 Y:00 P:25 SP:FB PPU:  6,318 CYC:788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca36, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA36  24 01     BIT $01 = FF                    A:80 X:00 Y:00 P:25 SP:FB PPU:  6,324 CYC:790
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca38, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA38  A0 40     LDY #$40                        A:80 X:00 Y:00 P:E5 SP:FB PPU:  6,333 CYC:793
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca3a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA3A  C0 40     CPY #$40                        A:80 X:00 Y:40 P:65 SP:FB PPU:  6,339 CYC:795
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca3c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA3C  D0 09     BNE $CA47                       A:80 X:00 Y:40 P:67 SP:FB PPU:  7,  4 CYC:797
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca3e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA3E  30 07     BMI $CA47                       A:80 X:00 Y:40 P:67 SP:FB PPU:  7, 10 CYC:799
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca40, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA40  90 05     BCC $CA47                       A:80 X:00 Y:40 P:67 SP:FB PPU:  7, 16 CYC:801
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca42, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA42  50 03     BVC $CA47                       A:80 X:00 Y:40 P:67 SP:FB PPU:  7, 22 CYC:803
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca44, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA44  4C 4B CA  JMP $CA4B                       A:80 X:00 Y:40 P:67 SP:FB PPU:  7, 28 CYC:805
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca4b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA4B  EA        NOP                             A:80 X:00 Y:40 P:67 SP:FB PPU:  7, 37 CYC:808
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca4c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA4C  B8        CLV                             A:80 X:00 Y:40 P:67 SP:FB PPU:  7, 43 CYC:810
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca4d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA4D  C0 3F     CPY #$3F                        A:80 X:00 Y:40 P:27 SP:FB PPU:  7, 49 CYC:812
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca4f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA4F  F0 09     BEQ $CA5A                       A:80 X:00 Y:40 P:25 SP:FB PPU:  7, 55 CYC:814
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca51, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA51  30 07     BMI $CA5A                       A:80 X:00 Y:40 P:25 SP:FB PPU:  7, 61 CYC:816
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca53, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA53  90 05     BCC $CA5A                       A:80 X:00 Y:40 P:25 SP:FB PPU:  7, 67 CYC:818
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca55, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA55  70 03     BVS $CA5A                       A:80 X:00 Y:40 P:25 SP:FB PPU:  7, 73 CYC:820
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca57, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA57  4C 5E CA  JMP $CA5E                       A:80 X:00 Y:40 P:25 SP:FB PPU:  7, 79 CYC:822
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca5e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA5E  EA        NOP                             A:80 X:00 Y:40 P:25 SP:FB PPU:  7, 88 CYC:825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca5f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA5F  C0 41     CPY #$41                        A:80 X:00 Y:40 P:25 SP:FB PPU:  7, 94 CYC:827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca61, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA61  F0 07     BEQ $CA6A                       A:80 X:00 Y:40 P:A4 SP:FB PPU:  7,100 CYC:829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca63, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA63  10 05     BPL $CA6A                       A:80 X:00 Y:40 P:A4 SP:FB PPU:  7,106 CYC:831
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca65, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA65  10 03     BPL $CA6A                       A:80 X:00 Y:40 P:A4 SP:FB PPU:  7,112 CYC:833
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca67, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA67  4C 6E CA  JMP $CA6E                       A:80 X:00 Y:40 P:A4 SP:FB PPU:  7,118 CYC:835
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca6e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA6E  EA        NOP                             A:80 X:00 Y:40 P:A4 SP:FB PPU:  7,127 CYC:838
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca6f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA6F  A0 80     LDY #$80                        A:80 X:00 Y:40 P:A4 SP:FB PPU:  7,133 CYC:840
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca71, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA71  C0 00     CPY #$00                        A:80 X:00 Y:80 P:A4 SP:FB PPU:  7,139 CYC:842
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca73, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA73  F0 07     BEQ $CA7C                       A:80 X:00 Y:80 P:A5 SP:FB PPU:  7,145 CYC:844
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca75, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA75  10 05     BPL $CA7C                       A:80 X:00 Y:80 P:A5 SP:FB PPU:  7,151 CYC:846
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca77, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA77  90 03     BCC $CA7C                       A:80 X:00 Y:80 P:A5 SP:FB PPU:  7,157 CYC:848
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca79, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA79  4C 80 CA  JMP $CA80                       A:80 X:00 Y:80 P:A5 SP:FB PPU:  7,163 CYC:850
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca80, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA80  EA        NOP                             A:80 X:00 Y:80 P:A5 SP:FB PPU:  7,172 CYC:853
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca81, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA81  C0 80     CPY #$80                        A:80 X:00 Y:80 P:A5 SP:FB PPU:  7,178 CYC:855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca83, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA83  D0 07     BNE $CA8C                       A:80 X:00 Y:80 P:27 SP:FB PPU:  7,184 CYC:857
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca85, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA85  30 05     BMI $CA8C                       A:80 X:00 Y:80 P:27 SP:FB PPU:  7,190 CYC:859
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca87, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA87  90 03     BCC $CA8C                       A:80 X:00 Y:80 P:27 SP:FB PPU:  7,196 CYC:861
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca89, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA89  4C 90 CA  JMP $CA90                       A:80 X:00 Y:80 P:27 SP:FB PPU:  7,202 CYC:863
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xca90, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA90  EA        NOP                             A:80 X:00 Y:80 P:27 SP:FB PPU:  7,211 CYC:866
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca91, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA91  C0 81     CPY #$81                        A:80 X:00 Y:80 P:27 SP:FB PPU:  7,217 CYC:868
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca93, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA93  B0 07     BCS $CA9C                       A:80 X:00 Y:80 P:A4 SP:FB PPU:  7,223 CYC:870
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca95, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA95  F0 05     BEQ $CA9C                       A:80 X:00 Y:80 P:A4 SP:FB PPU:  7,229 CYC:872
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca97, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA97  10 03     BPL $CA9C                       A:80 X:00 Y:80 P:A4 SP:FB PPU:  7,235 CYC:874
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xca99, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CA99  4C A0 CA  JMP $CAA0                       A:80 X:00 Y:80 P:A4 SP:FB PPU:  7,241 CYC:876
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcaa0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAA0  EA        NOP                             A:80 X:00 Y:80 P:A4 SP:FB PPU:  7,250 CYC:879
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaa1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAA1  C0 7F     CPY #$7F                        A:80 X:00 Y:80 P:A4 SP:FB PPU:  7,256 CYC:881
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaa3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAA3  90 07     BCC $CAAC                       A:80 X:00 Y:80 P:25 SP:FB PPU:  7,262 CYC:883
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaa5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAA5  F0 05     BEQ $CAAC                       A:80 X:00 Y:80 P:25 SP:FB PPU:  7,268 CYC:885
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaa7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAA7  30 03     BMI $CAAC                       A:80 X:00 Y:80 P:25 SP:FB PPU:  7,274 CYC:887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaa9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAA9  4C B0 CA  JMP $CAB0                       A:80 X:00 Y:80 P:25 SP:FB PPU:  7,280 CYC:889
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcab0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAB0  EA        NOP                             A:80 X:00 Y:80 P:25 SP:FB PPU:  7,289 CYC:892
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcab1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAB1  24 01     BIT $01 = FF                    A:80 X:00 Y:80 P:25 SP:FB PPU:  7,295 CYC:894
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcab3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAB3  A2 40     LDX #$40                        A:80 X:00 Y:80 P:E5 SP:FB PPU:  7,304 CYC:897
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcab5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAB5  E0 40     CPX #$40                        A:80 X:40 Y:80 P:65 SP:FB PPU:  7,310 CYC:899
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcab7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAB7  D0 09     BNE $CAC2                       A:80 X:40 Y:80 P:67 SP:FB PPU:  7,316 CYC:901
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcab9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAB9  30 07     BMI $CAC2                       A:80 X:40 Y:80 P:67 SP:FB PPU:  7,322 CYC:903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcabb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CABB  90 05     BCC $CAC2                       A:80 X:40 Y:80 P:67 SP:FB PPU:  7,328 CYC:905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcabd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CABD  50 03     BVC $CAC2                       A:80 X:40 Y:80 P:67 SP:FB PPU:  7,334 CYC:907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcabf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CABF  4C C6 CA  JMP $CAC6                       A:80 X:40 Y:80 P:67 SP:FB PPU:  7,340 CYC:909
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcac6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAC6  EA        NOP                             A:80 X:40 Y:80 P:67 SP:FB PPU:  8,  8 CYC:912
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcac7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAC7  B8        CLV                             A:80 X:40 Y:80 P:67 SP:FB PPU:  8, 14 CYC:914
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcac8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAC8  E0 3F     CPX #$3F                        A:80 X:40 Y:80 P:27 SP:FB PPU:  8, 20 CYC:916
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaca, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CACA  F0 09     BEQ $CAD5                       A:80 X:40 Y:80 P:25 SP:FB PPU:  8, 26 CYC:918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcacc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CACC  30 07     BMI $CAD5                       A:80 X:40 Y:80 P:25 SP:FB PPU:  8, 32 CYC:920
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcace, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CACE  90 05     BCC $CAD5                       A:80 X:40 Y:80 P:25 SP:FB PPU:  8, 38 CYC:922
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcad0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAD0  70 03     BVS $CAD5                       A:80 X:40 Y:80 P:25 SP:FB PPU:  8, 44 CYC:924
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcad2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAD2  4C D9 CA  JMP $CAD9                       A:80 X:40 Y:80 P:25 SP:FB PPU:  8, 50 CYC:926
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcad9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAD9  EA        NOP                             A:80 X:40 Y:80 P:25 SP:FB PPU:  8, 59 CYC:929
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcada, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CADA  E0 41     CPX #$41                        A:80 X:40 Y:80 P:25 SP:FB PPU:  8, 65 CYC:931
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcadc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CADC  F0 07     BEQ $CAE5                       A:80 X:40 Y:80 P:A4 SP:FB PPU:  8, 71 CYC:933
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcade, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CADE  10 05     BPL $CAE5                       A:80 X:40 Y:80 P:A4 SP:FB PPU:  8, 77 CYC:935
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcae0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAE0  10 03     BPL $CAE5                       A:80 X:40 Y:80 P:A4 SP:FB PPU:  8, 83 CYC:937
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcae2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAE2  4C E9 CA  JMP $CAE9                       A:80 X:40 Y:80 P:A4 SP:FB PPU:  8, 89 CYC:939
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcae9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAE9  EA        NOP                             A:80 X:40 Y:80 P:A4 SP:FB PPU:  8, 98 CYC:942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaea, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAEA  A2 80     LDX #$80                        A:80 X:40 Y:80 P:A4 SP:FB PPU:  8,104 CYC:944
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAEC  E0 00     CPX #$00                        A:80 X:80 Y:80 P:A4 SP:FB PPU:  8,110 CYC:946
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAEE  F0 07     BEQ $CAF7                       A:80 X:80 Y:80 P:A5 SP:FB PPU:  8,116 CYC:948
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaf0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAF0  10 05     BPL $CAF7                       A:80 X:80 Y:80 P:A5 SP:FB PPU:  8,122 CYC:950
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaf2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAF2  90 03     BCC $CAF7                       A:80 X:80 Y:80 P:A5 SP:FB PPU:  8,128 CYC:952
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcaf4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAF4  4C FB CA  JMP $CAFB                       A:80 X:80 Y:80 P:A5 SP:FB PPU:  8,134 CYC:954
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcafb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAFB  EA        NOP                             A:80 X:80 Y:80 P:A5 SP:FB PPU:  8,143 CYC:957
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcafc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAFC  E0 80     CPX #$80                        A:80 X:80 Y:80 P:A5 SP:FB PPU:  8,149 CYC:959
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcafe, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CAFE  D0 07     BNE $CB07                       A:80 X:80 Y:80 P:27 SP:FB PPU:  8,155 CYC:961
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb00, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB00  30 05     BMI $CB07                       A:80 X:80 Y:80 P:27 SP:FB PPU:  8,161 CYC:963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb02, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB02  90 03     BCC $CB07                       A:80 X:80 Y:80 P:27 SP:FB PPU:  8,167 CYC:965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb04, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB04  4C 0B CB  JMP $CB0B                       A:80 X:80 Y:80 P:27 SP:FB PPU:  8,173 CYC:967
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb0b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB0B  EA        NOP                             A:80 X:80 Y:80 P:27 SP:FB PPU:  8,182 CYC:970
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb0c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB0C  E0 81     CPX #$81                        A:80 X:80 Y:80 P:27 SP:FB PPU:  8,188 CYC:972
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb0e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB0E  B0 07     BCS $CB17                       A:80 X:80 Y:80 P:A4 SP:FB PPU:  8,194 CYC:974
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb10, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB10  F0 05     BEQ $CB17                       A:80 X:80 Y:80 P:A4 SP:FB PPU:  8,200 CYC:976
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb12, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB12  10 03     BPL $CB17                       A:80 X:80 Y:80 P:A4 SP:FB PPU:  8,206 CYC:978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb14, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB14  4C 1B CB  JMP $CB1B                       A:80 X:80 Y:80 P:A4 SP:FB PPU:  8,212 CYC:980
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb1b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB1B  EA        NOP                             A:80 X:80 Y:80 P:A4 SP:FB PPU:  8,221 CYC:983
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb1c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB1C  E0 7F     CPX #$7F                        A:80 X:80 Y:80 P:A4 SP:FB PPU:  8,227 CYC:985
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb1e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB1E  90 07     BCC $CB27                       A:80 X:80 Y:80 P:25 SP:FB PPU:  8,233 CYC:987
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb20, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB20  F0 05     BEQ $CB27                       A:80 X:80 Y:80 P:25 SP:FB PPU:  8,239 CYC:989
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb22, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB22  30 03     BMI $CB27                       A:80 X:80 Y:80 P:25 SP:FB PPU:  8,245 CYC:991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb24, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB24  4C 2B CB  JMP $CB2B                       A:80 X:80 Y:80 P:25 SP:FB PPU:  8,251 CYC:993
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb2b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB2B  EA        NOP                             A:80 X:80 Y:80 P:25 SP:FB PPU:  8,260 CYC:996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb2c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB2C  38        SEC                             A:80 X:80 Y:80 P:25 SP:FB PPU:  8,266 CYC:998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb2d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB2D  B8        CLV                             A:80 X:80 Y:80 P:25 SP:FB PPU:  8,272 CYC:1000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb2e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB2E  A2 9F     LDX #$9F                        A:80 X:80 Y:80 P:25 SP:FB PPU:  8,278 CYC:1002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb30, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB30  F0 09     BEQ $CB3B                       A:80 X:9F Y:80 P:A5 SP:FB PPU:  8,284 CYC:1004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb32, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB32  10 07     BPL $CB3B                       A:80 X:9F Y:80 P:A5 SP:FB PPU:  8,290 CYC:1006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb34, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB34  70 05     BVS $CB3B                       A:80 X:9F Y:80 P:A5 SP:FB PPU:  8,296 CYC:1008
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb36, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB36  90 03     BCC $CB3B                       A:80 X:9F Y:80 P:A5 SP:FB PPU:  8,302 CYC:1010
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb38, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB38  4C 3F CB  JMP $CB3F                       A:80 X:9F Y:80 P:A5 SP:FB PPU:  8,308 CYC:1012
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb3f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB3F  EA        NOP                             A:80 X:9F Y:80 P:A5 SP:FB PPU:  8,317 CYC:1015
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb40, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB40  18        CLC                             A:80 X:9F Y:80 P:A5 SP:FB PPU:  8,323 CYC:1017
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb41, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB41  24 01     BIT $01 = FF                    A:80 X:9F Y:80 P:A4 SP:FB PPU:  8,329 CYC:1019
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb43, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB43  A2 00     LDX #$00                        A:80 X:9F Y:80 P:E4 SP:FB PPU:  8,338 CYC:1022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb45, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB45  D0 09     BNE $CB50                       A:80 X:00 Y:80 P:66 SP:FB PPU:  9,  3 CYC:1024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb47, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB47  30 07     BMI $CB50                       A:80 X:00 Y:80 P:66 SP:FB PPU:  9,  9 CYC:1026
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb49, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB49  50 05     BVC $CB50                       A:80 X:00 Y:80 P:66 SP:FB PPU:  9, 15 CYC:1028
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb4b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB4B  B0 03     BCS $CB50                       A:80 X:00 Y:80 P:66 SP:FB PPU:  9, 21 CYC:1030
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb4d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB4D  4C 54 CB  JMP $CB54                       A:80 X:00 Y:80 P:66 SP:FB PPU:  9, 27 CYC:1032
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb54, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB54  EA        NOP                             A:80 X:00 Y:80 P:66 SP:FB PPU:  9, 36 CYC:1035
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb55, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB55  38        SEC                             A:80 X:00 Y:80 P:66 SP:FB PPU:  9, 42 CYC:1037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb56, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB56  B8        CLV                             A:80 X:00 Y:80 P:67 SP:FB PPU:  9, 48 CYC:1039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb57, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB57  A0 9F     LDY #$9F                        A:80 X:00 Y:80 P:27 SP:FB PPU:  9, 54 CYC:1041
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb59, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB59  F0 09     BEQ $CB64                       A:80 X:00 Y:9F P:A5 SP:FB PPU:  9, 60 CYC:1043
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb5b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB5B  10 07     BPL $CB64                       A:80 X:00 Y:9F P:A5 SP:FB PPU:  9, 66 CYC:1045
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb5d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB5D  70 05     BVS $CB64                       A:80 X:00 Y:9F P:A5 SP:FB PPU:  9, 72 CYC:1047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb5f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB5F  90 03     BCC $CB64                       A:80 X:00 Y:9F P:A5 SP:FB PPU:  9, 78 CYC:1049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb61, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB61  4C 68 CB  JMP $CB68                       A:80 X:00 Y:9F P:A5 SP:FB PPU:  9, 84 CYC:1051
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb68, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB68  EA        NOP                             A:80 X:00 Y:9F P:A5 SP:FB PPU:  9, 93 CYC:1054
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb69, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB69  18        CLC                             A:80 X:00 Y:9F P:A5 SP:FB PPU:  9, 99 CYC:1056
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb6a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB6A  24 01     BIT $01 = FF                    A:80 X:00 Y:9F P:A4 SP:FB PPU:  9,105 CYC:1058
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb6c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB6C  A0 00     LDY #$00                        A:80 X:00 Y:9F P:E4 SP:FB PPU:  9,114 CYC:1061
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb6e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB6E  D0 09     BNE $CB79                       A:80 X:00 Y:00 P:66 SP:FB PPU:  9,120 CYC:1063
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb70, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB70  30 07     BMI $CB79                       A:80 X:00 Y:00 P:66 SP:FB PPU:  9,126 CYC:1065
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb72, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB72  50 05     BVC $CB79                       A:80 X:00 Y:00 P:66 SP:FB PPU:  9,132 CYC:1067
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb74, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB74  B0 03     BCS $CB79                       A:80 X:00 Y:00 P:66 SP:FB PPU:  9,138 CYC:1069
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb76, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB76  4C 7D CB  JMP $CB7D                       A:80 X:00 Y:00 P:66 SP:FB PPU:  9,144 CYC:1071
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcb7d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB7D  EA        NOP                             A:80 X:00 Y:00 P:66 SP:FB PPU:  9,153 CYC:1074
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb7e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB7E  A9 55     LDA #$55                        A:80 X:00 Y:00 P:66 SP:FB PPU:  9,159 CYC:1076
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb80, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB80  A2 AA     LDX #$AA                        A:55 X:00 Y:00 P:64 SP:FB PPU:  9,165 CYC:1078
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb82, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB82  A0 33     LDY #$33                        A:55 X:AA Y:00 P:E4 SP:FB PPU:  9,171 CYC:1080
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb84, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB84  C9 55     CMP #$55                        A:55 X:AA Y:33 P:64 SP:FB PPU:  9,177 CYC:1082
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb86, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB86  D0 23     BNE $CBAB                       A:55 X:AA Y:33 P:67 SP:FB PPU:  9,183 CYC:1084
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb88, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB88  E0 AA     CPX #$AA                        A:55 X:AA Y:33 P:67 SP:FB PPU:  9,189 CYC:1086
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb8a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB8A  D0 1F     BNE $CBAB                       A:55 X:AA Y:33 P:67 SP:FB PPU:  9,195 CYC:1088
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb8c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB8C  C0 33     CPY #$33                        A:55 X:AA Y:33 P:67 SP:FB PPU:  9,201 CYC:1090
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb8e, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB8E  D0 1B     BNE $CBAB                       A:55 X:AA Y:33 P:67 SP:FB PPU:  9,207 CYC:1092
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb90, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB90  C9 55     CMP #$55                        A:55 X:AA Y:33 P:67 SP:FB PPU:  9,213 CYC:1094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb92, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB92  D0 17     BNE $CBAB                       A:55 X:AA Y:33 P:67 SP:FB PPU:  9,219 CYC:1096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb94, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB94  E0 AA     CPX #$AA                        A:55 X:AA Y:33 P:67 SP:FB PPU:  9,225 CYC:1098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb96, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB96  D0 13     BNE $CBAB                       A:55 X:AA Y:33 P:67 SP:FB PPU:  9,231 CYC:1100
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb98, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB98  C0 33     CPY #$33                        A:55 X:AA Y:33 P:67 SP:FB PPU:  9,237 CYC:1102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb9a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB9A  D0 0F     BNE $CBAB                       A:55 X:AA Y:33 P:67 SP:FB PPU:  9,243 CYC:1104
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb9c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB9C  C9 56     CMP #$56                        A:55 X:AA Y:33 P:67 SP:FB PPU:  9,249 CYC:1106
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcb9e, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CB9E  F0 0B     BEQ $CBAB                       A:55 X:AA Y:33 P:E4 SP:FB PPU:  9,255 CYC:1108
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcba0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBA0  E0 AB     CPX #$AB                        A:55 X:AA Y:33 P:E4 SP:FB PPU:  9,261 CYC:1110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcba2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBA2  F0 07     BEQ $CBAB                       A:55 X:AA Y:33 P:E4 SP:FB PPU:  9,267 CYC:1112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcba4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBA4  C0 34     CPY #$34                        A:55 X:AA Y:33 P:E4 SP:FB PPU:  9,273 CYC:1114
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcba6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBA6  F0 03     BEQ $CBAB                       A:55 X:AA Y:33 P:E4 SP:FB PPU:  9,279 CYC:1116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcba8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBA8  4C AF CB  JMP $CBAF                       A:55 X:AA Y:33 P:E4 SP:FB PPU:  9,285 CYC:1118
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcbaf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBAF  A0 71     LDY #$71                        A:55 X:AA Y:33 P:E4 SP:FB PPU:  9,294 CYC:1121
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbb1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBB1  20 31 F9  JSR $F931                       A:55 X:AA Y:71 P:64 SP:FB PPU:  9,300 CYC:1123
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf931, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F931  24 01     BIT $01 = FF                    A:55 X:AA Y:71 P:64 SP:F9 PPU:  9,318 CYC:1129
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf933, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F933  A9 40     LDA #$40                        A:55 X:AA Y:71 P:E4 SP:F9 PPU:  9,327 CYC:1132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf935, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F935  38        SEC                             A:40 X:AA Y:71 P:64 SP:F9 PPU:  9,333 CYC:1134
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf936, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F936  60        RTS                             A:40 X:AA Y:71 P:65 SP:F9 PPU:  9,339 CYC:1136
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbb4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBB4  E9 40     SBC #$40                        A:40 X:AA Y:71 P:65 SP:FB PPU: 10, 16 CYC:1142
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbb6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBB6  20 37 F9  JSR $F937                       A:00 X:AA Y:71 P:27 SP:FB PPU: 10, 22 CYC:1144
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf937, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F937  30 0B     BMI $F944                       A:00 X:AA Y:71 P:27 SP:F9 PPU: 10, 40 CYC:1150
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf939, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F939  90 09     BCC $F944                       A:00 X:AA Y:71 P:27 SP:F9 PPU: 10, 46 CYC:1152
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93B  D0 07     BNE $F944                       A:00 X:AA Y:71 P:27 SP:F9 PPU: 10, 52 CYC:1154
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93D  70 05     BVS $F944                       A:00 X:AA Y:71 P:27 SP:F9 PPU: 10, 58 CYC:1156
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93F  C9 00     CMP #$00                        A:00 X:AA Y:71 P:27 SP:F9 PPU: 10, 64 CYC:1158
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf941, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F941  D0 01     BNE $F944                       A:00 X:AA Y:71 P:27 SP:F9 PPU: 10, 70 CYC:1160
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F943  60        RTS                             A:00 X:AA Y:71 P:27 SP:F9 PPU: 10, 76 CYC:1162
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbb9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBB9  C8        INY                             A:00 X:AA Y:71 P:27 SP:FB PPU: 10, 94 CYC:1168
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbba, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBBA  20 47 F9  JSR $F947                       A:00 X:AA Y:72 P:25 SP:FB PPU: 10,100 CYC:1170
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf947, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F947  B8        CLV                             A:00 X:AA Y:72 P:25 SP:F9 PPU: 10,118 CYC:1176
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf948, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F948  38        SEC                             A:00 X:AA Y:72 P:25 SP:F9 PPU: 10,124 CYC:1178
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf949, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F949  A9 40     LDA #$40                        A:00 X:AA Y:72 P:25 SP:F9 PPU: 10,130 CYC:1180
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94B  60        RTS                             A:40 X:AA Y:72 P:25 SP:F9 PPU: 10,136 CYC:1182
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbbd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBBD  E9 3F     SBC #$3F                        A:40 X:AA Y:72 P:25 SP:FB PPU: 10,154 CYC:1188
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbbf, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBBF  20 4C F9  JSR $F94C                       A:01 X:AA Y:72 P:25 SP:FB PPU: 10,160 CYC:1190
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf94c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94C  F0 0B     BEQ $F959                       A:01 X:AA Y:72 P:25 SP:F9 PPU: 10,178 CYC:1196
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94E  30 09     BMI $F959                       A:01 X:AA Y:72 P:25 SP:F9 PPU: 10,184 CYC:1198
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf950, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F950  90 07     BCC $F959                       A:01 X:AA Y:72 P:25 SP:F9 PPU: 10,190 CYC:1200
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf952, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F952  70 05     BVS $F959                       A:01 X:AA Y:72 P:25 SP:F9 PPU: 10,196 CYC:1202
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf954, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F954  C9 01     CMP #$01                        A:01 X:AA Y:72 P:25 SP:F9 PPU: 10,202 CYC:1204
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf956, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F956  D0 01     BNE $F959                       A:01 X:AA Y:72 P:27 SP:F9 PPU: 10,208 CYC:1206
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf958, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F958  60        RTS                             A:01 X:AA Y:72 P:27 SP:F9 PPU: 10,214 CYC:1208
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbc2, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBC2  C8        INY                             A:01 X:AA Y:72 P:27 SP:FB PPU: 10,232 CYC:1214
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbc3, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBC3  20 5C F9  JSR $F95C                       A:01 X:AA Y:73 P:25 SP:FB PPU: 10,238 CYC:1216
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf95c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95C  A9 40     LDA #$40                        A:01 X:AA Y:73 P:25 SP:F9 PPU: 10,256 CYC:1222
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95E  38        SEC                             A:40 X:AA Y:73 P:25 SP:F9 PPU: 10,262 CYC:1224
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95F  24 01     BIT $01 = FF                    A:40 X:AA Y:73 P:25 SP:F9 PPU: 10,268 CYC:1226
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf961, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F961  60        RTS                             A:40 X:AA Y:73 P:E5 SP:F9 PPU: 10,277 CYC:1229
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbc6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBC6  E9 41     SBC #$41                        A:40 X:AA Y:73 P:E5 SP:FB PPU: 10,295 CYC:1235
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbc8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBC8  20 62 F9  JSR $F962                       A:FF X:AA Y:73 P:A4 SP:FB PPU: 10,301 CYC:1237
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F962  B0 0B     BCS $F96F                       A:FF X:AA Y:73 P:A4 SP:F9 PPU: 10,319 CYC:1243
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F964  F0 09     BEQ $F96F                       A:FF X:AA Y:73 P:A4 SP:F9 PPU: 10,325 CYC:1245
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F966  10 07     BPL $F96F                       A:FF X:AA Y:73 P:A4 SP:F9 PPU: 10,331 CYC:1247
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf968, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F968  70 05     BVS $F96F                       A:FF X:AA Y:73 P:A4 SP:F9 PPU: 10,337 CYC:1249
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96A  C9 FF     CMP #$FF                        A:FF X:AA Y:73 P:A4 SP:F9 PPU: 11,  2 CYC:1251
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96C  D0 01     BNE $F96F                       A:FF X:AA Y:73 P:27 SP:F9 PPU: 11,  8 CYC:1253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96E  60        RTS                             A:FF X:AA Y:73 P:27 SP:F9 PPU: 11, 14 CYC:1255
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbcb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBCB  C8        INY                             A:FF X:AA Y:73 P:27 SP:FB PPU: 11, 32 CYC:1261
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbcc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBCC  20 72 F9  JSR $F972                       A:FF X:AA Y:74 P:25 SP:FB PPU: 11, 38 CYC:1263
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf972, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F972  18        CLC                             A:FF X:AA Y:74 P:25 SP:F9 PPU: 11, 56 CYC:1269
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf973, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F973  A9 80     LDA #$80                        A:FF X:AA Y:74 P:24 SP:F9 PPU: 11, 62 CYC:1271
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf975, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F975  60        RTS                             A:80 X:AA Y:74 P:A4 SP:F9 PPU: 11, 68 CYC:1273
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbcf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBCF  E9 00     SBC #$00                        A:80 X:AA Y:74 P:A4 SP:FB PPU: 11, 86 CYC:1279
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbd1, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBD1  20 76 F9  JSR $F976                       A:7F X:AA Y:74 P:65 SP:FB PPU: 11, 92 CYC:1281
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf976, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F976  90 05     BCC $F97D                       A:7F X:AA Y:74 P:65 SP:F9 PPU: 11,110 CYC:1287
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf978, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F978  C9 7F     CMP #$7F                        A:7F X:AA Y:74 P:65 SP:F9 PPU: 11,116 CYC:1289
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97A  D0 01     BNE $F97D                       A:7F X:AA Y:74 P:67 SP:F9 PPU: 11,122 CYC:1291
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97C  60        RTS                             A:7F X:AA Y:74 P:67 SP:F9 PPU: 11,128 CYC:1293
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbd4, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBD4  C8        INY                             A:7F X:AA Y:74 P:67 SP:FB PPU: 11,146 CYC:1299
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbd5, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBD5  20 80 F9  JSR $F980                       A:7F X:AA Y:75 P:65 SP:FB PPU: 11,152 CYC:1301
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F980  38        SEC                             A:7F X:AA Y:75 P:65 SP:F9 PPU: 11,170 CYC:1307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf981, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F981  A9 81     LDA #$81                        A:7F X:AA Y:75 P:65 SP:F9 PPU: 11,176 CYC:1309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf983, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F983  60        RTS                             A:81 X:AA Y:75 P:E5 SP:F9 PPU: 11,182 CYC:1311
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbd8, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBD8  E9 7F     SBC #$7F                        A:81 X:AA Y:75 P:E5 SP:FB PPU: 11,200 CYC:1317
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbda, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBDA  20 84 F9  JSR $F984                       A:02 X:AA Y:75 P:65 SP:FB PPU: 11,206 CYC:1319
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf984, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F984  50 07     BVC $F98D                       A:02 X:AA Y:75 P:65 SP:F9 PPU: 11,224 CYC:1325
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf986, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F986  90 05     BCC $F98D                       A:02 X:AA Y:75 P:65 SP:F9 PPU: 11,230 CYC:1327
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf988, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F988  C9 02     CMP #$02                        A:02 X:AA Y:75 P:65 SP:F9 PPU: 11,236 CYC:1329
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98A  D0 01     BNE $F98D                       A:02 X:AA Y:75 P:67 SP:F9 PPU: 11,242 CYC:1331
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98C  60        RTS                             A:02 X:AA Y:75 P:67 SP:F9 PPU: 11,248 CYC:1333
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbdd, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBDD  60        RTS                             A:02 X:AA Y:75 P:67 SP:FB PPU: 11,266 CYC:1339
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc606, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C606  20 DE CB  JSR $CBDE                       A:02 X:AA Y:75 P:67 SP:FD PPU: 11,284 CYC:1345
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcbde, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBDE  EA        NOP                             A:02 X:AA Y:75 P:67 SP:FB PPU: 11,302 CYC:1351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbdf, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBDF  A9 FF     LDA #$FF                        A:02 X:AA Y:75 P:67 SP:FB PPU: 11,308 CYC:1353
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbe1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBE1  85 01     STA $01 = FF                    A:FF X:AA Y:75 P:E5 SP:FB PPU: 11,314 CYC:1355
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcbe3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBE3  A9 44     LDA #$44                        A:FF X:AA Y:75 P:E5 SP:FB PPU: 11,323 CYC:1358
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbe5, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBE5  A2 55     LDX #$55                        A:44 X:AA Y:75 P:65 SP:FB PPU: 11,329 CYC:1360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbe7, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x75, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBE7  A0 66     LDY #$66                        A:44 X:55 Y:75 P:65 SP:FB PPU: 11,335 CYC:1362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbe9, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBE9  E8        INX                             A:44 X:55 Y:66 P:65 SP:FB PPU: 12,  0 CYC:1364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbea, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x56, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBEA  88        DEY                             A:44 X:56 Y:66 P:65 SP:FB PPU: 12,  6 CYC:1366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbeb, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x56, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBEB  E0 56     CPX #$56                        A:44 X:56 Y:65 P:65 SP:FB PPU: 12, 12 CYC:1368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbed, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x56, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBED  D0 21     BNE $CC10                       A:44 X:56 Y:65 P:67 SP:FB PPU: 12, 18 CYC:1370
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbef, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x56, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBEF  C0 65     CPY #$65                        A:44 X:56 Y:65 P:67 SP:FB PPU: 12, 24 CYC:1372
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbf1, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x56, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBF1  D0 1D     BNE $CC10                       A:44 X:56 Y:65 P:67 SP:FB PPU: 12, 30 CYC:1374
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbf3, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x56, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBF3  E8        INX                             A:44 X:56 Y:65 P:67 SP:FB PPU: 12, 36 CYC:1376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbf4, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBF4  E8        INX                             A:44 X:57 Y:65 P:65 SP:FB PPU: 12, 42 CYC:1378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbf5, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x58, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBF5  88        DEY                             A:44 X:58 Y:65 P:65 SP:FB PPU: 12, 48 CYC:1380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbf6, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x58, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBF6  88        DEY                             A:44 X:58 Y:64 P:65 SP:FB PPU: 12, 54 CYC:1382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbf7, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x58, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBF7  E0 58     CPX #$58                        A:44 X:58 Y:63 P:65 SP:FB PPU: 12, 60 CYC:1384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbf9, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x58, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBF9  D0 15     BNE $CC10                       A:44 X:58 Y:63 P:67 SP:FB PPU: 12, 66 CYC:1386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbfb, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x58, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBFB  C0 63     CPY #$63                        A:44 X:58 Y:63 P:67 SP:FB PPU: 12, 72 CYC:1388
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbfd, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x58, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBFD  D0 11     BNE $CC10                       A:44 X:58 Y:63 P:67 SP:FB PPU: 12, 78 CYC:1390
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcbff, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x58, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CBFF  CA        DEX                             A:44 X:58 Y:63 P:67 SP:FB PPU: 12, 84 CYC:1392
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc00, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC00  C8        INY                             A:44 X:57 Y:63 P:65 SP:FB PPU: 12, 90 CYC:1394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc01, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC01  E0 57     CPX #$57                        A:44 X:57 Y:64 P:65 SP:FB PPU: 12, 96 CYC:1396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc03, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC03  D0 0B     BNE $CC10                       A:44 X:57 Y:64 P:67 SP:FB PPU: 12,102 CYC:1398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc05, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC05  C0 64     CPY #$64                        A:44 X:57 Y:64 P:67 SP:FB PPU: 12,108 CYC:1400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc07, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC07  D0 07     BNE $CC10                       A:44 X:57 Y:64 P:67 SP:FB PPU: 12,114 CYC:1402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc09, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC09  C9 44     CMP #$44                        A:44 X:57 Y:64 P:67 SP:FB PPU: 12,120 CYC:1404
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc0b, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC0B  D0 03     BNE $CC10                       A:44 X:57 Y:64 P:67 SP:FB PPU: 12,126 CYC:1406
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc0d, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC0D  4C 14 CC  JMP $CC14                       A:44 X:57 Y:64 P:67 SP:FB PPU: 12,132 CYC:1408
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcc14, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC14  EA        NOP                             A:44 X:57 Y:64 P:67 SP:FB PPU: 12,141 CYC:1411
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc15, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC15  38        SEC                             A:44 X:57 Y:64 P:67 SP:FB PPU: 12,147 CYC:1413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc16, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x57, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC16  A2 69     LDX #$69                        A:44 X:57 Y:64 P:67 SP:FB PPU: 12,153 CYC:1415
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc18, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC18  A9 96     LDA #$96                        A:44 X:69 Y:64 P:65 SP:FB PPU: 12,159 CYC:1417
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc1a, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC1A  24 01     BIT $01 = FF                    A:96 X:69 Y:64 P:E5 SP:FB PPU: 12,165 CYC:1419
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcc1c, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC1C  A0 FF     LDY #$FF                        A:96 X:69 Y:64 P:E5 SP:FB PPU: 12,174 CYC:1422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc1e, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC1E  C8        INY                             A:96 X:69 Y:FF P:E5 SP:FB PPU: 12,180 CYC:1424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc1f, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC1F  D0 3D     BNE $CC5E                       A:96 X:69 Y:00 P:67 SP:FB PPU: 12,186 CYC:1426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc21, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC21  30 3B     BMI $CC5E                       A:96 X:69 Y:00 P:67 SP:FB PPU: 12,192 CYC:1428
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc23, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC23  90 39     BCC $CC5E                       A:96 X:69 Y:00 P:67 SP:FB PPU: 12,198 CYC:1430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc25, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC25  50 37     BVC $CC5E                       A:96 X:69 Y:00 P:67 SP:FB PPU: 12,204 CYC:1432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc27, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC27  C0 00     CPY #$00                        A:96 X:69 Y:00 P:67 SP:FB PPU: 12,210 CYC:1434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc29, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC29  D0 33     BNE $CC5E                       A:96 X:69 Y:00 P:67 SP:FB PPU: 12,216 CYC:1436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc2b, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC2B  C8        INY                             A:96 X:69 Y:00 P:67 SP:FB PPU: 12,222 CYC:1438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc2c, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC2C  F0 30     BEQ $CC5E                       A:96 X:69 Y:01 P:65 SP:FB PPU: 12,228 CYC:1440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc2e, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC2E  30 2E     BMI $CC5E                       A:96 X:69 Y:01 P:65 SP:FB PPU: 12,234 CYC:1442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc30, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC30  90 2C     BCC $CC5E                       A:96 X:69 Y:01 P:65 SP:FB PPU: 12,240 CYC:1444
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc32, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC32  50 2A     BVC $CC5E                       A:96 X:69 Y:01 P:65 SP:FB PPU: 12,246 CYC:1446
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc34, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC34  18        CLC                             A:96 X:69 Y:01 P:65 SP:FB PPU: 12,252 CYC:1448
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc35, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC35  B8        CLV                             A:96 X:69 Y:01 P:64 SP:FB PPU: 12,258 CYC:1450
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc36, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC36  A0 00     LDY #$00                        A:96 X:69 Y:01 P:24 SP:FB PPU: 12,264 CYC:1452
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc38, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC38  88        DEY                             A:96 X:69 Y:00 P:26 SP:FB PPU: 12,270 CYC:1454
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc39, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC39  F0 23     BEQ $CC5E                       A:96 X:69 Y:FF P:A4 SP:FB PPU: 12,276 CYC:1456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc3b, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC3B  10 21     BPL $CC5E                       A:96 X:69 Y:FF P:A4 SP:FB PPU: 12,282 CYC:1458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc3d, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC3D  B0 1F     BCS $CC5E                       A:96 X:69 Y:FF P:A4 SP:FB PPU: 12,288 CYC:1460
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc3f, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC3F  70 1D     BVS $CC5E                       A:96 X:69 Y:FF P:A4 SP:FB PPU: 12,294 CYC:1462
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc41, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC41  C0 FF     CPY #$FF                        A:96 X:69 Y:FF P:A4 SP:FB PPU: 12,300 CYC:1464
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc43, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC43  D0 19     BNE $CC5E                       A:96 X:69 Y:FF P:27 SP:FB PPU: 12,306 CYC:1466
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc45, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC45  18        CLC                             A:96 X:69 Y:FF P:27 SP:FB PPU: 12,312 CYC:1468
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc46, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC46  88        DEY                             A:96 X:69 Y:FF P:26 SP:FB PPU: 12,318 CYC:1470
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc47, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC47  F0 15     BEQ $CC5E                       A:96 X:69 Y:FE P:A4 SP:FB PPU: 12,324 CYC:1472
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc49, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC49  10 13     BPL $CC5E                       A:96 X:69 Y:FE P:A4 SP:FB PPU: 12,330 CYC:1474
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc4b, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC4B  B0 11     BCS $CC5E                       A:96 X:69 Y:FE P:A4 SP:FB PPU: 12,336 CYC:1476
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc4d, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC4D  70 0F     BVS $CC5E                       A:96 X:69 Y:FE P:A4 SP:FB PPU: 13,  1 CYC:1478
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc4f, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC4F  C0 FE     CPY #$FE                        A:96 X:69 Y:FE P:A4 SP:FB PPU: 13,  7 CYC:1480
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc51, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC51  D0 0B     BNE $CC5E                       A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 13 CYC:1482
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc53, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC53  C9 96     CMP #$96                        A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 19 CYC:1484
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc55, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC55  D0 07     BNE $CC5E                       A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 25 CYC:1486
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc57, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC57  E0 69     CPX #$69                        A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 31 CYC:1488
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc59, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC59  D0 03     BNE $CC5E                       A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 37 CYC:1490
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc5b, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC5B  4C 62 CC  JMP $CC62                       A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 43 CYC:1492
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcc62, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC62  EA        NOP                             A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 52 CYC:1495
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc63, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC63  38        SEC                             A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 58 CYC:1497
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc64, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xfe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC64  A0 69     LDY #$69                        A:96 X:69 Y:FE P:27 SP:FB PPU: 13, 64 CYC:1499
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc66, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC66  A9 96     LDA #$96                        A:96 X:69 Y:69 P:25 SP:FB PPU: 13, 70 CYC:1501
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc68, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC68  24 01     BIT $01 = FF                    A:96 X:69 Y:69 P:A5 SP:FB PPU: 13, 76 CYC:1503
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcc6a, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC6A  A2 FF     LDX #$FF                        A:96 X:69 Y:69 P:E5 SP:FB PPU: 13, 85 CYC:1506
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc6c, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC6C  E8        INX                             A:96 X:FF Y:69 P:E5 SP:FB PPU: 13, 91 CYC:1508
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc6d, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC6D  D0 3D     BNE $CCAC                       A:96 X:00 Y:69 P:67 SP:FB PPU: 13, 97 CYC:1510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc6f, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC6F  30 3B     BMI $CCAC                       A:96 X:00 Y:69 P:67 SP:FB PPU: 13,103 CYC:1512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc71, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC71  90 39     BCC $CCAC                       A:96 X:00 Y:69 P:67 SP:FB PPU: 13,109 CYC:1514
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc73, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC73  50 37     BVC $CCAC                       A:96 X:00 Y:69 P:67 SP:FB PPU: 13,115 CYC:1516
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc75, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC75  E0 00     CPX #$00                        A:96 X:00 Y:69 P:67 SP:FB PPU: 13,121 CYC:1518
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc77, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC77  D0 33     BNE $CCAC                       A:96 X:00 Y:69 P:67 SP:FB PPU: 13,127 CYC:1520
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc79, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC79  E8        INX                             A:96 X:00 Y:69 P:67 SP:FB PPU: 13,133 CYC:1522
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc7a, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC7A  F0 30     BEQ $CCAC                       A:96 X:01 Y:69 P:65 SP:FB PPU: 13,139 CYC:1524
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc7c, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC7C  30 2E     BMI $CCAC                       A:96 X:01 Y:69 P:65 SP:FB PPU: 13,145 CYC:1526
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc7e, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC7E  90 2C     BCC $CCAC                       A:96 X:01 Y:69 P:65 SP:FB PPU: 13,151 CYC:1528
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc80, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC80  50 2A     BVC $CCAC                       A:96 X:01 Y:69 P:65 SP:FB PPU: 13,157 CYC:1530
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc82, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC82  18        CLC                             A:96 X:01 Y:69 P:65 SP:FB PPU: 13,163 CYC:1532
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc83, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC83  B8        CLV                             A:96 X:01 Y:69 P:64 SP:FB PPU: 13,169 CYC:1534
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc84, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC84  A2 00     LDX #$00                        A:96 X:01 Y:69 P:24 SP:FB PPU: 13,175 CYC:1536
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc86, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC86  CA        DEX                             A:96 X:00 Y:69 P:26 SP:FB PPU: 13,181 CYC:1538
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc87, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC87  F0 23     BEQ $CCAC                       A:96 X:FF Y:69 P:A4 SP:FB PPU: 13,187 CYC:1540
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc89, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC89  10 21     BPL $CCAC                       A:96 X:FF Y:69 P:A4 SP:FB PPU: 13,193 CYC:1542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc8b, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC8B  B0 1F     BCS $CCAC                       A:96 X:FF Y:69 P:A4 SP:FB PPU: 13,199 CYC:1544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc8d, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC8D  70 1D     BVS $CCAC                       A:96 X:FF Y:69 P:A4 SP:FB PPU: 13,205 CYC:1546
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc8f, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC8F  E0 FF     CPX #$FF                        A:96 X:FF Y:69 P:A4 SP:FB PPU: 13,211 CYC:1548
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc91, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC91  D0 19     BNE $CCAC                       A:96 X:FF Y:69 P:27 SP:FB PPU: 13,217 CYC:1550
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc93, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC93  18        CLC                             A:96 X:FF Y:69 P:27 SP:FB PPU: 13,223 CYC:1552
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc94, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC94  CA        DEX                             A:96 X:FF Y:69 P:26 SP:FB PPU: 13,229 CYC:1554
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc95, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC95  F0 15     BEQ $CCAC                       A:96 X:FE Y:69 P:A4 SP:FB PPU: 13,235 CYC:1556
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc97, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC97  10 13     BPL $CCAC                       A:96 X:FE Y:69 P:A4 SP:FB PPU: 13,241 CYC:1558
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc99, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC99  B0 11     BCS $CCAC                       A:96 X:FE Y:69 P:A4 SP:FB PPU: 13,247 CYC:1560
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc9b, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC9B  70 0F     BVS $CCAC                       A:96 X:FE Y:69 P:A4 SP:FB PPU: 13,253 CYC:1562
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc9d, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC9D  E0 FE     CPX #$FE                        A:96 X:FE Y:69 P:A4 SP:FB PPU: 13,259 CYC:1564
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcc9f, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CC9F  D0 0B     BNE $CCAC                       A:96 X:FE Y:69 P:27 SP:FB PPU: 13,265 CYC:1566
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcca1, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCA1  C9 96     CMP #$96                        A:96 X:FE Y:69 P:27 SP:FB PPU: 13,271 CYC:1568
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcca3, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCA3  D0 07     BNE $CCAC                       A:96 X:FE Y:69 P:27 SP:FB PPU: 13,277 CYC:1570
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcca5, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCA5  C0 69     CPY #$69                        A:96 X:FE Y:69 P:27 SP:FB PPU: 13,283 CYC:1572
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcca7, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCA7  D0 03     BNE $CCAC                       A:96 X:FE Y:69 P:27 SP:FB PPU: 13,289 CYC:1574
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcca9, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCA9  4C B0 CC  JMP $CCB0                       A:96 X:FE Y:69 P:27 SP:FB PPU: 13,295 CYC:1576
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xccb0, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCB0  EA        NOP                             A:96 X:FE Y:69 P:27 SP:FB PPU: 13,304 CYC:1579
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccb1, cpu.pc);
    try expectEqual(0x96, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCB1  A9 85     LDA #$85                        A:96 X:FE Y:69 P:27 SP:FB PPU: 13,310 CYC:1581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccb3, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCB3  A2 34     LDX #$34                        A:85 X:FE Y:69 P:A5 SP:FB PPU: 13,316 CYC:1583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccb5, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCB5  A0 99     LDY #$99                        A:85 X:34 Y:69 P:25 SP:FB PPU: 13,322 CYC:1585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccb7, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCB7  18        CLC                             A:85 X:34 Y:99 P:A5 SP:FB PPU: 13,328 CYC:1587
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccb8, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCB8  24 01     BIT $01 = FF                    A:85 X:34 Y:99 P:A4 SP:FB PPU: 13,334 CYC:1589
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xccba, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCBA  A8        TAY                             A:85 X:34 Y:99 P:E4 SP:FB PPU: 14,  2 CYC:1592
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccbb, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCBB  F0 2E     BEQ $CCEB                       A:85 X:34 Y:85 P:E4 SP:FB PPU: 14,  8 CYC:1594
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccbd, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCBD  B0 2C     BCS $CCEB                       A:85 X:34 Y:85 P:E4 SP:FB PPU: 14, 14 CYC:1596
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccbf, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCBF  50 2A     BVC $CCEB                       A:85 X:34 Y:85 P:E4 SP:FB PPU: 14, 20 CYC:1598
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccc1, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCC1  10 28     BPL $CCEB                       A:85 X:34 Y:85 P:E4 SP:FB PPU: 14, 26 CYC:1600
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccc3, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCC3  C9 85     CMP #$85                        A:85 X:34 Y:85 P:E4 SP:FB PPU: 14, 32 CYC:1602
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccc5, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCC5  D0 24     BNE $CCEB                       A:85 X:34 Y:85 P:67 SP:FB PPU: 14, 38 CYC:1604
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccc7, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCC7  E0 34     CPX #$34                        A:85 X:34 Y:85 P:67 SP:FB PPU: 14, 44 CYC:1606
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccc9, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCC9  D0 20     BNE $CCEB                       A:85 X:34 Y:85 P:67 SP:FB PPU: 14, 50 CYC:1608
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcccb, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCCB  C0 85     CPY #$85                        A:85 X:34 Y:85 P:67 SP:FB PPU: 14, 56 CYC:1610
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcccd, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCCD  D0 1C     BNE $CCEB                       A:85 X:34 Y:85 P:67 SP:FB PPU: 14, 62 CYC:1612
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcccf, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCCF  A9 00     LDA #$00                        A:85 X:34 Y:85 P:67 SP:FB PPU: 14, 68 CYC:1614
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccd1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCD1  38        SEC                             A:00 X:34 Y:85 P:67 SP:FB PPU: 14, 74 CYC:1616
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccd2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCD2  B8        CLV                             A:00 X:34 Y:85 P:67 SP:FB PPU: 14, 80 CYC:1618
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccd3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCD3  A8        TAY                             A:00 X:34 Y:85 P:27 SP:FB PPU: 14, 86 CYC:1620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccd4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCD4  D0 15     BNE $CCEB                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14, 92 CYC:1622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccd6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCD6  90 13     BCC $CCEB                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14, 98 CYC:1624
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccd8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCD8  70 11     BVS $CCEB                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14,104 CYC:1626
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccda, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCDA  30 0F     BMI $CCEB                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14,110 CYC:1628
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccdc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCDC  C9 00     CMP #$00                        A:00 X:34 Y:00 P:27 SP:FB PPU: 14,116 CYC:1630
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccde, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCDE  D0 0B     BNE $CCEB                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14,122 CYC:1632
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcce0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCE0  E0 34     CPX #$34                        A:00 X:34 Y:00 P:27 SP:FB PPU: 14,128 CYC:1634
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcce2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCE2  D0 07     BNE $CCEB                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14,134 CYC:1636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcce4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCE4  C0 00     CPY #$00                        A:00 X:34 Y:00 P:27 SP:FB PPU: 14,140 CYC:1638
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcce6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCE6  D0 03     BNE $CCEB                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14,146 CYC:1640
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcce8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCE8  4C EF CC  JMP $CCEF                       A:00 X:34 Y:00 P:27 SP:FB PPU: 14,152 CYC:1642
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xccef, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCEF  EA        NOP                             A:00 X:34 Y:00 P:27 SP:FB PPU: 14,161 CYC:1645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccf0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCF0  A9 85     LDA #$85                        A:00 X:34 Y:00 P:27 SP:FB PPU: 14,167 CYC:1647
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccf2, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCF2  A2 34     LDX #$34                        A:85 X:34 Y:00 P:A5 SP:FB PPU: 14,173 CYC:1649
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccf4, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCF4  A0 99     LDY #$99                        A:85 X:34 Y:00 P:25 SP:FB PPU: 14,179 CYC:1651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccf6, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCF6  18        CLC                             A:85 X:34 Y:99 P:A5 SP:FB PPU: 14,185 CYC:1653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccf7, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCF7  24 01     BIT $01 = FF                    A:85 X:34 Y:99 P:A4 SP:FB PPU: 14,191 CYC:1655
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xccf9, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCF9  AA        TAX                             A:85 X:34 Y:99 P:E4 SP:FB PPU: 14,200 CYC:1658
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccfa, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCFA  F0 2E     BEQ $CD2A                       A:85 X:85 Y:99 P:E4 SP:FB PPU: 14,206 CYC:1660
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccfc, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCFC  B0 2C     BCS $CD2A                       A:85 X:85 Y:99 P:E4 SP:FB PPU: 14,212 CYC:1662
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xccfe, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CCFE  50 2A     BVC $CD2A                       A:85 X:85 Y:99 P:E4 SP:FB PPU: 14,218 CYC:1664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd00, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD00  10 28     BPL $CD2A                       A:85 X:85 Y:99 P:E4 SP:FB PPU: 14,224 CYC:1666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd02, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD02  C9 85     CMP #$85                        A:85 X:85 Y:99 P:E4 SP:FB PPU: 14,230 CYC:1668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd04, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD04  D0 24     BNE $CD2A                       A:85 X:85 Y:99 P:67 SP:FB PPU: 14,236 CYC:1670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd06, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD06  E0 85     CPX #$85                        A:85 X:85 Y:99 P:67 SP:FB PPU: 14,242 CYC:1672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd08, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD08  D0 20     BNE $CD2A                       A:85 X:85 Y:99 P:67 SP:FB PPU: 14,248 CYC:1674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd0a, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD0A  C0 99     CPY #$99                        A:85 X:85 Y:99 P:67 SP:FB PPU: 14,254 CYC:1676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd0c, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD0C  D0 1C     BNE $CD2A                       A:85 X:85 Y:99 P:67 SP:FB PPU: 14,260 CYC:1678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd0e, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD0E  A9 00     LDA #$00                        A:85 X:85 Y:99 P:67 SP:FB PPU: 14,266 CYC:1680
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd10, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD10  38        SEC                             A:00 X:85 Y:99 P:67 SP:FB PPU: 14,272 CYC:1682
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd11, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD11  B8        CLV                             A:00 X:85 Y:99 P:67 SP:FB PPU: 14,278 CYC:1684
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd12, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x85, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD12  AA        TAX                             A:00 X:85 Y:99 P:27 SP:FB PPU: 14,284 CYC:1686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd13, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD13  D0 15     BNE $CD2A                       A:00 X:00 Y:99 P:27 SP:FB PPU: 14,290 CYC:1688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd15, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD15  90 13     BCC $CD2A                       A:00 X:00 Y:99 P:27 SP:FB PPU: 14,296 CYC:1690
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd17, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD17  70 11     BVS $CD2A                       A:00 X:00 Y:99 P:27 SP:FB PPU: 14,302 CYC:1692
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd19, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD19  30 0F     BMI $CD2A                       A:00 X:00 Y:99 P:27 SP:FB PPU: 14,308 CYC:1694
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd1b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD1B  C9 00     CMP #$00                        A:00 X:00 Y:99 P:27 SP:FB PPU: 14,314 CYC:1696
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd1d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD1D  D0 0B     BNE $CD2A                       A:00 X:00 Y:99 P:27 SP:FB PPU: 14,320 CYC:1698
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd1f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD1F  E0 00     CPX #$00                        A:00 X:00 Y:99 P:27 SP:FB PPU: 14,326 CYC:1700
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd21, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD21  D0 07     BNE $CD2A                       A:00 X:00 Y:99 P:27 SP:FB PPU: 14,332 CYC:1702
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd23, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD23  C0 99     CPY #$99                        A:00 X:00 Y:99 P:27 SP:FB PPU: 14,338 CYC:1704
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd25, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD25  D0 03     BNE $CD2A                       A:00 X:00 Y:99 P:27 SP:FB PPU: 15,  3 CYC:1706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd27, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD27  4C 2E CD  JMP $CD2E                       A:00 X:00 Y:99 P:27 SP:FB PPU: 15,  9 CYC:1708
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcd2e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD2E  EA        NOP                             A:00 X:00 Y:99 P:27 SP:FB PPU: 15, 18 CYC:1711
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd2f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD2F  A9 85     LDA #$85                        A:00 X:00 Y:99 P:27 SP:FB PPU: 15, 24 CYC:1713
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd31, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD31  A2 34     LDX #$34                        A:85 X:00 Y:99 P:A5 SP:FB PPU: 15, 30 CYC:1715
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd33, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD33  A0 99     LDY #$99                        A:85 X:34 Y:99 P:25 SP:FB PPU: 15, 36 CYC:1717
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd35, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD35  18        CLC                             A:85 X:34 Y:99 P:A5 SP:FB PPU: 15, 42 CYC:1719
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd36, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD36  24 01     BIT $01 = FF                    A:85 X:34 Y:99 P:A4 SP:FB PPU: 15, 48 CYC:1721
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcd38, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD38  98        TYA                             A:85 X:34 Y:99 P:E4 SP:FB PPU: 15, 57 CYC:1724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd39, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD39  F0 2E     BEQ $CD69                       A:99 X:34 Y:99 P:E4 SP:FB PPU: 15, 63 CYC:1726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd3b, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD3B  B0 2C     BCS $CD69                       A:99 X:34 Y:99 P:E4 SP:FB PPU: 15, 69 CYC:1728
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd3d, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD3D  50 2A     BVC $CD69                       A:99 X:34 Y:99 P:E4 SP:FB PPU: 15, 75 CYC:1730
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd3f, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD3F  10 28     BPL $CD69                       A:99 X:34 Y:99 P:E4 SP:FB PPU: 15, 81 CYC:1732
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd41, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD41  C9 99     CMP #$99                        A:99 X:34 Y:99 P:E4 SP:FB PPU: 15, 87 CYC:1734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd43, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD43  D0 24     BNE $CD69                       A:99 X:34 Y:99 P:67 SP:FB PPU: 15, 93 CYC:1736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd45, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD45  E0 34     CPX #$34                        A:99 X:34 Y:99 P:67 SP:FB PPU: 15, 99 CYC:1738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd47, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD47  D0 20     BNE $CD69                       A:99 X:34 Y:99 P:67 SP:FB PPU: 15,105 CYC:1740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd49, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD49  C0 99     CPY #$99                        A:99 X:34 Y:99 P:67 SP:FB PPU: 15,111 CYC:1742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd4b, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD4B  D0 1C     BNE $CD69                       A:99 X:34 Y:99 P:67 SP:FB PPU: 15,117 CYC:1744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd4d, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD4D  A0 00     LDY #$00                        A:99 X:34 Y:99 P:67 SP:FB PPU: 15,123 CYC:1746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd4f, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD4F  38        SEC                             A:99 X:34 Y:00 P:67 SP:FB PPU: 15,129 CYC:1748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd50, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD50  B8        CLV                             A:99 X:34 Y:00 P:67 SP:FB PPU: 15,135 CYC:1750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd51, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD51  98        TYA                             A:99 X:34 Y:00 P:27 SP:FB PPU: 15,141 CYC:1752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd52, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD52  D0 15     BNE $CD69                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,147 CYC:1754
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd54, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD54  90 13     BCC $CD69                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,153 CYC:1756
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd56, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD56  70 11     BVS $CD69                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,159 CYC:1758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd58, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD58  30 0F     BMI $CD69                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,165 CYC:1760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd5a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD5A  C9 00     CMP #$00                        A:00 X:34 Y:00 P:27 SP:FB PPU: 15,171 CYC:1762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd5c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD5C  D0 0B     BNE $CD69                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,177 CYC:1764
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd5e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD5E  E0 34     CPX #$34                        A:00 X:34 Y:00 P:27 SP:FB PPU: 15,183 CYC:1766
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd60, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD60  D0 07     BNE $CD69                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,189 CYC:1768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd62, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD62  C0 00     CPY #$00                        A:00 X:34 Y:00 P:27 SP:FB PPU: 15,195 CYC:1770
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd64, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD64  D0 03     BNE $CD69                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,201 CYC:1772
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd66, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD66  4C 6D CD  JMP $CD6D                       A:00 X:34 Y:00 P:27 SP:FB PPU: 15,207 CYC:1774
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcd6d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD6D  EA        NOP                             A:00 X:34 Y:00 P:27 SP:FB PPU: 15,216 CYC:1777
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd6e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD6E  A9 85     LDA #$85                        A:00 X:34 Y:00 P:27 SP:FB PPU: 15,222 CYC:1779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd70, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD70  A2 34     LDX #$34                        A:85 X:34 Y:00 P:A5 SP:FB PPU: 15,228 CYC:1781
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd72, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD72  A0 99     LDY #$99                        A:85 X:34 Y:00 P:25 SP:FB PPU: 15,234 CYC:1783
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd74, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD74  18        CLC                             A:85 X:34 Y:99 P:A5 SP:FB PPU: 15,240 CYC:1785
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd75, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD75  24 01     BIT $01 = FF                    A:85 X:34 Y:99 P:A4 SP:FB PPU: 15,246 CYC:1787
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcd77, cpu.pc);
    try expectEqual(0x85, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD77  8A        TXA                             A:85 X:34 Y:99 P:E4 SP:FB PPU: 15,255 CYC:1790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd78, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD78  F0 2E     BEQ $CDA8                       A:34 X:34 Y:99 P:64 SP:FB PPU: 15,261 CYC:1792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd7a, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD7A  B0 2C     BCS $CDA8                       A:34 X:34 Y:99 P:64 SP:FB PPU: 15,267 CYC:1794
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd7c, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD7C  50 2A     BVC $CDA8                       A:34 X:34 Y:99 P:64 SP:FB PPU: 15,273 CYC:1796
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd7e, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD7E  30 28     BMI $CDA8                       A:34 X:34 Y:99 P:64 SP:FB PPU: 15,279 CYC:1798
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd80, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD80  C9 34     CMP #$34                        A:34 X:34 Y:99 P:64 SP:FB PPU: 15,285 CYC:1800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd82, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD82  D0 24     BNE $CDA8                       A:34 X:34 Y:99 P:67 SP:FB PPU: 15,291 CYC:1802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd84, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD84  E0 34     CPX #$34                        A:34 X:34 Y:99 P:67 SP:FB PPU: 15,297 CYC:1804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd86, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD86  D0 20     BNE $CDA8                       A:34 X:34 Y:99 P:67 SP:FB PPU: 15,303 CYC:1806
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd88, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD88  C0 99     CPY #$99                        A:34 X:34 Y:99 P:67 SP:FB PPU: 15,309 CYC:1808
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd8a, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD8A  D0 1C     BNE $CDA8                       A:34 X:34 Y:99 P:67 SP:FB PPU: 15,315 CYC:1810
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd8c, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x34, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD8C  A2 00     LDX #$00                        A:34 X:34 Y:99 P:67 SP:FB PPU: 15,321 CYC:1812
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd8e, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD8E  38        SEC                             A:34 X:00 Y:99 P:67 SP:FB PPU: 15,327 CYC:1814
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd8f, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD8F  B8        CLV                             A:34 X:00 Y:99 P:67 SP:FB PPU: 15,333 CYC:1816
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd90, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD90  8A        TXA                             A:34 X:00 Y:99 P:27 SP:FB PPU: 15,339 CYC:1818
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd91, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD91  D0 15     BNE $CDA8                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16,  4 CYC:1820
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd93, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD93  90 13     BCC $CDA8                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 10 CYC:1822
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd95, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD95  70 11     BVS $CDA8                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 16 CYC:1824
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd97, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD97  30 0F     BMI $CDA8                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 22 CYC:1826
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd99, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD99  C9 00     CMP #$00                        A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 28 CYC:1828
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd9b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD9B  D0 0B     BNE $CDA8                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 34 CYC:1830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd9d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD9D  E0 00     CPX #$00                        A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 40 CYC:1832
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcd9f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CD9F  D0 07     BNE $CDA8                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 46 CYC:1834
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcda1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDA1  C0 99     CPY #$99                        A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 52 CYC:1836
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcda3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDA3  D0 03     BNE $CDA8                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 58 CYC:1838
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcda5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDA5  4C AC CD  JMP $CDAC                       A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 64 CYC:1840
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcdac, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDAC  EA        NOP                             A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 73 CYC:1843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdad, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDAD  BA        TSX                             A:00 X:00 Y:99 P:27 SP:FB PPU: 16, 79 CYC:1845
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdae, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDAE  8E FF 07  STX $07FF = 00                  A:00 X:FB Y:99 P:A5 SP:FB PPU: 16, 85 CYC:1847
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xcdb1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDB1  A0 33     LDY #$33                        A:00 X:FB Y:99 P:A5 SP:FB PPU: 16, 97 CYC:1851
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdb3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDB3  A2 69     LDX #$69                        A:00 X:FB Y:33 P:25 SP:FB PPU: 16,103 CYC:1853
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdb5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDB5  A9 84     LDA #$84                        A:00 X:69 Y:33 P:25 SP:FB PPU: 16,109 CYC:1855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdb7, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDB7  18        CLC                             A:84 X:69 Y:33 P:A5 SP:FB PPU: 16,115 CYC:1857
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdb8, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDB8  24 01     BIT $01 = FF                    A:84 X:69 Y:33 P:A4 SP:FB PPU: 16,121 CYC:1859
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcdba, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDBA  9A        TXS                             A:84 X:69 Y:33 P:E4 SP:FB PPU: 16,130 CYC:1862
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdbb, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDBB  F0 32     BEQ $CDEF                       A:84 X:69 Y:33 P:E4 SP:69 PPU: 16,136 CYC:1864
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdbd, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDBD  10 30     BPL $CDEF                       A:84 X:69 Y:33 P:E4 SP:69 PPU: 16,142 CYC:1866
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdbf, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDBF  B0 2E     BCS $CDEF                       A:84 X:69 Y:33 P:E4 SP:69 PPU: 16,148 CYC:1868
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdc1, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDC1  50 2C     BVC $CDEF                       A:84 X:69 Y:33 P:E4 SP:69 PPU: 16,154 CYC:1870
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdc3, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDC3  C9 84     CMP #$84                        A:84 X:69 Y:33 P:E4 SP:69 PPU: 16,160 CYC:1872
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdc5, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDC5  D0 28     BNE $CDEF                       A:84 X:69 Y:33 P:67 SP:69 PPU: 16,166 CYC:1874
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdc7, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDC7  E0 69     CPX #$69                        A:84 X:69 Y:33 P:67 SP:69 PPU: 16,172 CYC:1876
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdc9, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDC9  D0 24     BNE $CDEF                       A:84 X:69 Y:33 P:67 SP:69 PPU: 16,178 CYC:1878
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdcb, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDCB  C0 33     CPY #$33                        A:84 X:69 Y:33 P:67 SP:69 PPU: 16,184 CYC:1880
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdcd, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDCD  D0 20     BNE $CDEF                       A:84 X:69 Y:33 P:67 SP:69 PPU: 16,190 CYC:1882
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdcf, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDCF  A0 01     LDY #$01                        A:84 X:69 Y:33 P:67 SP:69 PPU: 16,196 CYC:1884
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdd1, cpu.pc);
    try expectEqual(0x84, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDD1  A9 04     LDA #$04                        A:84 X:69 Y:01 P:65 SP:69 PPU: 16,202 CYC:1886
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdd3, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDD3  38        SEC                             A:04 X:69 Y:01 P:65 SP:69 PPU: 16,208 CYC:1888
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdd4, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDD4  B8        CLV                             A:04 X:69 Y:01 P:65 SP:69 PPU: 16,214 CYC:1890
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdd5, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDD5  A2 00     LDX #$00                        A:04 X:69 Y:01 P:25 SP:69 PPU: 16,220 CYC:1892
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdd7, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDD7  BA        TSX                             A:04 X:00 Y:01 P:27 SP:69 PPU: 16,226 CYC:1894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdd8, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDD8  F0 15     BEQ $CDEF                       A:04 X:69 Y:01 P:25 SP:69 PPU: 16,232 CYC:1896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdda, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDDA  30 13     BMI $CDEF                       A:04 X:69 Y:01 P:25 SP:69 PPU: 16,238 CYC:1898
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcddc, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDDC  90 11     BCC $CDEF                       A:04 X:69 Y:01 P:25 SP:69 PPU: 16,244 CYC:1900
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdde, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDDE  70 0F     BVS $CDEF                       A:04 X:69 Y:01 P:25 SP:69 PPU: 16,250 CYC:1902
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcde0, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDE0  E0 69     CPX #$69                        A:04 X:69 Y:01 P:25 SP:69 PPU: 16,256 CYC:1904
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcde2, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDE2  D0 0B     BNE $CDEF                       A:04 X:69 Y:01 P:27 SP:69 PPU: 16,262 CYC:1906
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcde4, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDE4  C9 04     CMP #$04                        A:04 X:69 Y:01 P:27 SP:69 PPU: 16,268 CYC:1908
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcde6, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDE6  D0 07     BNE $CDEF                       A:04 X:69 Y:01 P:27 SP:69 PPU: 16,274 CYC:1910
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcde8, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDE8  C0 01     CPY #$01                        A:04 X:69 Y:01 P:27 SP:69 PPU: 16,280 CYC:1912
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdea, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDEA  D0 03     BNE $CDEF                       A:04 X:69 Y:01 P:27 SP:69 PPU: 16,286 CYC:1914
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdec, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDEC  4C F3 CD  JMP $CDF3                       A:04 X:69 Y:01 P:27 SP:69 PPU: 16,292 CYC:1916
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcdf3, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDF3  AE FF 07  LDX $07FF = FB                  A:04 X:69 Y:01 P:27 SP:69 PPU: 16,301 CYC:1919
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xcdf6, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x69, cpu.sp);

    // CDF6  9A        TXS                             A:04 X:FB Y:01 P:A5 SP:69 PPU: 16,313 CYC:1923
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdf7, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDF7  60        RTS                             A:04 X:FB Y:01 P:A5 SP:FB PPU: 16,319 CYC:1925
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc609, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C609  20 F8 CD  JSR $CDF8                       A:04 X:FB Y:01 P:A5 SP:FD PPU: 16,337 CYC:1931
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcdf8, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDF8  A9 FF     LDA #$FF                        A:04 X:FB Y:01 P:A5 SP:FB PPU: 17, 14 CYC:1937
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdfa, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDFA  85 01     STA $01 = FF                    A:FF X:FB Y:01 P:A5 SP:FB PPU: 17, 20 CYC:1939
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcdfc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDFC  BA        TSX                             A:FF X:FB Y:01 P:A5 SP:FB PPU: 17, 29 CYC:1942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcdfd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CDFD  8E FF 07  STX $07FF = FB                  A:FF X:FB Y:01 P:A5 SP:FB PPU: 17, 35 CYC:1944
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce00, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CE00  EA        NOP                             A:FF X:FB Y:01 P:A5 SP:FB PPU: 17, 47 CYC:1948
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce01, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CE01  A2 80     LDX #$80                        A:FF X:FB Y:01 P:A5 SP:FB PPU: 17, 53 CYC:1950
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce03, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CE03  9A        TXS                             A:FF X:80 Y:01 P:A5 SP:FB PPU: 17, 59 CYC:1952
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce04, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE04  A9 33     LDA #$33                        A:FF X:80 Y:01 P:A5 SP:80 PPU: 17, 65 CYC:1954
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce06, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE06  48        PHA                             A:33 X:80 Y:01 P:25 SP:80 PPU: 17, 71 CYC:1956
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce07, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE07  A9 69     LDA #$69                        A:33 X:80 Y:01 P:25 SP:7F PPU: 17, 80 CYC:1959
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce09, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE09  48        PHA                             A:69 X:80 Y:01 P:25 SP:7F PPU: 17, 86 CYC:1961
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce0a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE0A  BA        TSX                             A:69 X:80 Y:01 P:25 SP:7E PPU: 17, 95 CYC:1964
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce0b, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE0B  E0 7E     CPX #$7E                        A:69 X:7E Y:01 P:25 SP:7E PPU: 17,101 CYC:1966
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce0d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE0D  D0 20     BNE $CE2F                       A:69 X:7E Y:01 P:27 SP:7E PPU: 17,107 CYC:1968
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce0f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE0F  68        PLA                             A:69 X:7E Y:01 P:27 SP:7E PPU: 17,113 CYC:1970
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce10, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE10  C9 69     CMP #$69                        A:69 X:7E Y:01 P:25 SP:7F PPU: 17,125 CYC:1974
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce12, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE12  D0 1B     BNE $CE2F                       A:69 X:7E Y:01 P:27 SP:7F PPU: 17,131 CYC:1976
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce14, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE14  68        PLA                             A:69 X:7E Y:01 P:27 SP:7F PPU: 17,137 CYC:1978
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce15, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE15  C9 33     CMP #$33                        A:33 X:7E Y:01 P:25 SP:80 PPU: 17,149 CYC:1982
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce17, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE17  D0 16     BNE $CE2F                       A:33 X:7E Y:01 P:27 SP:80 PPU: 17,155 CYC:1984
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce19, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE19  BA        TSX                             A:33 X:7E Y:01 P:27 SP:80 PPU: 17,161 CYC:1986
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce1a, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE1A  E0 80     CPX #$80                        A:33 X:80 Y:01 P:A5 SP:80 PPU: 17,167 CYC:1988
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce1c, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE1C  D0 11     BNE $CE2F                       A:33 X:80 Y:01 P:27 SP:80 PPU: 17,173 CYC:1990
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce1e, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE1E  AD 80 01  LDA $0180 = 33                  A:33 X:80 Y:01 P:27 SP:80 PPU: 17,179 CYC:1992
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce21, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE21  C9 33     CMP #$33                        A:33 X:80 Y:01 P:25 SP:80 PPU: 17,191 CYC:1996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce23, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE23  D0 0A     BNE $CE2F                       A:33 X:80 Y:01 P:27 SP:80 PPU: 17,197 CYC:1998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce25, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE25  AD 7F 01  LDA $017F = 69                  A:33 X:80 Y:01 P:27 SP:80 PPU: 17,203 CYC:2000
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce28, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE28  C9 69     CMP #$69                        A:69 X:80 Y:01 P:25 SP:80 PPU: 17,215 CYC:2004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce2a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE2A  D0 03     BNE $CE2F                       A:69 X:80 Y:01 P:27 SP:80 PPU: 17,221 CYC:2006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce2c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE2C  4C 33 CE  JMP $CE33                       A:69 X:80 Y:01 P:27 SP:80 PPU: 17,227 CYC:2008
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce33, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE33  EA        NOP                             A:69 X:80 Y:01 P:27 SP:80 PPU: 17,236 CYC:2011
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce34, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE34  A2 80     LDX #$80                        A:69 X:80 Y:01 P:27 SP:80 PPU: 17,242 CYC:2013
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce36, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE36  9A        TXS                             A:69 X:80 Y:01 P:A5 SP:80 PPU: 17,248 CYC:2015
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce37, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE37  20 3D CE  JSR $CE3D                       A:69 X:80 Y:01 P:A5 SP:80 PPU: 17,254 CYC:2017
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xce3d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE3D  BA        TSX                             A:69 X:80 Y:01 P:A5 SP:7E PPU: 17,272 CYC:2023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce3e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE3E  E0 7E     CPX #$7E                        A:69 X:7E Y:01 P:25 SP:7E PPU: 17,278 CYC:2025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce40, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE40  D0 19     BNE $CE5B                       A:69 X:7E Y:01 P:27 SP:7E PPU: 17,284 CYC:2027
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce42, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE42  68        PLA                             A:69 X:7E Y:01 P:27 SP:7E PPU: 17,290 CYC:2029
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce43, cpu.pc);
    try expectEqual(0x39, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE43  68        PLA                             A:39 X:7E Y:01 P:25 SP:7F PPU: 17,302 CYC:2033
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce44, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x7e, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE44  BA        TSX                             A:CE X:7E Y:01 P:A5 SP:80 PPU: 17,314 CYC:2037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce45, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE45  E0 80     CPX #$80                        A:CE X:80 Y:01 P:A5 SP:80 PPU: 17,320 CYC:2039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce47, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE47  D0 12     BNE $CE5B                       A:CE X:80 Y:01 P:27 SP:80 PPU: 17,326 CYC:2041
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce49, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE49  A9 00     LDA #$00                        A:CE X:80 Y:01 P:27 SP:80 PPU: 17,332 CYC:2043
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce4b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE4B  20 4E CE  JSR $CE4E                       A:00 X:80 Y:01 P:27 SP:80 PPU: 17,338 CYC:2045
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xce4e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE4E  68        PLA                             A:00 X:80 Y:01 P:27 SP:7E PPU: 18, 15 CYC:2051
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce4f, cpu.pc);
    try expectEqual(0x4d, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE4F  C9 4D     CMP #$4D                        A:4D X:80 Y:01 P:25 SP:7F PPU: 18, 27 CYC:2055
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce51, cpu.pc);
    try expectEqual(0x4d, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE51  D0 08     BNE $CE5B                       A:4D X:80 Y:01 P:27 SP:7F PPU: 18, 33 CYC:2057
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce53, cpu.pc);
    try expectEqual(0x4d, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE53  68        PLA                             A:4D X:80 Y:01 P:27 SP:7F PPU: 18, 39 CYC:2059
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xce54, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE54  C9 CE     CMP #$CE                        A:CE X:80 Y:01 P:A5 SP:80 PPU: 18, 51 CYC:2063
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce56, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE56  D0 03     BNE $CE5B                       A:CE X:80 Y:01 P:27 SP:80 PPU: 18, 57 CYC:2065
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce58, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE58  4C 5F CE  JMP $CE5F                       A:CE X:80 Y:01 P:27 SP:80 PPU: 18, 63 CYC:2067
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce5f, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE5F  EA        NOP                             A:CE X:80 Y:01 P:27 SP:80 PPU: 18, 72 CYC:2070
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce60, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE60  A9 CE     LDA #$CE                        A:CE X:80 Y:01 P:27 SP:80 PPU: 18, 78 CYC:2072
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce62, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE62  48        PHA                             A:CE X:80 Y:01 P:A5 SP:80 PPU: 18, 84 CYC:2074
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce63, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE63  A9 66     LDA #$66                        A:CE X:80 Y:01 P:A5 SP:7F PPU: 18, 93 CYC:2077
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce65, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CE65  48        PHA                             A:66 X:80 Y:01 P:25 SP:7F PPU: 18, 99 CYC:2079
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce66, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE66  60        RTS                             A:66 X:80 Y:01 P:25 SP:7E PPU: 18,108 CYC:2082
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xce67, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE67  A2 77     LDX #$77                        A:66 X:80 Y:01 P:25 SP:80 PPU: 18,126 CYC:2088
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce69, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE69  A0 69     LDY #$69                        A:66 X:77 Y:01 P:25 SP:80 PPU: 18,132 CYC:2090
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce6b, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE6B  18        CLC                             A:66 X:77 Y:69 P:25 SP:80 PPU: 18,138 CYC:2092
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce6c, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE6C  24 01     BIT $01 = FF                    A:66 X:77 Y:69 P:24 SP:80 PPU: 18,144 CYC:2094
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce6e, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE6E  A9 83     LDA #$83                        A:66 X:77 Y:69 P:E4 SP:80 PPU: 18,153 CYC:2097
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce70, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE70  20 66 CE  JSR $CE66                       A:83 X:77 Y:69 P:E4 SP:80 PPU: 18,159 CYC:2099
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xce66, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE66  60        RTS                             A:83 X:77 Y:69 P:E4 SP:7E PPU: 18,177 CYC:2105
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xce73, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE73  F0 24     BEQ $CE99                       A:83 X:77 Y:69 P:E4 SP:80 PPU: 18,195 CYC:2111
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce75, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE75  10 22     BPL $CE99                       A:83 X:77 Y:69 P:E4 SP:80 PPU: 18,201 CYC:2113
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce77, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE77  B0 20     BCS $CE99                       A:83 X:77 Y:69 P:E4 SP:80 PPU: 18,207 CYC:2115
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce79, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE79  50 1E     BVC $CE99                       A:83 X:77 Y:69 P:E4 SP:80 PPU: 18,213 CYC:2117
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce7b, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE7B  C9 83     CMP #$83                        A:83 X:77 Y:69 P:E4 SP:80 PPU: 18,219 CYC:2119
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce7d, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE7D  D0 1A     BNE $CE99                       A:83 X:77 Y:69 P:67 SP:80 PPU: 18,225 CYC:2121
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce7f, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE7F  C0 69     CPY #$69                        A:83 X:77 Y:69 P:67 SP:80 PPU: 18,231 CYC:2123
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce81, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE81  D0 16     BNE $CE99                       A:83 X:77 Y:69 P:67 SP:80 PPU: 18,237 CYC:2125
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce83, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE83  E0 77     CPX #$77                        A:83 X:77 Y:69 P:67 SP:80 PPU: 18,243 CYC:2127
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce85, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE85  D0 12     BNE $CE99                       A:83 X:77 Y:69 P:67 SP:80 PPU: 18,249 CYC:2129
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce87, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE87  38        SEC                             A:83 X:77 Y:69 P:67 SP:80 PPU: 18,255 CYC:2131
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce88, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE88  B8        CLV                             A:83 X:77 Y:69 P:67 SP:80 PPU: 18,261 CYC:2133
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce89, cpu.pc);
    try expectEqual(0x83, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE89  A9 00     LDA #$00                        A:83 X:77 Y:69 P:27 SP:80 PPU: 18,267 CYC:2135
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce8b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE8B  20 66 CE  JSR $CE66                       A:00 X:77 Y:69 P:27 SP:80 PPU: 18,273 CYC:2137
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xce66, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CE66  60        RTS                             A:00 X:77 Y:69 P:27 SP:7E PPU: 18,291 CYC:2143
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xce8e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE8E  D0 09     BNE $CE99                       A:00 X:77 Y:69 P:27 SP:80 PPU: 18,309 CYC:2149
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce90, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE90  30 07     BMI $CE99                       A:00 X:77 Y:69 P:27 SP:80 PPU: 18,315 CYC:2151
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce92, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE92  90 05     BCC $CE99                       A:00 X:77 Y:69 P:27 SP:80 PPU: 18,321 CYC:2153
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce94, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE94  70 03     BVS $CE99                       A:00 X:77 Y:69 P:27 SP:80 PPU: 18,327 CYC:2155
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce96, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE96  4C 9D CE  JMP $CE9D                       A:00 X:77 Y:69 P:27 SP:80 PPU: 18,333 CYC:2157
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xce9d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE9D  EA        NOP                             A:00 X:77 Y:69 P:27 SP:80 PPU: 19,  1 CYC:2160
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xce9e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CE9E  A9 CE     LDA #$CE                        A:00 X:77 Y:69 P:27 SP:80 PPU: 19,  7 CYC:2162
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcea0, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEA0  48        PHA                             A:CE X:77 Y:69 P:A5 SP:80 PPU: 19, 13 CYC:2164
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcea1, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CEA1  A9 AE     LDA #$AE                        A:CE X:77 Y:69 P:A5 SP:7F PPU: 19, 22 CYC:2167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcea3, cpu.pc);
    try expectEqual(0xae, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CEA3  48        PHA                             A:AE X:77 Y:69 P:A5 SP:7F PPU: 19, 28 CYC:2169
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcea4, cpu.pc);
    try expectEqual(0xae, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CEA4  A9 65     LDA #$65                        A:AE X:77 Y:69 P:A5 SP:7E PPU: 19, 37 CYC:2172
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcea6, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CEA6  48        PHA                             A:65 X:77 Y:69 P:25 SP:7E PPU: 19, 43 CYC:2174
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcea7, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7d, cpu.sp);

    // CEA7  A9 55     LDA #$55                        A:65 X:77 Y:69 P:25 SP:7D PPU: 19, 52 CYC:2177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcea9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0x7d, cpu.sp);

    // CEA9  A0 88     LDY #$88                        A:55 X:77 Y:69 P:25 SP:7D PPU: 19, 58 CYC:2179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceab, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x77, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x7d, cpu.sp);

    // CEAB  A2 99     LDX #$99                        A:55 X:77 Y:88 P:A5 SP:7D PPU: 19, 64 CYC:2181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcead, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x7d, cpu.sp);

    // CEAD  40        RTI                             A:55 X:99 Y:88 P:A5 SP:7D PPU: 19, 70 CYC:2183
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xceae, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEAE  30 35     BMI $CEE5                       A:55 X:99 Y:88 P:65 SP:80 PPU: 19, 88 CYC:2189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceb0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEB0  50 33     BVC $CEE5                       A:55 X:99 Y:88 P:65 SP:80 PPU: 19, 94 CYC:2191
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceb2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEB2  F0 31     BEQ $CEE5                       A:55 X:99 Y:88 P:65 SP:80 PPU: 19,100 CYC:2193
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceb4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEB4  90 2F     BCC $CEE5                       A:55 X:99 Y:88 P:65 SP:80 PPU: 19,106 CYC:2195
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceb6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEB6  C9 55     CMP #$55                        A:55 X:99 Y:88 P:65 SP:80 PPU: 19,112 CYC:2197
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceb8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEB8  D0 2B     BNE $CEE5                       A:55 X:99 Y:88 P:67 SP:80 PPU: 19,118 CYC:2199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceba, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEBA  C0 88     CPY #$88                        A:55 X:99 Y:88 P:67 SP:80 PPU: 19,124 CYC:2201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcebc, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEBC  D0 27     BNE $CEE5                       A:55 X:99 Y:88 P:67 SP:80 PPU: 19,130 CYC:2203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcebe, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEBE  E0 99     CPX #$99                        A:55 X:99 Y:88 P:67 SP:80 PPU: 19,136 CYC:2205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcec0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEC0  D0 23     BNE $CEE5                       A:55 X:99 Y:88 P:67 SP:80 PPU: 19,142 CYC:2207
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcec2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEC2  A9 CE     LDA #$CE                        A:55 X:99 Y:88 P:67 SP:80 PPU: 19,148 CYC:2209
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcec4, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEC4  48        PHA                             A:CE X:99 Y:88 P:E5 SP:80 PPU: 19,154 CYC:2211
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcec5, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CEC5  A9 CE     LDA #$CE                        A:CE X:99 Y:88 P:E5 SP:7F PPU: 19,163 CYC:2214
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcec7, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0x7f, cpu.sp);

    // CEC7  48        PHA                             A:CE X:99 Y:88 P:E5 SP:7F PPU: 19,169 CYC:2216
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcec8, cpu.pc);
    try expectEqual(0xce, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CEC8  A9 87     LDA #$87                        A:CE X:99 Y:88 P:E5 SP:7E PPU: 19,178 CYC:2219
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceca, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0x7e, cpu.sp);

    // CECA  48        PHA                             A:87 X:99 Y:88 P:E5 SP:7E PPU: 19,184 CYC:2221
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcecb, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0x7d, cpu.sp);

    // CECB  A9 55     LDA #$55                        A:87 X:99 Y:88 P:E5 SP:7D PPU: 19,193 CYC:2224
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcecd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0x7d, cpu.sp);

    // CECD  40        RTI                             A:55 X:99 Y:88 P:65 SP:7D PPU: 19,199 CYC:2226
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcece, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa7, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CECE  10 15     BPL $CEE5                       A:55 X:99 Y:88 P:A7 SP:80 PPU: 19,217 CYC:2232
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xced0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa7, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CED0  70 13     BVS $CEE5                       A:55 X:99 Y:88 P:A7 SP:80 PPU: 19,223 CYC:2234
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xced2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa7, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CED2  D0 11     BNE $CEE5                       A:55 X:99 Y:88 P:A7 SP:80 PPU: 19,229 CYC:2236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xced4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa7, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CED4  90 0F     BCC $CEE5                       A:55 X:99 Y:88 P:A7 SP:80 PPU: 19,235 CYC:2238
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xced6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa7, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CED6  C9 55     CMP #$55                        A:55 X:99 Y:88 P:A7 SP:80 PPU: 19,241 CYC:2240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xced8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CED8  D0 0B     BNE $CEE5                       A:55 X:99 Y:88 P:27 SP:80 PPU: 19,247 CYC:2242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceda, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEDA  C0 88     CPY #$88                        A:55 X:99 Y:88 P:27 SP:80 PPU: 19,253 CYC:2244
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcedc, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEDC  D0 07     BNE $CEE5                       A:55 X:99 Y:88 P:27 SP:80 PPU: 19,259 CYC:2246
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcede, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEDE  E0 99     CPX #$99                        A:55 X:99 Y:88 P:27 SP:80 PPU: 19,265 CYC:2248
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcee0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEE0  D0 03     BNE $CEE5                       A:55 X:99 Y:88 P:27 SP:80 PPU: 19,271 CYC:2250
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcee2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEE2  4C E9 CE  JMP $CEE9                       A:55 X:99 Y:88 P:27 SP:80 PPU: 19,277 CYC:2252
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcee9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x99, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEE9  AE FF 07  LDX $07FF = FB                  A:55 X:99 Y:88 P:27 SP:80 PPU: 19,286 CYC:2255
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xceec, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0x80, cpu.sp);

    // CEEC  9A        TXS                             A:55 X:FB Y:88 P:A5 SP:80 PPU: 19,298 CYC:2259
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceed, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEED  60        RTS                             A:55 X:FB Y:88 P:A5 SP:FB PPU: 19,304 CYC:2261
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc60c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C60C  20 EE CE  JSR $CEEE                       A:55 X:FB Y:88 P:A5 SP:FD PPU: 19,322 CYC:2267
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xceee, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEEE  A2 55     LDX #$55                        A:55 X:FB Y:88 P:A5 SP:FB PPU: 19,340 CYC:2273
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcef0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEF0  A0 69     LDY #$69                        A:55 X:55 Y:88 P:25 SP:FB PPU: 20,  5 CYC:2275
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcef2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEF2  A9 FF     LDA #$FF                        A:55 X:55 Y:69 P:25 SP:FB PPU: 20, 11 CYC:2277
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcef4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEF4  85 01     STA $01 = FF                    A:FF X:55 Y:69 P:A5 SP:FB PPU: 20, 17 CYC:2279
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcef6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEF6  EA        NOP                             A:FF X:55 Y:69 P:A5 SP:FB PPU: 20, 26 CYC:2282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcef7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEF7  24 01     BIT $01 = FF                    A:FF X:55 Y:69 P:A5 SP:FB PPU: 20, 32 CYC:2284
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcef9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEF9  38        SEC                             A:FF X:55 Y:69 P:E5 SP:FB PPU: 20, 41 CYC:2287
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcefa, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEFA  A9 01     LDA #$01                        A:FF X:55 Y:69 P:E5 SP:FB PPU: 20, 47 CYC:2289
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcefc, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEFC  4A        LSR A                           A:01 X:55 Y:69 P:65 SP:FB PPU: 20, 53 CYC:2291
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcefd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEFD  90 1D     BCC $CF1C                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20, 59 CYC:2293
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xceff, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CEFF  D0 1B     BNE $CF1C                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20, 65 CYC:2295
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf01, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF01  30 19     BMI $CF1C                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20, 71 CYC:2297
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf03, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF03  50 17     BVC $CF1C                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20, 77 CYC:2299
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf05, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF05  C9 00     CMP #$00                        A:00 X:55 Y:69 P:67 SP:FB PPU: 20, 83 CYC:2301
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf07, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF07  D0 13     BNE $CF1C                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20, 89 CYC:2303
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf09, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF09  B8        CLV                             A:00 X:55 Y:69 P:67 SP:FB PPU: 20, 95 CYC:2305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf0a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF0A  A9 AA     LDA #$AA                        A:00 X:55 Y:69 P:27 SP:FB PPU: 20,101 CYC:2307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf0c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF0C  4A        LSR A                           A:AA X:55 Y:69 P:A5 SP:FB PPU: 20,107 CYC:2309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf0d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF0D  B0 0D     BCS $CF1C                       A:55 X:55 Y:69 P:24 SP:FB PPU: 20,113 CYC:2311
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf0f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF0F  F0 0B     BEQ $CF1C                       A:55 X:55 Y:69 P:24 SP:FB PPU: 20,119 CYC:2313
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf11, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF11  30 09     BMI $CF1C                       A:55 X:55 Y:69 P:24 SP:FB PPU: 20,125 CYC:2315
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf13, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF13  70 07     BVS $CF1C                       A:55 X:55 Y:69 P:24 SP:FB PPU: 20,131 CYC:2317
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf15, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF15  C9 55     CMP #$55                        A:55 X:55 Y:69 P:24 SP:FB PPU: 20,137 CYC:2319
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf17, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF17  D0 03     BNE $CF1C                       A:55 X:55 Y:69 P:27 SP:FB PPU: 20,143 CYC:2321
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf19, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF19  4C 20 CF  JMP $CF20                       A:55 X:55 Y:69 P:27 SP:FB PPU: 20,149 CYC:2323
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcf20, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF20  EA        NOP                             A:55 X:55 Y:69 P:27 SP:FB PPU: 20,158 CYC:2326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf21, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF21  24 01     BIT $01 = FF                    A:55 X:55 Y:69 P:27 SP:FB PPU: 20,164 CYC:2328
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcf23, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF23  38        SEC                             A:55 X:55 Y:69 P:E5 SP:FB PPU: 20,173 CYC:2331
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf24, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF24  A9 80     LDA #$80                        A:55 X:55 Y:69 P:E5 SP:FB PPU: 20,179 CYC:2333
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf26, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF26  0A        ASL A                           A:80 X:55 Y:69 P:E5 SP:FB PPU: 20,185 CYC:2335
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf27, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF27  90 1E     BCC $CF47                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20,191 CYC:2337
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf29, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF29  D0 1C     BNE $CF47                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20,197 CYC:2339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf2b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF2B  30 1A     BMI $CF47                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20,203 CYC:2341
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf2d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF2D  50 18     BVC $CF47                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20,209 CYC:2343
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf2f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF2F  C9 00     CMP #$00                        A:00 X:55 Y:69 P:67 SP:FB PPU: 20,215 CYC:2345
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf31, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF31  D0 14     BNE $CF47                       A:00 X:55 Y:69 P:67 SP:FB PPU: 20,221 CYC:2347
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf33, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF33  B8        CLV                             A:00 X:55 Y:69 P:67 SP:FB PPU: 20,227 CYC:2349
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf34, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF34  38        SEC                             A:00 X:55 Y:69 P:27 SP:FB PPU: 20,233 CYC:2351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf35, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF35  A9 55     LDA #$55                        A:00 X:55 Y:69 P:27 SP:FB PPU: 20,239 CYC:2353
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf37, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF37  0A        ASL A                           A:55 X:55 Y:69 P:25 SP:FB PPU: 20,245 CYC:2355
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf38, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF38  B0 0D     BCS $CF47                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 20,251 CYC:2357
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf3a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF3A  F0 0B     BEQ $CF47                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 20,257 CYC:2359
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf3c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF3C  10 09     BPL $CF47                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 20,263 CYC:2361
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf3e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF3E  70 07     BVS $CF47                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 20,269 CYC:2363
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf40, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF40  C9 AA     CMP #$AA                        A:AA X:55 Y:69 P:A4 SP:FB PPU: 20,275 CYC:2365
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf42, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF42  D0 03     BNE $CF47                       A:AA X:55 Y:69 P:27 SP:FB PPU: 20,281 CYC:2367
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf44, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF44  4C 4B CF  JMP $CF4B                       A:AA X:55 Y:69 P:27 SP:FB PPU: 20,287 CYC:2369
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcf4b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF4B  EA        NOP                             A:AA X:55 Y:69 P:27 SP:FB PPU: 20,296 CYC:2372
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf4c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF4C  24 01     BIT $01 = FF                    A:AA X:55 Y:69 P:27 SP:FB PPU: 20,302 CYC:2374
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcf4e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF4E  38        SEC                             A:AA X:55 Y:69 P:E5 SP:FB PPU: 20,311 CYC:2377
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf4f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF4F  A9 01     LDA #$01                        A:AA X:55 Y:69 P:E5 SP:FB PPU: 20,317 CYC:2379
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf51, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF51  6A        ROR A                           A:01 X:55 Y:69 P:65 SP:FB PPU: 20,323 CYC:2381
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf52, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF52  90 1E     BCC $CF72                       A:80 X:55 Y:69 P:E5 SP:FB PPU: 20,329 CYC:2383
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf54, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF54  F0 1C     BEQ $CF72                       A:80 X:55 Y:69 P:E5 SP:FB PPU: 20,335 CYC:2385
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf56, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF56  10 1A     BPL $CF72                       A:80 X:55 Y:69 P:E5 SP:FB PPU: 21,  0 CYC:2387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf58, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF58  50 18     BVC $CF72                       A:80 X:55 Y:69 P:E5 SP:FB PPU: 21,  6 CYC:2389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf5a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF5A  C9 80     CMP #$80                        A:80 X:55 Y:69 P:E5 SP:FB PPU: 21, 12 CYC:2391
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf5c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF5C  D0 14     BNE $CF72                       A:80 X:55 Y:69 P:67 SP:FB PPU: 21, 18 CYC:2393
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf5e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF5E  B8        CLV                             A:80 X:55 Y:69 P:67 SP:FB PPU: 21, 24 CYC:2395
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf5f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF5F  18        CLC                             A:80 X:55 Y:69 P:27 SP:FB PPU: 21, 30 CYC:2397
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf60, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF60  A9 55     LDA #$55                        A:80 X:55 Y:69 P:26 SP:FB PPU: 21, 36 CYC:2399
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf62, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF62  6A        ROR A                           A:55 X:55 Y:69 P:24 SP:FB PPU: 21, 42 CYC:2401
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf63, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF63  90 0D     BCC $CF72                       A:2A X:55 Y:69 P:25 SP:FB PPU: 21, 48 CYC:2403
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf65, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF65  F0 0B     BEQ $CF72                       A:2A X:55 Y:69 P:25 SP:FB PPU: 21, 54 CYC:2405
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf67, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF67  30 09     BMI $CF72                       A:2A X:55 Y:69 P:25 SP:FB PPU: 21, 60 CYC:2407
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf69, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF69  70 07     BVS $CF72                       A:2A X:55 Y:69 P:25 SP:FB PPU: 21, 66 CYC:2409
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf6b, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF6B  C9 2A     CMP #$2A                        A:2A X:55 Y:69 P:25 SP:FB PPU: 21, 72 CYC:2411
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf6d, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF6D  D0 03     BNE $CF72                       A:2A X:55 Y:69 P:27 SP:FB PPU: 21, 78 CYC:2413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf6f, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF6F  4C 76 CF  JMP $CF76                       A:2A X:55 Y:69 P:27 SP:FB PPU: 21, 84 CYC:2415
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcf76, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF76  EA        NOP                             A:2A X:55 Y:69 P:27 SP:FB PPU: 21, 93 CYC:2418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf77, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF77  24 01     BIT $01 = FF                    A:2A X:55 Y:69 P:27 SP:FB PPU: 21, 99 CYC:2420
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcf79, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF79  38        SEC                             A:2A X:55 Y:69 P:E5 SP:FB PPU: 21,108 CYC:2423
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf7a, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF7A  A9 80     LDA #$80                        A:2A X:55 Y:69 P:E5 SP:FB PPU: 21,114 CYC:2425
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf7c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF7C  2A        ROL A                           A:80 X:55 Y:69 P:E5 SP:FB PPU: 21,120 CYC:2427
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf7d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF7D  90 1E     BCC $CF9D                       A:01 X:55 Y:69 P:65 SP:FB PPU: 21,126 CYC:2429
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf7f, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF7F  F0 1C     BEQ $CF9D                       A:01 X:55 Y:69 P:65 SP:FB PPU: 21,132 CYC:2431
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf81, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF81  30 1A     BMI $CF9D                       A:01 X:55 Y:69 P:65 SP:FB PPU: 21,138 CYC:2433
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf83, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF83  50 18     BVC $CF9D                       A:01 X:55 Y:69 P:65 SP:FB PPU: 21,144 CYC:2435
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf85, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF85  C9 01     CMP #$01                        A:01 X:55 Y:69 P:65 SP:FB PPU: 21,150 CYC:2437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf87, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF87  D0 14     BNE $CF9D                       A:01 X:55 Y:69 P:67 SP:FB PPU: 21,156 CYC:2439
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf89, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF89  B8        CLV                             A:01 X:55 Y:69 P:67 SP:FB PPU: 21,162 CYC:2441
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf8a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF8A  18        CLC                             A:01 X:55 Y:69 P:27 SP:FB PPU: 21,168 CYC:2443
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf8b, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF8B  A9 55     LDA #$55                        A:01 X:55 Y:69 P:26 SP:FB PPU: 21,174 CYC:2445
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf8d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF8D  2A        ROL A                           A:55 X:55 Y:69 P:24 SP:FB PPU: 21,180 CYC:2447
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf8e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF8E  B0 0D     BCS $CF9D                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 21,186 CYC:2449
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf90, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF90  F0 0B     BEQ $CF9D                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 21,192 CYC:2451
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf92, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF92  10 09     BPL $CF9D                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 21,198 CYC:2453
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf94, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF94  70 07     BVS $CF9D                       A:AA X:55 Y:69 P:A4 SP:FB PPU: 21,204 CYC:2455
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf96, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF96  C9 AA     CMP #$AA                        A:AA X:55 Y:69 P:A4 SP:FB PPU: 21,210 CYC:2457
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf98, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF98  D0 03     BNE $CF9D                       A:AA X:55 Y:69 P:27 SP:FB PPU: 21,216 CYC:2459
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcf9a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CF9A  4C A1 CF  JMP $CFA1                       A:AA X:55 Y:69 P:27 SP:FB PPU: 21,222 CYC:2461
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfa1, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFA1  60        RTS                             A:AA X:55 Y:69 P:27 SP:FB PPU: 21,231 CYC:2464
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc60f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C60F  20 A2 CF  JSR $CFA2                       A:AA X:55 Y:69 P:27 SP:FD PPU: 21,249 CYC:2470
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcfa2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFA2  A5 00     LDA $00 = 00                    A:AA X:55 Y:69 P:27 SP:FB PPU: 21,267 CYC:2476
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfa4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFA4  8D FF 07  STA $07FF = FB                  A:00 X:55 Y:69 P:27 SP:FB PPU: 21,276 CYC:2479
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xcfa7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFA7  A9 00     LDA #$00                        A:00 X:55 Y:69 P:27 SP:FB PPU: 21,288 CYC:2483
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfa9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFA9  85 80     STA $80 = 00                    A:00 X:55 Y:69 P:27 SP:FB PPU: 21,294 CYC:2485
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfab, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFAB  A9 02     LDA #$02                        A:00 X:55 Y:69 P:27 SP:FB PPU: 21,303 CYC:2488
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfad, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFAD  85 81     STA $81 = 00                    A:02 X:55 Y:69 P:25 SP:FB PPU: 21,309 CYC:2490
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfaf, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFAF  A9 FF     LDA #$FF                        A:02 X:55 Y:69 P:25 SP:FB PPU: 21,318 CYC:2493
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfb1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFB1  85 01     STA $01 = FF                    A:FF X:55 Y:69 P:A5 SP:FB PPU: 21,324 CYC:2495
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfb3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFB3  A9 00     LDA #$00                        A:FF X:55 Y:69 P:A5 SP:FB PPU: 21,333 CYC:2498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfb5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFB5  85 82     STA $82 = 00                    A:00 X:55 Y:69 P:27 SP:FB PPU: 21,339 CYC:2500
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfb7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFB7  A9 03     LDA #$03                        A:00 X:55 Y:69 P:27 SP:FB PPU: 22,  7 CYC:2503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfb9, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFB9  85 83     STA $83 = 00                    A:03 X:55 Y:69 P:25 SP:FB PPU: 22, 13 CYC:2505
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfbb, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFBB  85 84     STA $84 = 00                    A:03 X:55 Y:69 P:25 SP:FB PPU: 22, 22 CYC:2508
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfbd, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFBD  A9 00     LDA #$00                        A:03 X:55 Y:69 P:25 SP:FB PPU: 22, 31 CYC:2511
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfbf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFBF  85 FF     STA $FF = 00                    A:00 X:55 Y:69 P:27 SP:FB PPU: 22, 37 CYC:2513
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfc1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFC1  A9 04     LDA #$04                        A:00 X:55 Y:69 P:27 SP:FB PPU: 22, 46 CYC:2516
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfc3, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFC3  85 00     STA $00 = 00                    A:04 X:55 Y:69 P:25 SP:FB PPU: 22, 52 CYC:2518
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xcfc5, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFC5  A9 5A     LDA #$5A                        A:04 X:55 Y:69 P:25 SP:FB PPU: 22, 61 CYC:2521
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfc7, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFC7  8D 00 02  STA $0200 = 00                  A:5A X:55 Y:69 P:25 SP:FB PPU: 22, 67 CYC:2523
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xcfca, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFCA  A9 5B     LDA #$5B                        A:5A X:55 Y:69 P:25 SP:FB PPU: 22, 79 CYC:2527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfcc, cpu.pc);
    try expectEqual(0x5b, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFCC  8D 00 03  STA $0300 = 00                  A:5B X:55 Y:69 P:25 SP:FB PPU: 22, 85 CYC:2529
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xcfcf, cpu.pc);
    try expectEqual(0x5b, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFCF  A9 5C     LDA #$5C                        A:5B X:55 Y:69 P:25 SP:FB PPU: 22, 97 CYC:2533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfd1, cpu.pc);
    try expectEqual(0x5c, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFD1  8D 03 03  STA $0303 = 00                  A:5C X:55 Y:69 P:25 SP:FB PPU: 22,103 CYC:2535
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xcfd4, cpu.pc);
    try expectEqual(0x5c, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFD4  A9 5D     LDA #$5D                        A:5C X:55 Y:69 P:25 SP:FB PPU: 22,115 CYC:2539
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfd6, cpu.pc);
    try expectEqual(0x5d, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFD6  8D 00 04  STA $0400 = 00                  A:5D X:55 Y:69 P:25 SP:FB PPU: 22,121 CYC:2541
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xcfd9, cpu.pc);
    try expectEqual(0x5d, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFD9  A2 00     LDX #$00                        A:5D X:55 Y:69 P:25 SP:FB PPU: 22,133 CYC:2545
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfdb, cpu.pc);
    try expectEqual(0x5d, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFDB  A1 80     LDA ($80,X) @ 80 = 0200 = 5A    A:5D X:00 Y:69 P:27 SP:FB PPU: 22,139 CYC:2547
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcfdd, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFDD  C9 5A     CMP #$5A                        A:5A X:00 Y:69 P:25 SP:FB PPU: 22,157 CYC:2553
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfdf, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFDF  D0 1F     BNE $D000                       A:5A X:00 Y:69 P:27 SP:FB PPU: 22,163 CYC:2555
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfe1, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFE1  E8        INX                             A:5A X:00 Y:69 P:27 SP:FB PPU: 22,169 CYC:2557
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfe2, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFE2  E8        INX                             A:5A X:01 Y:69 P:25 SP:FB PPU: 22,175 CYC:2559
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfe3, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFE3  A1 80     LDA ($80,X) @ 82 = 0300 = 5B    A:5A X:02 Y:69 P:25 SP:FB PPU: 22,181 CYC:2561
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcfe5, cpu.pc);
    try expectEqual(0x5b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFE5  C9 5B     CMP #$5B                        A:5B X:02 Y:69 P:25 SP:FB PPU: 22,199 CYC:2567
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfe7, cpu.pc);
    try expectEqual(0x5b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFE7  D0 17     BNE $D000                       A:5B X:02 Y:69 P:27 SP:FB PPU: 22,205 CYC:2569
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfe9, cpu.pc);
    try expectEqual(0x5b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFE9  E8        INX                             A:5B X:02 Y:69 P:27 SP:FB PPU: 22,211 CYC:2571
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfea, cpu.pc);
    try expectEqual(0x5b, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFEA  A1 80     LDA ($80,X) @ 83 = 0303 = 5C    A:5B X:03 Y:69 P:25 SP:FB PPU: 22,217 CYC:2573
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcfec, cpu.pc);
    try expectEqual(0x5c, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFEC  C9 5C     CMP #$5C                        A:5C X:03 Y:69 P:25 SP:FB PPU: 22,235 CYC:2579
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcfee, cpu.pc);
    try expectEqual(0x5c, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFEE  D0 10     BNE $D000                       A:5C X:03 Y:69 P:27 SP:FB PPU: 22,241 CYC:2581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcff0, cpu.pc);
    try expectEqual(0x5c, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFF0  A2 00     LDX #$00                        A:5C X:03 Y:69 P:27 SP:FB PPU: 22,247 CYC:2583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcff2, cpu.pc);
    try expectEqual(0x5c, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFF2  A1 FF     LDA ($FF,X) @ FF = 0400 = 5D    A:5C X:00 Y:69 P:27 SP:FB PPU: 22,253 CYC:2585
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcff4, cpu.pc);
    try expectEqual(0x5d, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFF4  C9 5D     CMP #$5D                        A:5D X:00 Y:69 P:25 SP:FB PPU: 22,271 CYC:2591
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcff6, cpu.pc);
    try expectEqual(0x5d, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFF6  D0 08     BNE $D000                       A:5D X:00 Y:69 P:27 SP:FB PPU: 22,277 CYC:2593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcff8, cpu.pc);
    try expectEqual(0x5d, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFF8  A2 81     LDX #$81                        A:5D X:00 Y:69 P:27 SP:FB PPU: 22,283 CYC:2595
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcffa, cpu.pc);
    try expectEqual(0x5d, cpu.acc);
    try expectEqual(0x81, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFFA  A1 FF     LDA ($FF,X) @ 80 = 0200 = 5A    A:5D X:81 Y:69 P:A5 SP:FB PPU: 22,289 CYC:2597
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xcffc, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x81, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFFC  C9 5A     CMP #$5A                        A:5A X:81 Y:69 P:25 SP:FB PPU: 22,307 CYC:2603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xcffe, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x81, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // CFFE  F0 05     BEQ $D005                       A:5A X:81 Y:69 P:27 SP:FB PPU: 22,313 CYC:2605
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd005, cpu.pc);
    try expectEqual(0x5a, cpu.acc);
    try expectEqual(0x81, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D005  A9 AA     LDA #$AA                        A:5A X:81 Y:69 P:27 SP:FB PPU: 22,322 CYC:2608
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd007, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x81, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D007  A2 00     LDX #$00                        A:AA X:81 Y:69 P:A5 SP:FB PPU: 22,328 CYC:2610
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd009, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D009  81 80     STA ($80,X) @ 80 = 0200 = 5A    A:AA X:00 Y:69 P:27 SP:FB PPU: 22,334 CYC:2612
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd00b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D00B  E8        INX                             A:AA X:00 Y:69 P:27 SP:FB PPU: 23, 11 CYC:2618
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd00c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D00C  E8        INX                             A:AA X:01 Y:69 P:25 SP:FB PPU: 23, 17 CYC:2620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd00d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D00D  A9 AB     LDA #$AB                        A:AA X:02 Y:69 P:25 SP:FB PPU: 23, 23 CYC:2622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd00f, cpu.pc);
    try expectEqual(0xab, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D00F  81 80     STA ($80,X) @ 82 = 0300 = 5B    A:AB X:02 Y:69 P:A5 SP:FB PPU: 23, 29 CYC:2624
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd011, cpu.pc);
    try expectEqual(0xab, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D011  E8        INX                             A:AB X:02 Y:69 P:A5 SP:FB PPU: 23, 47 CYC:2630
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd012, cpu.pc);
    try expectEqual(0xab, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D012  A9 AC     LDA #$AC                        A:AB X:03 Y:69 P:25 SP:FB PPU: 23, 53 CYC:2632
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd014, cpu.pc);
    try expectEqual(0xac, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D014  81 80     STA ($80,X) @ 83 = 0303 = 5C    A:AC X:03 Y:69 P:A5 SP:FB PPU: 23, 59 CYC:2634
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd016, cpu.pc);
    try expectEqual(0xac, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D016  A2 00     LDX #$00                        A:AC X:03 Y:69 P:A5 SP:FB PPU: 23, 77 CYC:2640
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd018, cpu.pc);
    try expectEqual(0xac, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D018  A9 AD     LDA #$AD                        A:AC X:00 Y:69 P:27 SP:FB PPU: 23, 83 CYC:2642
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd01a, cpu.pc);
    try expectEqual(0xad, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D01A  81 FF     STA ($FF,X) @ FF = 0400 = 5D    A:AD X:00 Y:69 P:A5 SP:FB PPU: 23, 89 CYC:2644
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd01c, cpu.pc);
    try expectEqual(0xad, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D01C  AD 00 02  LDA $0200 = AA                  A:AD X:00 Y:69 P:A5 SP:FB PPU: 23,107 CYC:2650
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd01f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D01F  C9 AA     CMP #$AA                        A:AA X:00 Y:69 P:A5 SP:FB PPU: 23,119 CYC:2654
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd021, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D021  D0 15     BNE $D038                       A:AA X:00 Y:69 P:27 SP:FB PPU: 23,125 CYC:2656
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd023, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D023  AD 00 03  LDA $0300 = AB                  A:AA X:00 Y:69 P:27 SP:FB PPU: 23,131 CYC:2658
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd026, cpu.pc);
    try expectEqual(0xab, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D026  C9 AB     CMP #$AB                        A:AB X:00 Y:69 P:A5 SP:FB PPU: 23,143 CYC:2662
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd028, cpu.pc);
    try expectEqual(0xab, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D028  D0 0E     BNE $D038                       A:AB X:00 Y:69 P:27 SP:FB PPU: 23,149 CYC:2664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd02a, cpu.pc);
    try expectEqual(0xab, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D02A  AD 03 03  LDA $0303 = AC                  A:AB X:00 Y:69 P:27 SP:FB PPU: 23,155 CYC:2666
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd02d, cpu.pc);
    try expectEqual(0xac, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D02D  C9 AC     CMP #$AC                        A:AC X:00 Y:69 P:A5 SP:FB PPU: 23,167 CYC:2670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd02f, cpu.pc);
    try expectEqual(0xac, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D02F  D0 07     BNE $D038                       A:AC X:00 Y:69 P:27 SP:FB PPU: 23,173 CYC:2672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd031, cpu.pc);
    try expectEqual(0xac, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D031  AD 00 04  LDA $0400 = AD                  A:AC X:00 Y:69 P:27 SP:FB PPU: 23,179 CYC:2674
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd034, cpu.pc);
    try expectEqual(0xad, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D034  C9 AD     CMP #$AD                        A:AD X:00 Y:69 P:A5 SP:FB PPU: 23,191 CYC:2678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd036, cpu.pc);
    try expectEqual(0xad, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D036  F0 05     BEQ $D03D                       A:AD X:00 Y:69 P:27 SP:FB PPU: 23,197 CYC:2680
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd03d, cpu.pc);
    try expectEqual(0xad, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D03D  AD FF 07  LDA $07FF = 00                  A:AD X:00 Y:69 P:27 SP:FB PPU: 23,206 CYC:2683
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd040, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D040  85 00     STA $00 = 04                    A:00 X:00 Y:69 P:27 SP:FB PPU: 23,218 CYC:2687
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd042, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D042  A9 00     LDA #$00                        A:00 X:00 Y:69 P:27 SP:FB PPU: 23,227 CYC:2690
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd044, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D044  8D 00 03  STA $0300 = AB                  A:00 X:00 Y:69 P:27 SP:FB PPU: 23,233 CYC:2692
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd047, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D047  A9 AA     LDA #$AA                        A:00 X:00 Y:69 P:27 SP:FB PPU: 23,245 CYC:2696
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd049, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D049  8D 00 02  STA $0200 = AA                  A:AA X:00 Y:69 P:A5 SP:FB PPU: 23,251 CYC:2698
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd04c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D04C  A2 00     LDX #$00                        A:AA X:00 Y:69 P:A5 SP:FB PPU: 23,263 CYC:2702
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd04e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D04E  A0 5A     LDY #$5A                        A:AA X:00 Y:69 P:27 SP:FB PPU: 23,269 CYC:2704
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd050, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D050  20 B6 F7  JSR $F7B6                       A:AA X:00 Y:5A P:25 SP:FB PPU: 23,275 CYC:2706
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B6  18        CLC                             A:AA X:00 Y:5A P:25 SP:F9 PPU: 23,293 CYC:2712
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B7  A9 FF     LDA #$FF                        A:AA X:00 Y:5A P:24 SP:F9 PPU: 23,299 CYC:2714
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B9  85 01     STA $01 = FF                    A:FF X:00 Y:5A P:A4 SP:F9 PPU: 23,305 CYC:2716
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BB  24 01     BIT $01 = FF                    A:FF X:00 Y:5A P:A4 SP:F9 PPU: 23,314 CYC:2719
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BD  A9 55     LDA #$55                        A:FF X:00 Y:5A P:E4 SP:F9 PPU: 23,323 CYC:2722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BF  60        RTS                             A:55 X:00 Y:5A P:64 SP:F9 PPU: 23,329 CYC:2724
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd053, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D053  01 80     ORA ($80,X) @ 80 = 0200 = AA    A:55 X:00 Y:5A P:64 SP:FB PPU: 24,  6 CYC:2730
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd055, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D055  20 C0 F7  JSR $F7C0                       A:FF X:00 Y:5A P:E4 SP:FB PPU: 24, 24 CYC:2736
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C0  B0 09     BCS $F7CB                       A:FF X:00 Y:5A P:E4 SP:F9 PPU: 24, 42 CYC:2742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C2  10 07     BPL $F7CB                       A:FF X:00 Y:5A P:E4 SP:F9 PPU: 24, 48 CYC:2744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C4  C9 FF     CMP #$FF                        A:FF X:00 Y:5A P:E4 SP:F9 PPU: 24, 54 CYC:2746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C6  D0 03     BNE $F7CB                       A:FF X:00 Y:5A P:67 SP:F9 PPU: 24, 60 CYC:2748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C8  50 01     BVC $F7CB                       A:FF X:00 Y:5A P:67 SP:F9 PPU: 24, 66 CYC:2750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ca, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CA  60        RTS                             A:FF X:00 Y:5A P:67 SP:F9 PPU: 24, 72 CYC:2752
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd058, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D058  C8        INY                             A:FF X:00 Y:5A P:67 SP:FB PPU: 24, 90 CYC:2758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd059, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D059  20 CE F7  JSR $F7CE                       A:FF X:00 Y:5B P:65 SP:FB PPU: 24, 96 CYC:2760
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ce, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CE  38        SEC                             A:FF X:00 Y:5B P:65 SP:F9 PPU: 24,114 CYC:2766
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7cf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CF  B8        CLV                             A:FF X:00 Y:5B P:65 SP:F9 PPU: 24,120 CYC:2768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D0  A9 00     LDA #$00                        A:FF X:00 Y:5B P:25 SP:F9 PPU: 24,126 CYC:2770
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D2  60        RTS                             A:00 X:00 Y:5B P:27 SP:F9 PPU: 24,132 CYC:2772
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd05c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D05C  01 82     ORA ($82,X) @ 82 = 0300 = 00    A:00 X:00 Y:5B P:27 SP:FB PPU: 24,150 CYC:2778
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd05e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D05E  20 D3 F7  JSR $F7D3                       A:00 X:00 Y:5B P:27 SP:FB PPU: 24,168 CYC:2784
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D3  D0 07     BNE $F7DC                       A:00 X:00 Y:5B P:27 SP:F9 PPU: 24,186 CYC:2790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D5  70 05     BVS $F7DC                       A:00 X:00 Y:5B P:27 SP:F9 PPU: 24,192 CYC:2792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D7  90 03     BCC $F7DC                       A:00 X:00 Y:5B P:27 SP:F9 PPU: 24,198 CYC:2794
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D9  30 01     BMI $F7DC                       A:00 X:00 Y:5B P:27 SP:F9 PPU: 24,204 CYC:2796
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7db, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DB  60        RTS                             A:00 X:00 Y:5B P:27 SP:F9 PPU: 24,210 CYC:2798
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd061, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D061  C8        INY                             A:00 X:00 Y:5B P:27 SP:FB PPU: 24,228 CYC:2804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd062, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D062  20 DF F7  JSR $F7DF                       A:00 X:00 Y:5C P:25 SP:FB PPU: 24,234 CYC:2806
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7df, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DF  18        CLC                             A:00 X:00 Y:5C P:25 SP:F9 PPU: 24,252 CYC:2812
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E0  24 01     BIT $01 = FF                    A:00 X:00 Y:5C P:24 SP:F9 PPU: 24,258 CYC:2814
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E2  A9 55     LDA #$55                        A:00 X:00 Y:5C P:E6 SP:F9 PPU: 24,267 CYC:2817
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E4  60        RTS                             A:55 X:00 Y:5C P:64 SP:F9 PPU: 24,273 CYC:2819
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd065, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D065  21 80     AND ($80,X) @ 80 = 0200 = AA    A:55 X:00 Y:5C P:64 SP:FB PPU: 24,291 CYC:2825
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd067, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D067  20 E5 F7  JSR $F7E5                       A:00 X:00 Y:5C P:66 SP:FB PPU: 24,309 CYC:2831
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E5  D0 07     BNE $F7EE                       A:00 X:00 Y:5C P:66 SP:F9 PPU: 24,327 CYC:2837
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E7  50 05     BVC $F7EE                       A:00 X:00 Y:5C P:66 SP:F9 PPU: 24,333 CYC:2839
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E9  B0 03     BCS $F7EE                       A:00 X:00 Y:5C P:66 SP:F9 PPU: 24,339 CYC:2841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7eb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7EB  30 01     BMI $F7EE                       A:00 X:00 Y:5C P:66 SP:F9 PPU: 25,  4 CYC:2843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ed, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7ED  60        RTS                             A:00 X:00 Y:5C P:66 SP:F9 PPU: 25, 10 CYC:2845
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd06a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D06A  C8        INY                             A:00 X:00 Y:5C P:66 SP:FB PPU: 25, 28 CYC:2851
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd06b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D06B  A9 EF     LDA #$EF                        A:00 X:00 Y:5D P:64 SP:FB PPU: 25, 34 CYC:2853
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd06d, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D06D  8D 00 03  STA $0300 = 00                  A:EF X:00 Y:5D P:E4 SP:FB PPU: 25, 40 CYC:2855
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd070, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D070  20 F1 F7  JSR $F7F1                       A:EF X:00 Y:5D P:E4 SP:FB PPU: 25, 52 CYC:2859
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f1, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F1  38        SEC                             A:EF X:00 Y:5D P:E4 SP:F9 PPU: 25, 70 CYC:2865
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f2, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F2  B8        CLV                             A:EF X:00 Y:5D P:E5 SP:F9 PPU: 25, 76 CYC:2867
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f3, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F3  A9 F8     LDA #$F8                        A:EF X:00 Y:5D P:A5 SP:F9 PPU: 25, 82 CYC:2869
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f5, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F5  60        RTS                             A:F8 X:00 Y:5D P:A5 SP:F9 PPU: 25, 88 CYC:2871
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd073, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D073  21 82     AND ($82,X) @ 82 = 0300 = EF    A:F8 X:00 Y:5D P:A5 SP:FB PPU: 25,106 CYC:2877
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd075, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D075  20 F6 F7  JSR $F7F6                       A:E8 X:00 Y:5D P:A5 SP:FB PPU: 25,124 CYC:2883
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f6, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F6  90 09     BCC $F801                       A:E8 X:00 Y:5D P:A5 SP:F9 PPU: 25,142 CYC:2889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f8, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F8  10 07     BPL $F801                       A:E8 X:00 Y:5D P:A5 SP:F9 PPU: 25,148 CYC:2891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fa, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FA  C9 E8     CMP #$E8                        A:E8 X:00 Y:5D P:A5 SP:F9 PPU: 25,154 CYC:2893
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fc, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FC  D0 03     BNE $F801                       A:E8 X:00 Y:5D P:27 SP:F9 PPU: 25,160 CYC:2895
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fe, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FE  70 01     BVS $F801                       A:E8 X:00 Y:5D P:27 SP:F9 PPU: 25,166 CYC:2897
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf800, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F800  60        RTS                             A:E8 X:00 Y:5D P:27 SP:F9 PPU: 25,172 CYC:2899
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd078, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D078  C8        INY                             A:E8 X:00 Y:5D P:27 SP:FB PPU: 25,190 CYC:2905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd079, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D079  20 04 F8  JSR $F804                       A:E8 X:00 Y:5E P:25 SP:FB PPU: 25,196 CYC:2907
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf804, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F804  18        CLC                             A:E8 X:00 Y:5E P:25 SP:F9 PPU: 25,214 CYC:2913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf805, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F805  24 01     BIT $01 = FF                    A:E8 X:00 Y:5E P:24 SP:F9 PPU: 25,220 CYC:2915
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf807, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F807  A9 5F     LDA #$5F                        A:E8 X:00 Y:5E P:E4 SP:F9 PPU: 25,229 CYC:2918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf809, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F809  60        RTS                             A:5F X:00 Y:5E P:64 SP:F9 PPU: 25,235 CYC:2920
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd07c, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D07C  41 80     EOR ($80,X) @ 80 = 0200 = AA    A:5F X:00 Y:5E P:64 SP:FB PPU: 25,253 CYC:2926
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd07e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D07E  20 0A F8  JSR $F80A                       A:F5 X:00 Y:5E P:E4 SP:FB PPU: 25,271 CYC:2932
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf80a, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80A  B0 09     BCS $F815                       A:F5 X:00 Y:5E P:E4 SP:F9 PPU: 25,289 CYC:2938
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80c, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80C  10 07     BPL $F815                       A:F5 X:00 Y:5E P:E4 SP:F9 PPU: 25,295 CYC:2940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80E  C9 F5     CMP #$F5                        A:F5 X:00 Y:5E P:E4 SP:F9 PPU: 25,301 CYC:2942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf810, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F810  D0 03     BNE $F815                       A:F5 X:00 Y:5E P:67 SP:F9 PPU: 25,307 CYC:2944
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf812, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F812  50 01     BVC $F815                       A:F5 X:00 Y:5E P:67 SP:F9 PPU: 25,313 CYC:2946
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf814, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F814  60        RTS                             A:F5 X:00 Y:5E P:67 SP:F9 PPU: 25,319 CYC:2948
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd081, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D081  C8        INY                             A:F5 X:00 Y:5E P:67 SP:FB PPU: 25,337 CYC:2954
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd082, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D082  A9 70     LDA #$70                        A:F5 X:00 Y:5F P:65 SP:FB PPU: 26,  2 CYC:2956
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd084, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D084  8D 00 03  STA $0300 = EF                  A:70 X:00 Y:5F P:65 SP:FB PPU: 26,  8 CYC:2958
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd087, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D087  20 18 F8  JSR $F818                       A:70 X:00 Y:5F P:65 SP:FB PPU: 26, 20 CYC:2962
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf818, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F818  38        SEC                             A:70 X:00 Y:5F P:65 SP:F9 PPU: 26, 38 CYC:2968
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf819, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F819  B8        CLV                             A:70 X:00 Y:5F P:65 SP:F9 PPU: 26, 44 CYC:2970
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81a, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81A  A9 70     LDA #$70                        A:70 X:00 Y:5F P:25 SP:F9 PPU: 26, 50 CYC:2972
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81c, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81C  60        RTS                             A:70 X:00 Y:5F P:25 SP:F9 PPU: 26, 56 CYC:2974
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd08a, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D08A  41 82     EOR ($82,X) @ 82 = 0300 = 70    A:70 X:00 Y:5F P:25 SP:FB PPU: 26, 74 CYC:2980
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd08c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D08C  20 1D F8  JSR $F81D                       A:00 X:00 Y:5F P:27 SP:FB PPU: 26, 92 CYC:2986
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf81d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81D  D0 07     BNE $F826                       A:00 X:00 Y:5F P:27 SP:F9 PPU: 26,110 CYC:2992
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81F  70 05     BVS $F826                       A:00 X:00 Y:5F P:27 SP:F9 PPU: 26,116 CYC:2994
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf821, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F821  90 03     BCC $F826                       A:00 X:00 Y:5F P:27 SP:F9 PPU: 26,122 CYC:2996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf823, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F823  30 01     BMI $F826                       A:00 X:00 Y:5F P:27 SP:F9 PPU: 26,128 CYC:2998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf825, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F825  60        RTS                             A:00 X:00 Y:5F P:27 SP:F9 PPU: 26,134 CYC:3000
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd08f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D08F  C8        INY                             A:00 X:00 Y:5F P:27 SP:FB PPU: 26,152 CYC:3006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd090, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D090  A9 69     LDA #$69                        A:00 X:00 Y:60 P:25 SP:FB PPU: 26,158 CYC:3008
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd092, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D092  8D 00 02  STA $0200 = AA                  A:69 X:00 Y:60 P:25 SP:FB PPU: 26,164 CYC:3010
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd095, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D095  20 29 F8  JSR $F829                       A:69 X:00 Y:60 P:25 SP:FB PPU: 26,176 CYC:3014
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf829, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F829  18        CLC                             A:69 X:00 Y:60 P:25 SP:F9 PPU: 26,194 CYC:3020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82A  24 01     BIT $01 = FF                    A:69 X:00 Y:60 P:24 SP:F9 PPU: 26,200 CYC:3022
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf82c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82C  A9 00     LDA #$00                        A:69 X:00 Y:60 P:E4 SP:F9 PPU: 26,209 CYC:3025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82E  60        RTS                             A:00 X:00 Y:60 P:66 SP:F9 PPU: 26,215 CYC:3027
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd098, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D098  61 80     ADC ($80,X) @ 80 = 0200 = 69    A:00 X:00 Y:60 P:66 SP:FB PPU: 26,233 CYC:3033
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd09a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D09A  20 2F F8  JSR $F82F                       A:69 X:00 Y:60 P:24 SP:FB PPU: 26,251 CYC:3039
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf82f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82F  30 09     BMI $F83A                       A:69 X:00 Y:60 P:24 SP:F9 PPU: 26,269 CYC:3045
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf831, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F831  B0 07     BCS $F83A                       A:69 X:00 Y:60 P:24 SP:F9 PPU: 26,275 CYC:3047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf833, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F833  C9 69     CMP #$69                        A:69 X:00 Y:60 P:24 SP:F9 PPU: 26,281 CYC:3049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf835, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F835  D0 03     BNE $F83A                       A:69 X:00 Y:60 P:27 SP:F9 PPU: 26,287 CYC:3051
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf837, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F837  70 01     BVS $F83A                       A:69 X:00 Y:60 P:27 SP:F9 PPU: 26,293 CYC:3053
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf839, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F839  60        RTS                             A:69 X:00 Y:60 P:27 SP:F9 PPU: 26,299 CYC:3055
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd09d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D09D  C8        INY                             A:69 X:00 Y:60 P:27 SP:FB PPU: 26,317 CYC:3061
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd09e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D09E  20 3D F8  JSR $F83D                       A:69 X:00 Y:61 P:25 SP:FB PPU: 26,323 CYC:3063
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf83d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83D  38        SEC                             A:69 X:00 Y:61 P:25 SP:F9 PPU: 27,  0 CYC:3069
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf83e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83E  24 01     BIT $01 = FF                    A:69 X:00 Y:61 P:25 SP:F9 PPU: 27,  6 CYC:3071
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf840, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F840  A9 00     LDA #$00                        A:69 X:00 Y:61 P:E5 SP:F9 PPU: 27, 15 CYC:3074
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf842, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F842  60        RTS                             A:00 X:00 Y:61 P:67 SP:F9 PPU: 27, 21 CYC:3076
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0a1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0A1  61 80     ADC ($80,X) @ 80 = 0200 = 69    A:00 X:00 Y:61 P:67 SP:FB PPU: 27, 39 CYC:3082
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0a3, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0A3  20 43 F8  JSR $F843                       A:6A X:00 Y:61 P:24 SP:FB PPU: 27, 57 CYC:3088
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf843, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F843  30 09     BMI $F84E                       A:6A X:00 Y:61 P:24 SP:F9 PPU: 27, 75 CYC:3094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf845, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F845  B0 07     BCS $F84E                       A:6A X:00 Y:61 P:24 SP:F9 PPU: 27, 81 CYC:3096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf847, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F847  C9 6A     CMP #$6A                        A:6A X:00 Y:61 P:24 SP:F9 PPU: 27, 87 CYC:3098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf849, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F849  D0 03     BNE $F84E                       A:6A X:00 Y:61 P:27 SP:F9 PPU: 27, 93 CYC:3100
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84b, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84B  70 01     BVS $F84E                       A:6A X:00 Y:61 P:27 SP:F9 PPU: 27, 99 CYC:3102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84d, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84D  60        RTS                             A:6A X:00 Y:61 P:27 SP:F9 PPU: 27,105 CYC:3104
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0a6, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0A6  C8        INY                             A:6A X:00 Y:61 P:27 SP:FB PPU: 27,123 CYC:3110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0a7, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0A7  A9 7F     LDA #$7F                        A:6A X:00 Y:62 P:25 SP:FB PPU: 27,129 CYC:3112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0a9, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0A9  8D 00 02  STA $0200 = 69                  A:7F X:00 Y:62 P:25 SP:FB PPU: 27,135 CYC:3114
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0ac, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0AC  20 51 F8  JSR $F851                       A:7F X:00 Y:62 P:25 SP:FB PPU: 27,147 CYC:3118
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf851, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F851  38        SEC                             A:7F X:00 Y:62 P:25 SP:F9 PPU: 27,165 CYC:3124
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf852, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F852  B8        CLV                             A:7F X:00 Y:62 P:25 SP:F9 PPU: 27,171 CYC:3126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf853, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F853  A9 7F     LDA #$7F                        A:7F X:00 Y:62 P:25 SP:F9 PPU: 27,177 CYC:3128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf855, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F855  60        RTS                             A:7F X:00 Y:62 P:25 SP:F9 PPU: 27,183 CYC:3130
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0af, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0AF  61 80     ADC ($80,X) @ 80 = 0200 = 7F    A:7F X:00 Y:62 P:25 SP:FB PPU: 27,201 CYC:3136
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0b1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0B1  20 56 F8  JSR $F856                       A:FF X:00 Y:62 P:E4 SP:FB PPU: 27,219 CYC:3142
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf856, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F856  10 09     BPL $F861                       A:FF X:00 Y:62 P:E4 SP:F9 PPU: 27,237 CYC:3148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf858, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F858  B0 07     BCS $F861                       A:FF X:00 Y:62 P:E4 SP:F9 PPU: 27,243 CYC:3150
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85A  C9 FF     CMP #$FF                        A:FF X:00 Y:62 P:E4 SP:F9 PPU: 27,249 CYC:3152
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85C  D0 03     BNE $F861                       A:FF X:00 Y:62 P:67 SP:F9 PPU: 27,255 CYC:3154
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85E  50 01     BVC $F861                       A:FF X:00 Y:62 P:67 SP:F9 PPU: 27,261 CYC:3156
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf860, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F860  60        RTS                             A:FF X:00 Y:62 P:67 SP:F9 PPU: 27,267 CYC:3158
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0b4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0B4  C8        INY                             A:FF X:00 Y:62 P:67 SP:FB PPU: 27,285 CYC:3164
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0b5, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0B5  A9 80     LDA #$80                        A:FF X:00 Y:63 P:65 SP:FB PPU: 27,291 CYC:3166
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0B7  8D 00 02  STA $0200 = 7F                  A:80 X:00 Y:63 P:E5 SP:FB PPU: 27,297 CYC:3168
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0ba, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0BA  20 64 F8  JSR $F864                       A:80 X:00 Y:63 P:E5 SP:FB PPU: 27,309 CYC:3172
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf864, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F864  18        CLC                             A:80 X:00 Y:63 P:E5 SP:F9 PPU: 27,327 CYC:3178
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf865, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F865  24 01     BIT $01 = FF                    A:80 X:00 Y:63 P:E4 SP:F9 PPU: 27,333 CYC:3180
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf867, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F867  A9 7F     LDA #$7F                        A:80 X:00 Y:63 P:E4 SP:F9 PPU: 28,  1 CYC:3183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf869, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F869  60        RTS                             A:7F X:00 Y:63 P:64 SP:F9 PPU: 28,  7 CYC:3185
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0bd, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0BD  61 80     ADC ($80,X) @ 80 = 0200 = 80    A:7F X:00 Y:63 P:64 SP:FB PPU: 28, 25 CYC:3191
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0bf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0BF  20 6A F8  JSR $F86A                       A:FF X:00 Y:63 P:A4 SP:FB PPU: 28, 43 CYC:3197
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf86a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86A  10 09     BPL $F875                       A:FF X:00 Y:63 P:A4 SP:F9 PPU: 28, 61 CYC:3203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86C  B0 07     BCS $F875                       A:FF X:00 Y:63 P:A4 SP:F9 PPU: 28, 67 CYC:3205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86E  C9 FF     CMP #$FF                        A:FF X:00 Y:63 P:A4 SP:F9 PPU: 28, 73 CYC:3207
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf870, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F870  D0 03     BNE $F875                       A:FF X:00 Y:63 P:27 SP:F9 PPU: 28, 79 CYC:3209
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf872, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F872  70 01     BVS $F875                       A:FF X:00 Y:63 P:27 SP:F9 PPU: 28, 85 CYC:3211
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf874, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F874  60        RTS                             A:FF X:00 Y:63 P:27 SP:F9 PPU: 28, 91 CYC:3213
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0c2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0C2  C8        INY                             A:FF X:00 Y:63 P:27 SP:FB PPU: 28,109 CYC:3219
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0c3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0C3  20 78 F8  JSR $F878                       A:FF X:00 Y:64 P:25 SP:FB PPU: 28,115 CYC:3221
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf878, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F878  38        SEC                             A:FF X:00 Y:64 P:25 SP:F9 PPU: 28,133 CYC:3227
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf879, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F879  B8        CLV                             A:FF X:00 Y:64 P:25 SP:F9 PPU: 28,139 CYC:3229
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87A  A9 7F     LDA #$7F                        A:FF X:00 Y:64 P:25 SP:F9 PPU: 28,145 CYC:3231
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87C  60        RTS                             A:7F X:00 Y:64 P:25 SP:F9 PPU: 28,151 CYC:3233
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0c6, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0C6  61 80     ADC ($80,X) @ 80 = 0200 = 80    A:7F X:00 Y:64 P:25 SP:FB PPU: 28,169 CYC:3239
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0c8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0C8  20 7D F8  JSR $F87D                       A:00 X:00 Y:64 P:27 SP:FB PPU: 28,187 CYC:3245
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf87d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87D  D0 07     BNE $F886                       A:00 X:00 Y:64 P:27 SP:F9 PPU: 28,205 CYC:3251
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87F  30 05     BMI $F886                       A:00 X:00 Y:64 P:27 SP:F9 PPU: 28,211 CYC:3253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf881, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F881  70 03     BVS $F886                       A:00 X:00 Y:64 P:27 SP:F9 PPU: 28,217 CYC:3255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf883, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F883  90 01     BCC $F886                       A:00 X:00 Y:64 P:27 SP:F9 PPU: 28,223 CYC:3257
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf885, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F885  60        RTS                             A:00 X:00 Y:64 P:27 SP:F9 PPU: 28,229 CYC:3259
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0cb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0CB  C8        INY                             A:00 X:00 Y:64 P:27 SP:FB PPU: 28,247 CYC:3265
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0cc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0CC  A9 40     LDA #$40                        A:00 X:00 Y:65 P:25 SP:FB PPU: 28,253 CYC:3267
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0ce, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0CE  8D 00 02  STA $0200 = 80                  A:40 X:00 Y:65 P:25 SP:FB PPU: 28,259 CYC:3269
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0d1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0D1  20 89 F8  JSR $F889                       A:40 X:00 Y:65 P:25 SP:FB PPU: 28,271 CYC:3273
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf889, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F889  24 01     BIT $01 = FF                    A:40 X:00 Y:65 P:25 SP:F9 PPU: 28,289 CYC:3279
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf88b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88B  A9 40     LDA #$40                        A:40 X:00 Y:65 P:E5 SP:F9 PPU: 28,298 CYC:3282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf88d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88D  60        RTS                             A:40 X:00 Y:65 P:65 SP:F9 PPU: 28,304 CYC:3284
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0d4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0D4  C1 80     CMP ($80,X) @ 80 = 0200 = 40    A:40 X:00 Y:65 P:65 SP:FB PPU: 28,322 CYC:3290
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0d6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0D6  20 8E F8  JSR $F88E                       A:40 X:00 Y:65 P:67 SP:FB PPU: 28,340 CYC:3296
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf88e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88E  30 07     BMI $F897                       A:40 X:00 Y:65 P:67 SP:F9 PPU: 29, 17 CYC:3302
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf890, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F890  90 05     BCC $F897                       A:40 X:00 Y:65 P:67 SP:F9 PPU: 29, 23 CYC:3304
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf892, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F892  D0 03     BNE $F897                       A:40 X:00 Y:65 P:67 SP:F9 PPU: 29, 29 CYC:3306
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf894, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F894  50 01     BVC $F897                       A:40 X:00 Y:65 P:67 SP:F9 PPU: 29, 35 CYC:3308
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf896, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F896  60        RTS                             A:40 X:00 Y:65 P:67 SP:F9 PPU: 29, 41 CYC:3310
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0d9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0D9  C8        INY                             A:40 X:00 Y:65 P:67 SP:FB PPU: 29, 59 CYC:3316
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0da, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0DA  48        PHA                             A:40 X:00 Y:66 P:65 SP:FB PPU: 29, 65 CYC:3318
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd0db, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0DB  A9 3F     LDA #$3F                        A:40 X:00 Y:66 P:65 SP:FA PPU: 29, 74 CYC:3321
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0dd, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0DD  8D 00 02  STA $0200 = 40                  A:3F X:00 Y:66 P:65 SP:FA PPU: 29, 80 CYC:3323
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0e0, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0E0  68        PLA                             A:3F X:00 Y:66 P:65 SP:FA PPU: 29, 92 CYC:3327
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0e1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0E1  20 9A F8  JSR $F89A                       A:40 X:00 Y:66 P:65 SP:FB PPU: 29,104 CYC:3331
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89A  B8        CLV                             A:40 X:00 Y:66 P:65 SP:F9 PPU: 29,122 CYC:3337
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89B  60        RTS                             A:40 X:00 Y:66 P:25 SP:F9 PPU: 29,128 CYC:3339
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0e4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0E4  C1 80     CMP ($80,X) @ 80 = 0200 = 3F    A:40 X:00 Y:66 P:25 SP:FB PPU: 29,146 CYC:3345
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0e6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0E6  20 9C F8  JSR $F89C                       A:40 X:00 Y:66 P:25 SP:FB PPU: 29,164 CYC:3351
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89C  F0 07     BEQ $F8A5                       A:40 X:00 Y:66 P:25 SP:F9 PPU: 29,182 CYC:3357
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89E  30 05     BMI $F8A5                       A:40 X:00 Y:66 P:25 SP:F9 PPU: 29,188 CYC:3359
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A0  90 03     BCC $F8A5                       A:40 X:00 Y:66 P:25 SP:F9 PPU: 29,194 CYC:3361
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A2  70 01     BVS $F8A5                       A:40 X:00 Y:66 P:25 SP:F9 PPU: 29,200 CYC:3363
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A4  60        RTS                             A:40 X:00 Y:66 P:25 SP:F9 PPU: 29,206 CYC:3365
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0e9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0E9  C8        INY                             A:40 X:00 Y:66 P:25 SP:FB PPU: 29,224 CYC:3371
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0ea, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0EA  48        PHA                             A:40 X:00 Y:67 P:25 SP:FB PPU: 29,230 CYC:3373
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd0eb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0EB  A9 41     LDA #$41                        A:40 X:00 Y:67 P:25 SP:FA PPU: 29,239 CYC:3376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0ed, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0ED  8D 00 02  STA $0200 = 3F                  A:41 X:00 Y:67 P:25 SP:FA PPU: 29,245 CYC:3378
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0f0, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0F0  68        PLA                             A:41 X:00 Y:67 P:25 SP:FA PPU: 29,257 CYC:3382
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0f1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0F1  C1 80     CMP ($80,X) @ 80 = 0200 = 41    A:40 X:00 Y:67 P:25 SP:FB PPU: 29,269 CYC:3386
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0f3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0F3  20 A8 F8  JSR $F8A8                       A:40 X:00 Y:67 P:A4 SP:FB PPU: 29,287 CYC:3392
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A8  F0 05     BEQ $F8AF                       A:40 X:00 Y:67 P:A4 SP:F9 PPU: 29,305 CYC:3398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8aa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AA  10 03     BPL $F8AF                       A:40 X:00 Y:67 P:A4 SP:F9 PPU: 29,311 CYC:3400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ac, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AC  10 01     BPL $F8AF                       A:40 X:00 Y:67 P:A4 SP:F9 PPU: 29,317 CYC:3402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ae, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AE  60        RTS                             A:40 X:00 Y:67 P:A4 SP:F9 PPU: 29,323 CYC:3404
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd0f6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0F6  C8        INY                             A:40 X:00 Y:67 P:A4 SP:FB PPU: 30,  0 CYC:3410
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0f7, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0F7  48        PHA                             A:40 X:00 Y:68 P:24 SP:FB PPU: 30,  6 CYC:3412
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd0f8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0F8  A9 00     LDA #$00                        A:40 X:00 Y:68 P:24 SP:FA PPU: 30, 15 CYC:3415
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd0fa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0FA  8D 00 02  STA $0200 = 41                  A:00 X:00 Y:68 P:26 SP:FA PPU: 30, 21 CYC:3417
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0fd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D0FD  68        PLA                             A:00 X:00 Y:68 P:26 SP:FA PPU: 30, 33 CYC:3421
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd0fe, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D0FE  20 B2 F8  JSR $F8B2                       A:40 X:00 Y:68 P:24 SP:FB PPU: 30, 45 CYC:3425
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B2  A9 80     LDA #$80                        A:40 X:00 Y:68 P:24 SP:F9 PPU: 30, 63 CYC:3431
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B4  60        RTS                             A:80 X:00 Y:68 P:A4 SP:F9 PPU: 30, 69 CYC:3433
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd101, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D101  C1 80     CMP ($80,X) @ 80 = 0200 = 00    A:80 X:00 Y:68 P:A4 SP:FB PPU: 30, 87 CYC:3439
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd103, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D103  20 B5 F8  JSR $F8B5                       A:80 X:00 Y:68 P:A5 SP:FB PPU: 30,105 CYC:3445
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B5  F0 05     BEQ $F8BC                       A:80 X:00 Y:68 P:A5 SP:F9 PPU: 30,123 CYC:3451
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B7  10 03     BPL $F8BC                       A:80 X:00 Y:68 P:A5 SP:F9 PPU: 30,129 CYC:3453
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B9  90 01     BCC $F8BC                       A:80 X:00 Y:68 P:A5 SP:F9 PPU: 30,135 CYC:3455
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BB  60        RTS                             A:80 X:00 Y:68 P:A5 SP:F9 PPU: 30,141 CYC:3457
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd106, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D106  C8        INY                             A:80 X:00 Y:68 P:A5 SP:FB PPU: 30,159 CYC:3463
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd107, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D107  48        PHA                             A:80 X:00 Y:69 P:25 SP:FB PPU: 30,165 CYC:3465
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd108, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D108  A9 80     LDA #$80                        A:80 X:00 Y:69 P:25 SP:FA PPU: 30,174 CYC:3468
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd10a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D10A  8D 00 02  STA $0200 = 00                  A:80 X:00 Y:69 P:A5 SP:FA PPU: 30,180 CYC:3470
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd10d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D10D  68        PLA                             A:80 X:00 Y:69 P:A5 SP:FA PPU: 30,192 CYC:3474
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd10e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D10E  C1 80     CMP ($80,X) @ 80 = 0200 = 80    A:80 X:00 Y:69 P:A5 SP:FB PPU: 30,204 CYC:3478
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd110, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D110  20 BF F8  JSR $F8BF                       A:80 X:00 Y:69 P:27 SP:FB PPU: 30,222 CYC:3484
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BF  D0 05     BNE $F8C6                       A:80 X:00 Y:69 P:27 SP:F9 PPU: 30,240 CYC:3490
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C1  30 03     BMI $F8C6                       A:80 X:00 Y:69 P:27 SP:F9 PPU: 30,246 CYC:3492
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C3  90 01     BCC $F8C6                       A:80 X:00 Y:69 P:27 SP:F9 PPU: 30,252 CYC:3494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C5  60        RTS                             A:80 X:00 Y:69 P:27 SP:F9 PPU: 30,258 CYC:3496
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd113, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D113  C8        INY                             A:80 X:00 Y:69 P:27 SP:FB PPU: 30,276 CYC:3502
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd114, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D114  48        PHA                             A:80 X:00 Y:6A P:25 SP:FB PPU: 30,282 CYC:3504
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd115, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D115  A9 81     LDA #$81                        A:80 X:00 Y:6A P:25 SP:FA PPU: 30,291 CYC:3507
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd117, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D117  8D 00 02  STA $0200 = 80                  A:81 X:00 Y:6A P:A5 SP:FA PPU: 30,297 CYC:3509
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd11a, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D11A  68        PLA                             A:81 X:00 Y:6A P:A5 SP:FA PPU: 30,309 CYC:3513
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd11b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D11B  C1 80     CMP ($80,X) @ 80 = 0200 = 81    A:80 X:00 Y:6A P:A5 SP:FB PPU: 30,321 CYC:3517
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd11d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D11D  20 C9 F8  JSR $F8C9                       A:80 X:00 Y:6A P:A4 SP:FB PPU: 30,339 CYC:3523
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C9  B0 05     BCS $F8D0                       A:80 X:00 Y:6A P:A4 SP:F9 PPU: 31, 16 CYC:3529
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CB  F0 03     BEQ $F8D0                       A:80 X:00 Y:6A P:A4 SP:F9 PPU: 31, 22 CYC:3531
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CD  10 01     BPL $F8D0                       A:80 X:00 Y:6A P:A4 SP:F9 PPU: 31, 28 CYC:3533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CF  60        RTS                             A:80 X:00 Y:6A P:A4 SP:F9 PPU: 31, 34 CYC:3535
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd120, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D120  C8        INY                             A:80 X:00 Y:6A P:A4 SP:FB PPU: 31, 52 CYC:3541
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd121, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D121  48        PHA                             A:80 X:00 Y:6B P:24 SP:FB PPU: 31, 58 CYC:3543
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd122, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D122  A9 7F     LDA #$7F                        A:80 X:00 Y:6B P:24 SP:FA PPU: 31, 67 CYC:3546
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd124, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D124  8D 00 02  STA $0200 = 81                  A:7F X:00 Y:6B P:24 SP:FA PPU: 31, 73 CYC:3548
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd127, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D127  68        PLA                             A:7F X:00 Y:6B P:24 SP:FA PPU: 31, 85 CYC:3552
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd128, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D128  C1 80     CMP ($80,X) @ 80 = 0200 = 7F    A:80 X:00 Y:6B P:A4 SP:FB PPU: 31, 97 CYC:3556
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd12a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D12A  20 D3 F8  JSR $F8D3                       A:80 X:00 Y:6B P:25 SP:FB PPU: 31,115 CYC:3562
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D3  90 05     BCC $F8DA                       A:80 X:00 Y:6B P:25 SP:F9 PPU: 31,133 CYC:3568
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D5  F0 03     BEQ $F8DA                       A:80 X:00 Y:6B P:25 SP:F9 PPU: 31,139 CYC:3570
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D7  30 01     BMI $F8DA                       A:80 X:00 Y:6B P:25 SP:F9 PPU: 31,145 CYC:3572
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D9  60        RTS                             A:80 X:00 Y:6B P:25 SP:F9 PPU: 31,151 CYC:3574
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd12d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D12D  C8        INY                             A:80 X:00 Y:6B P:25 SP:FB PPU: 31,169 CYC:3580
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd12e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D12E  A9 40     LDA #$40                        A:80 X:00 Y:6C P:25 SP:FB PPU: 31,175 CYC:3582
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd130, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D130  8D 00 02  STA $0200 = 7F                  A:40 X:00 Y:6C P:25 SP:FB PPU: 31,181 CYC:3584
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd133, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D133  20 31 F9  JSR $F931                       A:40 X:00 Y:6C P:25 SP:FB PPU: 31,193 CYC:3588
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf931, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F931  24 01     BIT $01 = FF                    A:40 X:00 Y:6C P:25 SP:F9 PPU: 31,211 CYC:3594
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf933, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F933  A9 40     LDA #$40                        A:40 X:00 Y:6C P:E5 SP:F9 PPU: 31,220 CYC:3597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf935, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F935  38        SEC                             A:40 X:00 Y:6C P:65 SP:F9 PPU: 31,226 CYC:3599
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf936, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F936  60        RTS                             A:40 X:00 Y:6C P:65 SP:F9 PPU: 31,232 CYC:3601
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd136, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D136  E1 80     SBC ($80,X) @ 80 = 0200 = 40    A:40 X:00 Y:6C P:65 SP:FB PPU: 31,250 CYC:3607
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd138, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D138  20 37 F9  JSR $F937                       A:00 X:00 Y:6C P:27 SP:FB PPU: 31,268 CYC:3613
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf937, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F937  30 0B     BMI $F944                       A:00 X:00 Y:6C P:27 SP:F9 PPU: 31,286 CYC:3619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf939, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F939  90 09     BCC $F944                       A:00 X:00 Y:6C P:27 SP:F9 PPU: 31,292 CYC:3621
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93B  D0 07     BNE $F944                       A:00 X:00 Y:6C P:27 SP:F9 PPU: 31,298 CYC:3623
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93D  70 05     BVS $F944                       A:00 X:00 Y:6C P:27 SP:F9 PPU: 31,304 CYC:3625
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93F  C9 00     CMP #$00                        A:00 X:00 Y:6C P:27 SP:F9 PPU: 31,310 CYC:3627
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf941, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F941  D0 01     BNE $F944                       A:00 X:00 Y:6C P:27 SP:F9 PPU: 31,316 CYC:3629
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F943  60        RTS                             A:00 X:00 Y:6C P:27 SP:F9 PPU: 31,322 CYC:3631
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd13b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D13B  C8        INY                             A:00 X:00 Y:6C P:27 SP:FB PPU: 31,340 CYC:3637
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd13c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D13C  A9 3F     LDA #$3F                        A:00 X:00 Y:6D P:25 SP:FB PPU: 32,  5 CYC:3639
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd13e, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D13E  8D 00 02  STA $0200 = 40                  A:3F X:00 Y:6D P:25 SP:FB PPU: 32, 11 CYC:3641
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd141, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D141  20 47 F9  JSR $F947                       A:3F X:00 Y:6D P:25 SP:FB PPU: 32, 23 CYC:3645
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf947, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F947  B8        CLV                             A:3F X:00 Y:6D P:25 SP:F9 PPU: 32, 41 CYC:3651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf948, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F948  38        SEC                             A:3F X:00 Y:6D P:25 SP:F9 PPU: 32, 47 CYC:3653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf949, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F949  A9 40     LDA #$40                        A:3F X:00 Y:6D P:25 SP:F9 PPU: 32, 53 CYC:3655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94B  60        RTS                             A:40 X:00 Y:6D P:25 SP:F9 PPU: 32, 59 CYC:3657
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd144, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D144  E1 80     SBC ($80,X) @ 80 = 0200 = 3F    A:40 X:00 Y:6D P:25 SP:FB PPU: 32, 77 CYC:3663
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd146, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D146  20 4C F9  JSR $F94C                       A:01 X:00 Y:6D P:25 SP:FB PPU: 32, 95 CYC:3669
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf94c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94C  F0 0B     BEQ $F959                       A:01 X:00 Y:6D P:25 SP:F9 PPU: 32,113 CYC:3675
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94E  30 09     BMI $F959                       A:01 X:00 Y:6D P:25 SP:F9 PPU: 32,119 CYC:3677
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf950, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F950  90 07     BCC $F959                       A:01 X:00 Y:6D P:25 SP:F9 PPU: 32,125 CYC:3679
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf952, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F952  70 05     BVS $F959                       A:01 X:00 Y:6D P:25 SP:F9 PPU: 32,131 CYC:3681
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf954, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F954  C9 01     CMP #$01                        A:01 X:00 Y:6D P:25 SP:F9 PPU: 32,137 CYC:3683
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf956, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F956  D0 01     BNE $F959                       A:01 X:00 Y:6D P:27 SP:F9 PPU: 32,143 CYC:3685
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf958, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F958  60        RTS                             A:01 X:00 Y:6D P:27 SP:F9 PPU: 32,149 CYC:3687
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd149, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D149  C8        INY                             A:01 X:00 Y:6D P:27 SP:FB PPU: 32,167 CYC:3693
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd14a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D14A  A9 41     LDA #$41                        A:01 X:00 Y:6E P:25 SP:FB PPU: 32,173 CYC:3695
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd14c, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D14C  8D 00 02  STA $0200 = 3F                  A:41 X:00 Y:6E P:25 SP:FB PPU: 32,179 CYC:3697
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd14f, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D14F  20 5C F9  JSR $F95C                       A:41 X:00 Y:6E P:25 SP:FB PPU: 32,191 CYC:3701
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf95c, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95C  A9 40     LDA #$40                        A:41 X:00 Y:6E P:25 SP:F9 PPU: 32,209 CYC:3707
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95E  38        SEC                             A:40 X:00 Y:6E P:25 SP:F9 PPU: 32,215 CYC:3709
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95F  24 01     BIT $01 = FF                    A:40 X:00 Y:6E P:25 SP:F9 PPU: 32,221 CYC:3711
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf961, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F961  60        RTS                             A:40 X:00 Y:6E P:E5 SP:F9 PPU: 32,230 CYC:3714
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd152, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D152  E1 80     SBC ($80,X) @ 80 = 0200 = 41    A:40 X:00 Y:6E P:E5 SP:FB PPU: 32,248 CYC:3720
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd154, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D154  20 62 F9  JSR $F962                       A:FF X:00 Y:6E P:A4 SP:FB PPU: 32,266 CYC:3726
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F962  B0 0B     BCS $F96F                       A:FF X:00 Y:6E P:A4 SP:F9 PPU: 32,284 CYC:3732
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F964  F0 09     BEQ $F96F                       A:FF X:00 Y:6E P:A4 SP:F9 PPU: 32,290 CYC:3734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F966  10 07     BPL $F96F                       A:FF X:00 Y:6E P:A4 SP:F9 PPU: 32,296 CYC:3736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf968, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F968  70 05     BVS $F96F                       A:FF X:00 Y:6E P:A4 SP:F9 PPU: 32,302 CYC:3738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96A  C9 FF     CMP #$FF                        A:FF X:00 Y:6E P:A4 SP:F9 PPU: 32,308 CYC:3740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96C  D0 01     BNE $F96F                       A:FF X:00 Y:6E P:27 SP:F9 PPU: 32,314 CYC:3742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96E  60        RTS                             A:FF X:00 Y:6E P:27 SP:F9 PPU: 32,320 CYC:3744
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd157, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D157  C8        INY                             A:FF X:00 Y:6E P:27 SP:FB PPU: 32,338 CYC:3750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd158, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D158  A9 00     LDA #$00                        A:FF X:00 Y:6F P:25 SP:FB PPU: 33,  3 CYC:3752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd15a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D15A  8D 00 02  STA $0200 = 41                  A:00 X:00 Y:6F P:27 SP:FB PPU: 33,  9 CYC:3754
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd15d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D15D  20 72 F9  JSR $F972                       A:00 X:00 Y:6F P:27 SP:FB PPU: 33, 21 CYC:3758
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf972, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F972  18        CLC                             A:00 X:00 Y:6F P:27 SP:F9 PPU: 33, 39 CYC:3764
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf973, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F973  A9 80     LDA #$80                        A:00 X:00 Y:6F P:26 SP:F9 PPU: 33, 45 CYC:3766
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf975, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F975  60        RTS                             A:80 X:00 Y:6F P:A4 SP:F9 PPU: 33, 51 CYC:3768
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd160, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D160  E1 80     SBC ($80,X) @ 80 = 0200 = 00    A:80 X:00 Y:6F P:A4 SP:FB PPU: 33, 69 CYC:3774
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd162, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D162  20 76 F9  JSR $F976                       A:7F X:00 Y:6F P:65 SP:FB PPU: 33, 87 CYC:3780
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf976, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F976  90 05     BCC $F97D                       A:7F X:00 Y:6F P:65 SP:F9 PPU: 33,105 CYC:3786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf978, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F978  C9 7F     CMP #$7F                        A:7F X:00 Y:6F P:65 SP:F9 PPU: 33,111 CYC:3788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97A  D0 01     BNE $F97D                       A:7F X:00 Y:6F P:67 SP:F9 PPU: 33,117 CYC:3790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97C  60        RTS                             A:7F X:00 Y:6F P:67 SP:F9 PPU: 33,123 CYC:3792
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd165, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D165  C8        INY                             A:7F X:00 Y:6F P:67 SP:FB PPU: 33,141 CYC:3798
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd166, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D166  A9 7F     LDA #$7F                        A:7F X:00 Y:70 P:65 SP:FB PPU: 33,147 CYC:3800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd168, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D168  8D 00 02  STA $0200 = 00                  A:7F X:00 Y:70 P:65 SP:FB PPU: 33,153 CYC:3802
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd16b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D16B  20 80 F9  JSR $F980                       A:7F X:00 Y:70 P:65 SP:FB PPU: 33,165 CYC:3806
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F980  38        SEC                             A:7F X:00 Y:70 P:65 SP:F9 PPU: 33,183 CYC:3812
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf981, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F981  A9 81     LDA #$81                        A:7F X:00 Y:70 P:65 SP:F9 PPU: 33,189 CYC:3814
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf983, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F983  60        RTS                             A:81 X:00 Y:70 P:E5 SP:F9 PPU: 33,195 CYC:3816
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd16e, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D16E  E1 80     SBC ($80,X) @ 80 = 0200 = 7F    A:81 X:00 Y:70 P:E5 SP:FB PPU: 33,213 CYC:3822
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd170, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D170  20 84 F9  JSR $F984                       A:02 X:00 Y:70 P:65 SP:FB PPU: 33,231 CYC:3828
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf984, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F984  50 07     BVC $F98D                       A:02 X:00 Y:70 P:65 SP:F9 PPU: 33,249 CYC:3834
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf986, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F986  90 05     BCC $F98D                       A:02 X:00 Y:70 P:65 SP:F9 PPU: 33,255 CYC:3836
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf988, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F988  C9 02     CMP #$02                        A:02 X:00 Y:70 P:65 SP:F9 PPU: 33,261 CYC:3838
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98A  D0 01     BNE $F98D                       A:02 X:00 Y:70 P:67 SP:F9 PPU: 33,267 CYC:3840
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98C  60        RTS                             A:02 X:00 Y:70 P:67 SP:F9 PPU: 33,273 CYC:3842
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd173, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D173  60        RTS                             A:02 X:00 Y:70 P:67 SP:FB PPU: 33,291 CYC:3848
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc612, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C612  20 74 D1  JSR $D174                       A:02 X:00 Y:70 P:67 SP:FD PPU: 33,309 CYC:3854
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd174, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D174  A9 55     LDA #$55                        A:02 X:00 Y:70 P:67 SP:FB PPU: 33,327 CYC:3860
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd176, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D176  85 78     STA $78 = 00                    A:55 X:00 Y:70 P:65 SP:FB PPU: 33,333 CYC:3862
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd178, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D178  A9 FF     LDA #$FF                        A:55 X:00 Y:70 P:65 SP:FB PPU: 34,  1 CYC:3865
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd17a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D17A  85 01     STA $01 = FF                    A:FF X:00 Y:70 P:E5 SP:FB PPU: 34,  7 CYC:3867
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd17c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D17C  24 01     BIT $01 = FF                    A:FF X:00 Y:70 P:E5 SP:FB PPU: 34, 16 CYC:3870
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd17e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D17E  A0 11     LDY #$11                        A:FF X:00 Y:70 P:E5 SP:FB PPU: 34, 25 CYC:3873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd180, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D180  A2 23     LDX #$23                        A:FF X:00 Y:11 P:65 SP:FB PPU: 34, 31 CYC:3875
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd182, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D182  A9 00     LDA #$00                        A:FF X:23 Y:11 P:65 SP:FB PPU: 34, 37 CYC:3877
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd184, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D184  A5 78     LDA $78 = 55                    A:00 X:23 Y:11 P:67 SP:FB PPU: 34, 43 CYC:3879
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd186, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D186  F0 10     BEQ $D198                       A:55 X:23 Y:11 P:65 SP:FB PPU: 34, 52 CYC:3882
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd188, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D188  30 0E     BMI $D198                       A:55 X:23 Y:11 P:65 SP:FB PPU: 34, 58 CYC:3884
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd18a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D18A  C9 55     CMP #$55                        A:55 X:23 Y:11 P:65 SP:FB PPU: 34, 64 CYC:3886
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd18c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D18C  D0 0A     BNE $D198                       A:55 X:23 Y:11 P:67 SP:FB PPU: 34, 70 CYC:3888
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd18e, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D18E  C0 11     CPY #$11                        A:55 X:23 Y:11 P:67 SP:FB PPU: 34, 76 CYC:3890
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd190, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D190  D0 06     BNE $D198                       A:55 X:23 Y:11 P:67 SP:FB PPU: 34, 82 CYC:3892
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd192, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D192  E0 23     CPX #$23                        A:55 X:23 Y:11 P:67 SP:FB PPU: 34, 88 CYC:3894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd194, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D194  50 02     BVC $D198                       A:55 X:23 Y:11 P:67 SP:FB PPU: 34, 94 CYC:3896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd196, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D196  F0 04     BEQ $D19C                       A:55 X:23 Y:11 P:67 SP:FB PPU: 34,100 CYC:3898
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd19c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D19C  A9 46     LDA #$46                        A:55 X:23 Y:11 P:67 SP:FB PPU: 34,109 CYC:3901
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd19e, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D19E  24 01     BIT $01 = FF                    A:46 X:23 Y:11 P:65 SP:FB PPU: 34,115 CYC:3903
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1a0, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1A0  85 78     STA $78 = 55                    A:46 X:23 Y:11 P:E5 SP:FB PPU: 34,124 CYC:3906
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1a2, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1A2  F0 0A     BEQ $D1AE                       A:46 X:23 Y:11 P:E5 SP:FB PPU: 34,133 CYC:3909
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1a4, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1A4  10 08     BPL $D1AE                       A:46 X:23 Y:11 P:E5 SP:FB PPU: 34,139 CYC:3911
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1a6, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1A6  50 06     BVC $D1AE                       A:46 X:23 Y:11 P:E5 SP:FB PPU: 34,145 CYC:3913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1a8, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1A8  A5 78     LDA $78 = 46                    A:46 X:23 Y:11 P:E5 SP:FB PPU: 34,151 CYC:3915
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1aa, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1AA  C9 46     CMP #$46                        A:46 X:23 Y:11 P:65 SP:FB PPU: 34,160 CYC:3918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1ac, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1AC  F0 04     BEQ $D1B2                       A:46 X:23 Y:11 P:67 SP:FB PPU: 34,166 CYC:3920
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1b2, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1B2  A9 55     LDA #$55                        A:46 X:23 Y:11 P:67 SP:FB PPU: 34,175 CYC:3923
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1b4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1B4  85 78     STA $78 = 46                    A:55 X:23 Y:11 P:65 SP:FB PPU: 34,181 CYC:3925
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1b6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1B6  24 01     BIT $01 = FF                    A:55 X:23 Y:11 P:65 SP:FB PPU: 34,190 CYC:3928
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1b8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1B8  A9 11     LDA #$11                        A:55 X:23 Y:11 P:E5 SP:FB PPU: 34,199 CYC:3931
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1ba, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1BA  A2 23     LDX #$23                        A:11 X:23 Y:11 P:65 SP:FB PPU: 34,205 CYC:3933
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1bc, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1BC  A0 00     LDY #$00                        A:11 X:23 Y:11 P:65 SP:FB PPU: 34,211 CYC:3935
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1be, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1BE  A4 78     LDY $78 = 55                    A:11 X:23 Y:00 P:67 SP:FB PPU: 34,217 CYC:3937
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1c0, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1C0  F0 10     BEQ $D1D2                       A:11 X:23 Y:55 P:65 SP:FB PPU: 34,226 CYC:3940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1c2, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1C2  30 0E     BMI $D1D2                       A:11 X:23 Y:55 P:65 SP:FB PPU: 34,232 CYC:3942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1c4, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1C4  C0 55     CPY #$55                        A:11 X:23 Y:55 P:65 SP:FB PPU: 34,238 CYC:3944
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1c6, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1C6  D0 0A     BNE $D1D2                       A:11 X:23 Y:55 P:67 SP:FB PPU: 34,244 CYC:3946
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1c8, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1C8  C9 11     CMP #$11                        A:11 X:23 Y:55 P:67 SP:FB PPU: 34,250 CYC:3948
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1ca, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1CA  D0 06     BNE $D1D2                       A:11 X:23 Y:55 P:67 SP:FB PPU: 34,256 CYC:3950
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1cc, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1CC  E0 23     CPX #$23                        A:11 X:23 Y:55 P:67 SP:FB PPU: 34,262 CYC:3952
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1ce, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1CE  50 02     BVC $D1D2                       A:11 X:23 Y:55 P:67 SP:FB PPU: 34,268 CYC:3954
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1d0, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1D0  F0 04     BEQ $D1D6                       A:11 X:23 Y:55 P:67 SP:FB PPU: 34,274 CYC:3956
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1d6, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1D6  A0 46     LDY #$46                        A:11 X:23 Y:55 P:67 SP:FB PPU: 34,283 CYC:3959
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1d8, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1D8  24 01     BIT $01 = FF                    A:11 X:23 Y:46 P:65 SP:FB PPU: 34,289 CYC:3961
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1da, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1DA  84 78     STY $78 = 55                    A:11 X:23 Y:46 P:E5 SP:FB PPU: 34,298 CYC:3964
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1dc, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1DC  F0 0A     BEQ $D1E8                       A:11 X:23 Y:46 P:E5 SP:FB PPU: 34,307 CYC:3967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1de, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1DE  10 08     BPL $D1E8                       A:11 X:23 Y:46 P:E5 SP:FB PPU: 34,313 CYC:3969
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1e0, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1E0  50 06     BVC $D1E8                       A:11 X:23 Y:46 P:E5 SP:FB PPU: 34,319 CYC:3971
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1e2, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1E2  A4 78     LDY $78 = 46                    A:11 X:23 Y:46 P:E5 SP:FB PPU: 34,325 CYC:3973
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1e4, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1E4  C0 46     CPY #$46                        A:11 X:23 Y:46 P:65 SP:FB PPU: 34,334 CYC:3976
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1e6, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1E6  F0 04     BEQ $D1EC                       A:11 X:23 Y:46 P:67 SP:FB PPU: 34,340 CYC:3978
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1ec, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1EC  24 01     BIT $01 = FF                    A:11 X:23 Y:46 P:67 SP:FB PPU: 35,  8 CYC:3981
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1ee, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1EE  A9 55     LDA #$55                        A:11 X:23 Y:46 P:E5 SP:FB PPU: 35, 17 CYC:3984
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1f0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1F0  85 78     STA $78 = 46                    A:55 X:23 Y:46 P:65 SP:FB PPU: 35, 23 CYC:3986
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1f2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1F2  A0 11     LDY #$11                        A:55 X:23 Y:46 P:65 SP:FB PPU: 35, 32 CYC:3989
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1f4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1F4  A9 23     LDA #$23                        A:55 X:23 Y:11 P:65 SP:FB PPU: 35, 38 CYC:3991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1f6, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1F6  A2 00     LDX #$00                        A:23 X:23 Y:11 P:65 SP:FB PPU: 35, 44 CYC:3993
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1f8, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1F8  A6 78     LDX $78 = 55                    A:23 X:00 Y:11 P:67 SP:FB PPU: 35, 50 CYC:3995
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd1fa, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1FA  F0 10     BEQ $D20C                       A:23 X:55 Y:11 P:65 SP:FB PPU: 35, 59 CYC:3998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1fc, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1FC  30 0E     BMI $D20C                       A:23 X:55 Y:11 P:65 SP:FB PPU: 35, 65 CYC:4000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd1fe, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D1FE  E0 55     CPX #$55                        A:23 X:55 Y:11 P:65 SP:FB PPU: 35, 71 CYC:4002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd200, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D200  D0 0A     BNE $D20C                       A:23 X:55 Y:11 P:67 SP:FB PPU: 35, 77 CYC:4004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd202, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D202  C0 11     CPY #$11                        A:23 X:55 Y:11 P:67 SP:FB PPU: 35, 83 CYC:4006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd204, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D204  D0 06     BNE $D20C                       A:23 X:55 Y:11 P:67 SP:FB PPU: 35, 89 CYC:4008
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd206, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D206  C9 23     CMP #$23                        A:23 X:55 Y:11 P:67 SP:FB PPU: 35, 95 CYC:4010
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd208, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D208  50 02     BVC $D20C                       A:23 X:55 Y:11 P:67 SP:FB PPU: 35,101 CYC:4012
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd20a, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D20A  F0 04     BEQ $D210                       A:23 X:55 Y:11 P:67 SP:FB PPU: 35,107 CYC:4014
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd210, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D210  A2 46     LDX #$46                        A:23 X:55 Y:11 P:67 SP:FB PPU: 35,116 CYC:4017
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd212, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D212  24 01     BIT $01 = FF                    A:23 X:46 Y:11 P:65 SP:FB PPU: 35,122 CYC:4019
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd214, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D214  86 78     STX $78 = 55                    A:23 X:46 Y:11 P:E5 SP:FB PPU: 35,131 CYC:4022
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd216, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D216  F0 0A     BEQ $D222                       A:23 X:46 Y:11 P:E5 SP:FB PPU: 35,140 CYC:4025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd218, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D218  10 08     BPL $D222                       A:23 X:46 Y:11 P:E5 SP:FB PPU: 35,146 CYC:4027
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd21a, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D21A  50 06     BVC $D222                       A:23 X:46 Y:11 P:E5 SP:FB PPU: 35,152 CYC:4029
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd21c, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D21C  A6 78     LDX $78 = 46                    A:23 X:46 Y:11 P:E5 SP:FB PPU: 35,158 CYC:4031
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd21e, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D21E  E0 46     CPX #$46                        A:23 X:46 Y:11 P:65 SP:FB PPU: 35,167 CYC:4034
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd220, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D220  F0 04     BEQ $D226                       A:23 X:46 Y:11 P:67 SP:FB PPU: 35,173 CYC:4036
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd226, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D226  A9 C0     LDA #$C0                        A:23 X:46 Y:11 P:67 SP:FB PPU: 35,182 CYC:4039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd228, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D228  85 78     STA $78 = 46                    A:C0 X:46 Y:11 P:E5 SP:FB PPU: 35,188 CYC:4041
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd22a, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D22A  A2 33     LDX #$33                        A:C0 X:46 Y:11 P:E5 SP:FB PPU: 35,197 CYC:4044
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd22c, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D22C  A0 88     LDY #$88                        A:C0 X:33 Y:11 P:65 SP:FB PPU: 35,203 CYC:4046
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd22e, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D22E  A9 05     LDA #$05                        A:C0 X:33 Y:88 P:E5 SP:FB PPU: 35,209 CYC:4048
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd230, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D230  24 78     BIT $78 = C0                    A:05 X:33 Y:88 P:65 SP:FB PPU: 35,215 CYC:4050
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd232, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D232  10 10     BPL $D244                       A:05 X:33 Y:88 P:E7 SP:FB PPU: 35,224 CYC:4053
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd234, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D234  50 0E     BVC $D244                       A:05 X:33 Y:88 P:E7 SP:FB PPU: 35,230 CYC:4055
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd236, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D236  D0 0C     BNE $D244                       A:05 X:33 Y:88 P:E7 SP:FB PPU: 35,236 CYC:4057
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd238, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D238  C9 05     CMP #$05                        A:05 X:33 Y:88 P:E7 SP:FB PPU: 35,242 CYC:4059
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd23a, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D23A  D0 08     BNE $D244                       A:05 X:33 Y:88 P:67 SP:FB PPU: 35,248 CYC:4061
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd23c, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D23C  E0 33     CPX #$33                        A:05 X:33 Y:88 P:67 SP:FB PPU: 35,254 CYC:4063
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd23e, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D23E  D0 04     BNE $D244                       A:05 X:33 Y:88 P:67 SP:FB PPU: 35,260 CYC:4065
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd240, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D240  C0 88     CPY #$88                        A:05 X:33 Y:88 P:67 SP:FB PPU: 35,266 CYC:4067
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd242, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D242  F0 04     BEQ $D248                       A:05 X:33 Y:88 P:67 SP:FB PPU: 35,272 CYC:4069
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd248, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D248  A9 03     LDA #$03                        A:05 X:33 Y:88 P:67 SP:FB PPU: 35,281 CYC:4072
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd24a, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D24A  85 78     STA $78 = C0                    A:03 X:33 Y:88 P:65 SP:FB PPU: 35,287 CYC:4074
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd24c, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D24C  A9 01     LDA #$01                        A:03 X:33 Y:88 P:65 SP:FB PPU: 35,296 CYC:4077
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd24e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D24E  24 78     BIT $78 = 03                    A:01 X:33 Y:88 P:65 SP:FB PPU: 35,302 CYC:4079
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd250, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D250  30 08     BMI $D25A                       A:01 X:33 Y:88 P:25 SP:FB PPU: 35,311 CYC:4082
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd252, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D252  70 06     BVS $D25A                       A:01 X:33 Y:88 P:25 SP:FB PPU: 35,317 CYC:4084
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd254, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D254  F0 04     BEQ $D25A                       A:01 X:33 Y:88 P:25 SP:FB PPU: 35,323 CYC:4086
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd256, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D256  C9 01     CMP #$01                        A:01 X:33 Y:88 P:25 SP:FB PPU: 35,329 CYC:4088
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd258, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D258  F0 04     BEQ $D25E                       A:01 X:33 Y:88 P:27 SP:FB PPU: 35,335 CYC:4090
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd25e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D25E  A0 7E     LDY #$7E                        A:01 X:33 Y:88 P:27 SP:FB PPU: 36,  3 CYC:4093
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd260, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D260  A9 AA     LDA #$AA                        A:01 X:33 Y:7E P:25 SP:FB PPU: 36,  9 CYC:4095
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd262, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D262  85 78     STA $78 = 03                    A:AA X:33 Y:7E P:A5 SP:FB PPU: 36, 15 CYC:4097
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd264, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D264  20 B6 F7  JSR $F7B6                       A:AA X:33 Y:7E P:A5 SP:FB PPU: 36, 24 CYC:4100
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B6  18        CLC                             A:AA X:33 Y:7E P:A5 SP:F9 PPU: 36, 42 CYC:4106
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B7  A9 FF     LDA #$FF                        A:AA X:33 Y:7E P:A4 SP:F9 PPU: 36, 48 CYC:4108
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B9  85 01     STA $01 = FF                    A:FF X:33 Y:7E P:A4 SP:F9 PPU: 36, 54 CYC:4110
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BB  24 01     BIT $01 = FF                    A:FF X:33 Y:7E P:A4 SP:F9 PPU: 36, 63 CYC:4113
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BD  A9 55     LDA #$55                        A:FF X:33 Y:7E P:E4 SP:F9 PPU: 36, 72 CYC:4116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BF  60        RTS                             A:55 X:33 Y:7E P:64 SP:F9 PPU: 36, 78 CYC:4118
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd267, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D267  05 78     ORA $78 = AA                    A:55 X:33 Y:7E P:64 SP:FB PPU: 36, 96 CYC:4124
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd269, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D269  20 C0 F7  JSR $F7C0                       A:FF X:33 Y:7E P:E4 SP:FB PPU: 36,105 CYC:4127
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C0  B0 09     BCS $F7CB                       A:FF X:33 Y:7E P:E4 SP:F9 PPU: 36,123 CYC:4133
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C2  10 07     BPL $F7CB                       A:FF X:33 Y:7E P:E4 SP:F9 PPU: 36,129 CYC:4135
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C4  C9 FF     CMP #$FF                        A:FF X:33 Y:7E P:E4 SP:F9 PPU: 36,135 CYC:4137
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C6  D0 03     BNE $F7CB                       A:FF X:33 Y:7E P:67 SP:F9 PPU: 36,141 CYC:4139
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C8  50 01     BVC $F7CB                       A:FF X:33 Y:7E P:67 SP:F9 PPU: 36,147 CYC:4141
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ca, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CA  60        RTS                             A:FF X:33 Y:7E P:67 SP:F9 PPU: 36,153 CYC:4143
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd26c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D26C  C8        INY                             A:FF X:33 Y:7E P:67 SP:FB PPU: 36,171 CYC:4149
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd26d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D26D  A9 00     LDA #$00                        A:FF X:33 Y:7F P:65 SP:FB PPU: 36,177 CYC:4151
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd26f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D26F  85 78     STA $78 = AA                    A:00 X:33 Y:7F P:67 SP:FB PPU: 36,183 CYC:4153
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd271, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D271  20 CE F7  JSR $F7CE                       A:00 X:33 Y:7F P:67 SP:FB PPU: 36,192 CYC:4156
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ce, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CE  38        SEC                             A:00 X:33 Y:7F P:67 SP:F9 PPU: 36,210 CYC:4162
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CF  B8        CLV                             A:00 X:33 Y:7F P:67 SP:F9 PPU: 36,216 CYC:4164
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D0  A9 00     LDA #$00                        A:00 X:33 Y:7F P:27 SP:F9 PPU: 36,222 CYC:4166
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D2  60        RTS                             A:00 X:33 Y:7F P:27 SP:F9 PPU: 36,228 CYC:4168
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd274, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D274  05 78     ORA $78 = 00                    A:00 X:33 Y:7F P:27 SP:FB PPU: 36,246 CYC:4174
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd276, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D276  20 D3 F7  JSR $F7D3                       A:00 X:33 Y:7F P:27 SP:FB PPU: 36,255 CYC:4177
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D3  D0 07     BNE $F7DC                       A:00 X:33 Y:7F P:27 SP:F9 PPU: 36,273 CYC:4183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D5  70 05     BVS $F7DC                       A:00 X:33 Y:7F P:27 SP:F9 PPU: 36,279 CYC:4185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D7  90 03     BCC $F7DC                       A:00 X:33 Y:7F P:27 SP:F9 PPU: 36,285 CYC:4187
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D9  30 01     BMI $F7DC                       A:00 X:33 Y:7F P:27 SP:F9 PPU: 36,291 CYC:4189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7db, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DB  60        RTS                             A:00 X:33 Y:7F P:27 SP:F9 PPU: 36,297 CYC:4191
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd279, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x7f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D279  C8        INY                             A:00 X:33 Y:7F P:27 SP:FB PPU: 36,315 CYC:4197
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd27a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D27A  A9 AA     LDA #$AA                        A:00 X:33 Y:80 P:A5 SP:FB PPU: 36,321 CYC:4199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd27c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D27C  85 78     STA $78 = 00                    A:AA X:33 Y:80 P:A5 SP:FB PPU: 36,327 CYC:4201
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd27e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D27E  20 DF F7  JSR $F7DF                       A:AA X:33 Y:80 P:A5 SP:FB PPU: 36,336 CYC:4204
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7df, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DF  18        CLC                             A:AA X:33 Y:80 P:A5 SP:F9 PPU: 37, 13 CYC:4210
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E0  24 01     BIT $01 = FF                    A:AA X:33 Y:80 P:A4 SP:F9 PPU: 37, 19 CYC:4212
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E2  A9 55     LDA #$55                        A:AA X:33 Y:80 P:E4 SP:F9 PPU: 37, 28 CYC:4215
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E4  60        RTS                             A:55 X:33 Y:80 P:64 SP:F9 PPU: 37, 34 CYC:4217
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd281, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D281  25 78     AND $78 = AA                    A:55 X:33 Y:80 P:64 SP:FB PPU: 37, 52 CYC:4223
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd283, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D283  20 E5 F7  JSR $F7E5                       A:00 X:33 Y:80 P:66 SP:FB PPU: 37, 61 CYC:4226
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E5  D0 07     BNE $F7EE                       A:00 X:33 Y:80 P:66 SP:F9 PPU: 37, 79 CYC:4232
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E7  50 05     BVC $F7EE                       A:00 X:33 Y:80 P:66 SP:F9 PPU: 37, 85 CYC:4234
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E9  B0 03     BCS $F7EE                       A:00 X:33 Y:80 P:66 SP:F9 PPU: 37, 91 CYC:4236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7eb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7EB  30 01     BMI $F7EE                       A:00 X:33 Y:80 P:66 SP:F9 PPU: 37, 97 CYC:4238
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ed, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7ED  60        RTS                             A:00 X:33 Y:80 P:66 SP:F9 PPU: 37,103 CYC:4240
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd286, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D286  C8        INY                             A:00 X:33 Y:80 P:66 SP:FB PPU: 37,121 CYC:4246
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd287, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D287  A9 EF     LDA #$EF                        A:00 X:33 Y:81 P:E4 SP:FB PPU: 37,127 CYC:4248
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd289, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D289  85 78     STA $78 = AA                    A:EF X:33 Y:81 P:E4 SP:FB PPU: 37,133 CYC:4250
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd28b, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D28B  20 F1 F7  JSR $F7F1                       A:EF X:33 Y:81 P:E4 SP:FB PPU: 37,142 CYC:4253
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f1, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F1  38        SEC                             A:EF X:33 Y:81 P:E4 SP:F9 PPU: 37,160 CYC:4259
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f2, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F2  B8        CLV                             A:EF X:33 Y:81 P:E5 SP:F9 PPU: 37,166 CYC:4261
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f3, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F3  A9 F8     LDA #$F8                        A:EF X:33 Y:81 P:A5 SP:F9 PPU: 37,172 CYC:4263
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f5, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F5  60        RTS                             A:F8 X:33 Y:81 P:A5 SP:F9 PPU: 37,178 CYC:4265
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd28e, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D28E  25 78     AND $78 = EF                    A:F8 X:33 Y:81 P:A5 SP:FB PPU: 37,196 CYC:4271
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd290, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D290  20 F6 F7  JSR $F7F6                       A:E8 X:33 Y:81 P:A5 SP:FB PPU: 37,205 CYC:4274
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f6, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F6  90 09     BCC $F801                       A:E8 X:33 Y:81 P:A5 SP:F9 PPU: 37,223 CYC:4280
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f8, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F8  10 07     BPL $F801                       A:E8 X:33 Y:81 P:A5 SP:F9 PPU: 37,229 CYC:4282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fa, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FA  C9 E8     CMP #$E8                        A:E8 X:33 Y:81 P:A5 SP:F9 PPU: 37,235 CYC:4284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fc, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FC  D0 03     BNE $F801                       A:E8 X:33 Y:81 P:27 SP:F9 PPU: 37,241 CYC:4286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fe, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FE  70 01     BVS $F801                       A:E8 X:33 Y:81 P:27 SP:F9 PPU: 37,247 CYC:4288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf800, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F800  60        RTS                             A:E8 X:33 Y:81 P:27 SP:F9 PPU: 37,253 CYC:4290
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd293, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D293  C8        INY                             A:E8 X:33 Y:81 P:27 SP:FB PPU: 37,271 CYC:4296
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd294, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D294  A9 AA     LDA #$AA                        A:E8 X:33 Y:82 P:A5 SP:FB PPU: 37,277 CYC:4298
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd296, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D296  85 78     STA $78 = EF                    A:AA X:33 Y:82 P:A5 SP:FB PPU: 37,283 CYC:4300
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd298, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D298  20 04 F8  JSR $F804                       A:AA X:33 Y:82 P:A5 SP:FB PPU: 37,292 CYC:4303
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf804, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F804  18        CLC                             A:AA X:33 Y:82 P:A5 SP:F9 PPU: 37,310 CYC:4309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf805, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F805  24 01     BIT $01 = FF                    A:AA X:33 Y:82 P:A4 SP:F9 PPU: 37,316 CYC:4311
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf807, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F807  A9 5F     LDA #$5F                        A:AA X:33 Y:82 P:E4 SP:F9 PPU: 37,325 CYC:4314
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf809, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F809  60        RTS                             A:5F X:33 Y:82 P:64 SP:F9 PPU: 37,331 CYC:4316
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd29b, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D29B  45 78     EOR $78 = AA                    A:5F X:33 Y:82 P:64 SP:FB PPU: 38,  8 CYC:4322
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd29d, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D29D  20 0A F8  JSR $F80A                       A:F5 X:33 Y:82 P:E4 SP:FB PPU: 38, 17 CYC:4325
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf80a, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80A  B0 09     BCS $F815                       A:F5 X:33 Y:82 P:E4 SP:F9 PPU: 38, 35 CYC:4331
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80c, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80C  10 07     BPL $F815                       A:F5 X:33 Y:82 P:E4 SP:F9 PPU: 38, 41 CYC:4333
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80E  C9 F5     CMP #$F5                        A:F5 X:33 Y:82 P:E4 SP:F9 PPU: 38, 47 CYC:4335
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf810, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F810  D0 03     BNE $F815                       A:F5 X:33 Y:82 P:67 SP:F9 PPU: 38, 53 CYC:4337
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf812, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F812  50 01     BVC $F815                       A:F5 X:33 Y:82 P:67 SP:F9 PPU: 38, 59 CYC:4339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf814, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F814  60        RTS                             A:F5 X:33 Y:82 P:67 SP:F9 PPU: 38, 65 CYC:4341
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2a0, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x82, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2A0  C8        INY                             A:F5 X:33 Y:82 P:67 SP:FB PPU: 38, 83 CYC:4347
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2a1, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2A1  A9 70     LDA #$70                        A:F5 X:33 Y:83 P:E5 SP:FB PPU: 38, 89 CYC:4349
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2a3, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2A3  85 78     STA $78 = AA                    A:70 X:33 Y:83 P:65 SP:FB PPU: 38, 95 CYC:4351
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2a5, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2A5  20 18 F8  JSR $F818                       A:70 X:33 Y:83 P:65 SP:FB PPU: 38,104 CYC:4354
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf818, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F818  38        SEC                             A:70 X:33 Y:83 P:65 SP:F9 PPU: 38,122 CYC:4360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf819, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F819  B8        CLV                             A:70 X:33 Y:83 P:65 SP:F9 PPU: 38,128 CYC:4362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81a, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81A  A9 70     LDA #$70                        A:70 X:33 Y:83 P:25 SP:F9 PPU: 38,134 CYC:4364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81c, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81C  60        RTS                             A:70 X:33 Y:83 P:25 SP:F9 PPU: 38,140 CYC:4366
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2a8, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2A8  45 78     EOR $78 = 70                    A:70 X:33 Y:83 P:25 SP:FB PPU: 38,158 CYC:4372
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2AA  20 1D F8  JSR $F81D                       A:00 X:33 Y:83 P:27 SP:FB PPU: 38,167 CYC:4375
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf81d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81D  D0 07     BNE $F826                       A:00 X:33 Y:83 P:27 SP:F9 PPU: 38,185 CYC:4381
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81F  70 05     BVS $F826                       A:00 X:33 Y:83 P:27 SP:F9 PPU: 38,191 CYC:4383
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf821, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F821  90 03     BCC $F826                       A:00 X:33 Y:83 P:27 SP:F9 PPU: 38,197 CYC:4385
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf823, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F823  30 01     BMI $F826                       A:00 X:33 Y:83 P:27 SP:F9 PPU: 38,203 CYC:4387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf825, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F825  60        RTS                             A:00 X:33 Y:83 P:27 SP:F9 PPU: 38,209 CYC:4389
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2ad, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x83, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2AD  C8        INY                             A:00 X:33 Y:83 P:27 SP:FB PPU: 38,227 CYC:4395
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2ae, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2AE  A9 69     LDA #$69                        A:00 X:33 Y:84 P:A5 SP:FB PPU: 38,233 CYC:4397
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2b0, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2B0  85 78     STA $78 = 70                    A:69 X:33 Y:84 P:25 SP:FB PPU: 38,239 CYC:4399
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2b2, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2B2  20 29 F8  JSR $F829                       A:69 X:33 Y:84 P:25 SP:FB PPU: 38,248 CYC:4402
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf829, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F829  18        CLC                             A:69 X:33 Y:84 P:25 SP:F9 PPU: 38,266 CYC:4408
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82A  24 01     BIT $01 = FF                    A:69 X:33 Y:84 P:24 SP:F9 PPU: 38,272 CYC:4410
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf82c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82C  A9 00     LDA #$00                        A:69 X:33 Y:84 P:E4 SP:F9 PPU: 38,281 CYC:4413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82E  60        RTS                             A:00 X:33 Y:84 P:66 SP:F9 PPU: 38,287 CYC:4415
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2b5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2B5  65 78     ADC $78 = 69                    A:00 X:33 Y:84 P:66 SP:FB PPU: 38,305 CYC:4421
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2b7, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2B7  20 2F F8  JSR $F82F                       A:69 X:33 Y:84 P:24 SP:FB PPU: 38,314 CYC:4424
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf82f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82F  30 09     BMI $F83A                       A:69 X:33 Y:84 P:24 SP:F9 PPU: 38,332 CYC:4430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf831, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F831  B0 07     BCS $F83A                       A:69 X:33 Y:84 P:24 SP:F9 PPU: 38,338 CYC:4432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf833, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F833  C9 69     CMP #$69                        A:69 X:33 Y:84 P:24 SP:F9 PPU: 39,  3 CYC:4434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf835, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F835  D0 03     BNE $F83A                       A:69 X:33 Y:84 P:27 SP:F9 PPU: 39,  9 CYC:4436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf837, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F837  70 01     BVS $F83A                       A:69 X:33 Y:84 P:27 SP:F9 PPU: 39, 15 CYC:4438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf839, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F839  60        RTS                             A:69 X:33 Y:84 P:27 SP:F9 PPU: 39, 21 CYC:4440
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2ba, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x84, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2BA  C8        INY                             A:69 X:33 Y:84 P:27 SP:FB PPU: 39, 39 CYC:4446
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2bb, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2BB  20 3D F8  JSR $F83D                       A:69 X:33 Y:85 P:A5 SP:FB PPU: 39, 45 CYC:4448
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf83d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83D  38        SEC                             A:69 X:33 Y:85 P:A5 SP:F9 PPU: 39, 63 CYC:4454
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf83e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83E  24 01     BIT $01 = FF                    A:69 X:33 Y:85 P:A5 SP:F9 PPU: 39, 69 CYC:4456
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf840, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F840  A9 00     LDA #$00                        A:69 X:33 Y:85 P:E5 SP:F9 PPU: 39, 78 CYC:4459
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf842, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F842  60        RTS                             A:00 X:33 Y:85 P:67 SP:F9 PPU: 39, 84 CYC:4461
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2be, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2BE  65 78     ADC $78 = 69                    A:00 X:33 Y:85 P:67 SP:FB PPU: 39,102 CYC:4467
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2c0, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2C0  20 43 F8  JSR $F843                       A:6A X:33 Y:85 P:24 SP:FB PPU: 39,111 CYC:4470
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf843, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F843  30 09     BMI $F84E                       A:6A X:33 Y:85 P:24 SP:F9 PPU: 39,129 CYC:4476
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf845, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F845  B0 07     BCS $F84E                       A:6A X:33 Y:85 P:24 SP:F9 PPU: 39,135 CYC:4478
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf847, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F847  C9 6A     CMP #$6A                        A:6A X:33 Y:85 P:24 SP:F9 PPU: 39,141 CYC:4480
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf849, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F849  D0 03     BNE $F84E                       A:6A X:33 Y:85 P:27 SP:F9 PPU: 39,147 CYC:4482
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84b, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84B  70 01     BVS $F84E                       A:6A X:33 Y:85 P:27 SP:F9 PPU: 39,153 CYC:4484
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84d, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84D  60        RTS                             A:6A X:33 Y:85 P:27 SP:F9 PPU: 39,159 CYC:4486
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2c3, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x85, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2C3  C8        INY                             A:6A X:33 Y:85 P:27 SP:FB PPU: 39,177 CYC:4492
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2c4, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2C4  A9 7F     LDA #$7F                        A:6A X:33 Y:86 P:A5 SP:FB PPU: 39,183 CYC:4494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2c6, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2C6  85 78     STA $78 = 69                    A:7F X:33 Y:86 P:25 SP:FB PPU: 39,189 CYC:4496
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2c8, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2C8  20 51 F8  JSR $F851                       A:7F X:33 Y:86 P:25 SP:FB PPU: 39,198 CYC:4499
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf851, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F851  38        SEC                             A:7F X:33 Y:86 P:25 SP:F9 PPU: 39,216 CYC:4505
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf852, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F852  B8        CLV                             A:7F X:33 Y:86 P:25 SP:F9 PPU: 39,222 CYC:4507
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf853, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F853  A9 7F     LDA #$7F                        A:7F X:33 Y:86 P:25 SP:F9 PPU: 39,228 CYC:4509
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf855, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F855  60        RTS                             A:7F X:33 Y:86 P:25 SP:F9 PPU: 39,234 CYC:4511
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2cb, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2CB  65 78     ADC $78 = 7F                    A:7F X:33 Y:86 P:25 SP:FB PPU: 39,252 CYC:4517
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2cd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2CD  20 56 F8  JSR $F856                       A:FF X:33 Y:86 P:E4 SP:FB PPU: 39,261 CYC:4520
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf856, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F856  10 09     BPL $F861                       A:FF X:33 Y:86 P:E4 SP:F9 PPU: 39,279 CYC:4526
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf858, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F858  B0 07     BCS $F861                       A:FF X:33 Y:86 P:E4 SP:F9 PPU: 39,285 CYC:4528
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85A  C9 FF     CMP #$FF                        A:FF X:33 Y:86 P:E4 SP:F9 PPU: 39,291 CYC:4530
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85C  D0 03     BNE $F861                       A:FF X:33 Y:86 P:67 SP:F9 PPU: 39,297 CYC:4532
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85E  50 01     BVC $F861                       A:FF X:33 Y:86 P:67 SP:F9 PPU: 39,303 CYC:4534
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf860, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F860  60        RTS                             A:FF X:33 Y:86 P:67 SP:F9 PPU: 39,309 CYC:4536
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2d0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x86, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2D0  C8        INY                             A:FF X:33 Y:86 P:67 SP:FB PPU: 39,327 CYC:4542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2d1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2D1  A9 80     LDA #$80                        A:FF X:33 Y:87 P:E5 SP:FB PPU: 39,333 CYC:4544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2d3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2D3  85 78     STA $78 = 7F                    A:80 X:33 Y:87 P:E5 SP:FB PPU: 39,339 CYC:4546
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2d5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2D5  20 64 F8  JSR $F864                       A:80 X:33 Y:87 P:E5 SP:FB PPU: 40,  7 CYC:4549
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf864, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F864  18        CLC                             A:80 X:33 Y:87 P:E5 SP:F9 PPU: 40, 25 CYC:4555
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf865, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F865  24 01     BIT $01 = FF                    A:80 X:33 Y:87 P:E4 SP:F9 PPU: 40, 31 CYC:4557
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf867, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F867  A9 7F     LDA #$7F                        A:80 X:33 Y:87 P:E4 SP:F9 PPU: 40, 40 CYC:4560
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf869, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F869  60        RTS                             A:7F X:33 Y:87 P:64 SP:F9 PPU: 40, 46 CYC:4562
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2d8, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2D8  65 78     ADC $78 = 80                    A:7F X:33 Y:87 P:64 SP:FB PPU: 40, 64 CYC:4568
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2da, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2DA  20 6A F8  JSR $F86A                       A:FF X:33 Y:87 P:A4 SP:FB PPU: 40, 73 CYC:4571
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf86a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86A  10 09     BPL $F875                       A:FF X:33 Y:87 P:A4 SP:F9 PPU: 40, 91 CYC:4577
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86C  B0 07     BCS $F875                       A:FF X:33 Y:87 P:A4 SP:F9 PPU: 40, 97 CYC:4579
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86E  C9 FF     CMP #$FF                        A:FF X:33 Y:87 P:A4 SP:F9 PPU: 40,103 CYC:4581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf870, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F870  D0 03     BNE $F875                       A:FF X:33 Y:87 P:27 SP:F9 PPU: 40,109 CYC:4583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf872, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F872  70 01     BVS $F875                       A:FF X:33 Y:87 P:27 SP:F9 PPU: 40,115 CYC:4585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf874, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F874  60        RTS                             A:FF X:33 Y:87 P:27 SP:F9 PPU: 40,121 CYC:4587
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2dd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x87, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2DD  C8        INY                             A:FF X:33 Y:87 P:27 SP:FB PPU: 40,139 CYC:4593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2de, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2DE  20 78 F8  JSR $F878                       A:FF X:33 Y:88 P:A5 SP:FB PPU: 40,145 CYC:4595
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf878, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F878  38        SEC                             A:FF X:33 Y:88 P:A5 SP:F9 PPU: 40,163 CYC:4601
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf879, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F879  B8        CLV                             A:FF X:33 Y:88 P:A5 SP:F9 PPU: 40,169 CYC:4603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87A  A9 7F     LDA #$7F                        A:FF X:33 Y:88 P:A5 SP:F9 PPU: 40,175 CYC:4605
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87C  60        RTS                             A:7F X:33 Y:88 P:25 SP:F9 PPU: 40,181 CYC:4607
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2e1, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2E1  65 78     ADC $78 = 80                    A:7F X:33 Y:88 P:25 SP:FB PPU: 40,199 CYC:4613
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2e3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2E3  20 7D F8  JSR $F87D                       A:00 X:33 Y:88 P:27 SP:FB PPU: 40,208 CYC:4616
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf87d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87D  D0 07     BNE $F886                       A:00 X:33 Y:88 P:27 SP:F9 PPU: 40,226 CYC:4622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87F  30 05     BMI $F886                       A:00 X:33 Y:88 P:27 SP:F9 PPU: 40,232 CYC:4624
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf881, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F881  70 03     BVS $F886                       A:00 X:33 Y:88 P:27 SP:F9 PPU: 40,238 CYC:4626
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf883, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F883  90 01     BCC $F886                       A:00 X:33 Y:88 P:27 SP:F9 PPU: 40,244 CYC:4628
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf885, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F885  60        RTS                             A:00 X:33 Y:88 P:27 SP:F9 PPU: 40,250 CYC:4630
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2e6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2E6  C8        INY                             A:00 X:33 Y:88 P:27 SP:FB PPU: 40,268 CYC:4636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2e7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2E7  A9 40     LDA #$40                        A:00 X:33 Y:89 P:A5 SP:FB PPU: 40,274 CYC:4638
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2e9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2E9  85 78     STA $78 = 80                    A:40 X:33 Y:89 P:25 SP:FB PPU: 40,280 CYC:4640
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2eb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2EB  20 89 F8  JSR $F889                       A:40 X:33 Y:89 P:25 SP:FB PPU: 40,289 CYC:4643
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf889, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F889  24 01     BIT $01 = FF                    A:40 X:33 Y:89 P:25 SP:F9 PPU: 40,307 CYC:4649
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf88b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88B  A9 40     LDA #$40                        A:40 X:33 Y:89 P:E5 SP:F9 PPU: 40,316 CYC:4652
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf88d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88D  60        RTS                             A:40 X:33 Y:89 P:65 SP:F9 PPU: 40,322 CYC:4654
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2ee, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2EE  C5 78     CMP $78 = 40                    A:40 X:33 Y:89 P:65 SP:FB PPU: 40,340 CYC:4660
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2f0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2F0  20 8E F8  JSR $F88E                       A:40 X:33 Y:89 P:67 SP:FB PPU: 41,  8 CYC:4663
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf88e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88E  30 07     BMI $F897                       A:40 X:33 Y:89 P:67 SP:F9 PPU: 41, 26 CYC:4669
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf890, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F890  90 05     BCC $F897                       A:40 X:33 Y:89 P:67 SP:F9 PPU: 41, 32 CYC:4671
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf892, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F892  D0 03     BNE $F897                       A:40 X:33 Y:89 P:67 SP:F9 PPU: 41, 38 CYC:4673
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf894, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F894  50 01     BVC $F897                       A:40 X:33 Y:89 P:67 SP:F9 PPU: 41, 44 CYC:4675
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf896, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F896  60        RTS                             A:40 X:33 Y:89 P:67 SP:F9 PPU: 41, 50 CYC:4677
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2f3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x89, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2F3  C8        INY                             A:40 X:33 Y:89 P:67 SP:FB PPU: 41, 68 CYC:4683
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2f4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2F4  48        PHA                             A:40 X:33 Y:8A P:E5 SP:FB PPU: 41, 74 CYC:4685
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2f5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D2F5  A9 3F     LDA #$3F                        A:40 X:33 Y:8A P:E5 SP:FA PPU: 41, 83 CYC:4688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd2f7, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D2F7  85 78     STA $78 = 40                    A:3F X:33 Y:8A P:65 SP:FA PPU: 41, 89 CYC:4690
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2f9, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D2F9  68        PLA                             A:3F X:33 Y:8A P:65 SP:FA PPU: 41, 98 CYC:4693
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd2fa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2FA  20 9A F8  JSR $F89A                       A:40 X:33 Y:8A P:65 SP:FB PPU: 41,110 CYC:4697
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89A  B8        CLV                             A:40 X:33 Y:8A P:65 SP:F9 PPU: 41,128 CYC:4703
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89B  60        RTS                             A:40 X:33 Y:8A P:25 SP:F9 PPU: 41,134 CYC:4705
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd2fd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2FD  C5 78     CMP $78 = 3F                    A:40 X:33 Y:8A P:25 SP:FB PPU: 41,152 CYC:4711
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd2ff, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D2FF  20 9C F8  JSR $F89C                       A:40 X:33 Y:8A P:25 SP:FB PPU: 41,161 CYC:4714
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89C  F0 07     BEQ $F8A5                       A:40 X:33 Y:8A P:25 SP:F9 PPU: 41,179 CYC:4720
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89E  30 05     BMI $F8A5                       A:40 X:33 Y:8A P:25 SP:F9 PPU: 41,185 CYC:4722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A0  90 03     BCC $F8A5                       A:40 X:33 Y:8A P:25 SP:F9 PPU: 41,191 CYC:4724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A2  70 01     BVS $F8A5                       A:40 X:33 Y:8A P:25 SP:F9 PPU: 41,197 CYC:4726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A4  60        RTS                             A:40 X:33 Y:8A P:25 SP:F9 PPU: 41,203 CYC:4728
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd302, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D302  C8        INY                             A:40 X:33 Y:8A P:25 SP:FB PPU: 41,221 CYC:4734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd303, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D303  48        PHA                             A:40 X:33 Y:8B P:A5 SP:FB PPU: 41,227 CYC:4736
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd304, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D304  A9 41     LDA #$41                        A:40 X:33 Y:8B P:A5 SP:FA PPU: 41,236 CYC:4739
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd306, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D306  85 78     STA $78 = 3F                    A:41 X:33 Y:8B P:25 SP:FA PPU: 41,242 CYC:4741
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd308, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D308  68        PLA                             A:41 X:33 Y:8B P:25 SP:FA PPU: 41,251 CYC:4744
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd309, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D309  C5 78     CMP $78 = 41                    A:40 X:33 Y:8B P:25 SP:FB PPU: 41,263 CYC:4748
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd30b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D30B  20 A8 F8  JSR $F8A8                       A:40 X:33 Y:8B P:A4 SP:FB PPU: 41,272 CYC:4751
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A8  F0 05     BEQ $F8AF                       A:40 X:33 Y:8B P:A4 SP:F9 PPU: 41,290 CYC:4757
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8aa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AA  10 03     BPL $F8AF                       A:40 X:33 Y:8B P:A4 SP:F9 PPU: 41,296 CYC:4759
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ac, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AC  10 01     BPL $F8AF                       A:40 X:33 Y:8B P:A4 SP:F9 PPU: 41,302 CYC:4761
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ae, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AE  60        RTS                             A:40 X:33 Y:8B P:A4 SP:F9 PPU: 41,308 CYC:4763
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd30e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D30E  C8        INY                             A:40 X:33 Y:8B P:A4 SP:FB PPU: 41,326 CYC:4769
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd30f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D30F  48        PHA                             A:40 X:33 Y:8C P:A4 SP:FB PPU: 41,332 CYC:4771
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd310, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D310  A9 00     LDA #$00                        A:40 X:33 Y:8C P:A4 SP:FA PPU: 42,  0 CYC:4774
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd312, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D312  85 78     STA $78 = 41                    A:00 X:33 Y:8C P:26 SP:FA PPU: 42,  6 CYC:4776
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd314, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D314  68        PLA                             A:00 X:33 Y:8C P:26 SP:FA PPU: 42, 15 CYC:4779
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd315, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D315  20 B2 F8  JSR $F8B2                       A:40 X:33 Y:8C P:24 SP:FB PPU: 42, 27 CYC:4783
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B2  A9 80     LDA #$80                        A:40 X:33 Y:8C P:24 SP:F9 PPU: 42, 45 CYC:4789
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B4  60        RTS                             A:80 X:33 Y:8C P:A4 SP:F9 PPU: 42, 51 CYC:4791
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd318, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D318  C5 78     CMP $78 = 00                    A:80 X:33 Y:8C P:A4 SP:FB PPU: 42, 69 CYC:4797
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd31a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D31A  20 B5 F8  JSR $F8B5                       A:80 X:33 Y:8C P:A5 SP:FB PPU: 42, 78 CYC:4800
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B5  F0 05     BEQ $F8BC                       A:80 X:33 Y:8C P:A5 SP:F9 PPU: 42, 96 CYC:4806
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B7  10 03     BPL $F8BC                       A:80 X:33 Y:8C P:A5 SP:F9 PPU: 42,102 CYC:4808
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B9  90 01     BCC $F8BC                       A:80 X:33 Y:8C P:A5 SP:F9 PPU: 42,108 CYC:4810
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BB  60        RTS                             A:80 X:33 Y:8C P:A5 SP:F9 PPU: 42,114 CYC:4812
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd31d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D31D  C8        INY                             A:80 X:33 Y:8C P:A5 SP:FB PPU: 42,132 CYC:4818
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd31e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D31E  48        PHA                             A:80 X:33 Y:8D P:A5 SP:FB PPU: 42,138 CYC:4820
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd31f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D31F  A9 80     LDA #$80                        A:80 X:33 Y:8D P:A5 SP:FA PPU: 42,147 CYC:4823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd321, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D321  85 78     STA $78 = 00                    A:80 X:33 Y:8D P:A5 SP:FA PPU: 42,153 CYC:4825
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd323, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D323  68        PLA                             A:80 X:33 Y:8D P:A5 SP:FA PPU: 42,162 CYC:4828
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd324, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D324  C5 78     CMP $78 = 80                    A:80 X:33 Y:8D P:A5 SP:FB PPU: 42,174 CYC:4832
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd326, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D326  20 BF F8  JSR $F8BF                       A:80 X:33 Y:8D P:27 SP:FB PPU: 42,183 CYC:4835
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BF  D0 05     BNE $F8C6                       A:80 X:33 Y:8D P:27 SP:F9 PPU: 42,201 CYC:4841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C1  30 03     BMI $F8C6                       A:80 X:33 Y:8D P:27 SP:F9 PPU: 42,207 CYC:4843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C3  90 01     BCC $F8C6                       A:80 X:33 Y:8D P:27 SP:F9 PPU: 42,213 CYC:4845
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C5  60        RTS                             A:80 X:33 Y:8D P:27 SP:F9 PPU: 42,219 CYC:4847
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd329, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D329  C8        INY                             A:80 X:33 Y:8D P:27 SP:FB PPU: 42,237 CYC:4853
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd32a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D32A  48        PHA                             A:80 X:33 Y:8E P:A5 SP:FB PPU: 42,243 CYC:4855
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd32b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D32B  A9 81     LDA #$81                        A:80 X:33 Y:8E P:A5 SP:FA PPU: 42,252 CYC:4858
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd32d, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D32D  85 78     STA $78 = 80                    A:81 X:33 Y:8E P:A5 SP:FA PPU: 42,258 CYC:4860
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd32f, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D32F  68        PLA                             A:81 X:33 Y:8E P:A5 SP:FA PPU: 42,267 CYC:4863
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd330, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D330  C5 78     CMP $78 = 81                    A:80 X:33 Y:8E P:A5 SP:FB PPU: 42,279 CYC:4867
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd332, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D332  20 C9 F8  JSR $F8C9                       A:80 X:33 Y:8E P:A4 SP:FB PPU: 42,288 CYC:4870
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C9  B0 05     BCS $F8D0                       A:80 X:33 Y:8E P:A4 SP:F9 PPU: 42,306 CYC:4876
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CB  F0 03     BEQ $F8D0                       A:80 X:33 Y:8E P:A4 SP:F9 PPU: 42,312 CYC:4878
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CD  10 01     BPL $F8D0                       A:80 X:33 Y:8E P:A4 SP:F9 PPU: 42,318 CYC:4880
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CF  60        RTS                             A:80 X:33 Y:8E P:A4 SP:F9 PPU: 42,324 CYC:4882
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd335, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8e, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D335  C8        INY                             A:80 X:33 Y:8E P:A4 SP:FB PPU: 43,  1 CYC:4888
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd336, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D336  48        PHA                             A:80 X:33 Y:8F P:A4 SP:FB PPU: 43,  7 CYC:4890
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd337, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D337  A9 7F     LDA #$7F                        A:80 X:33 Y:8F P:A4 SP:FA PPU: 43, 16 CYC:4893
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd339, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D339  85 78     STA $78 = 81                    A:7F X:33 Y:8F P:24 SP:FA PPU: 43, 22 CYC:4895
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd33b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D33B  68        PLA                             A:7F X:33 Y:8F P:24 SP:FA PPU: 43, 31 CYC:4898
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd33c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D33C  C5 78     CMP $78 = 7F                    A:80 X:33 Y:8F P:A4 SP:FB PPU: 43, 43 CYC:4902
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd33e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D33E  20 D3 F8  JSR $F8D3                       A:80 X:33 Y:8F P:25 SP:FB PPU: 43, 52 CYC:4905
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D3  90 05     BCC $F8DA                       A:80 X:33 Y:8F P:25 SP:F9 PPU: 43, 70 CYC:4911
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D5  F0 03     BEQ $F8DA                       A:80 X:33 Y:8F P:25 SP:F9 PPU: 43, 76 CYC:4913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D7  30 01     BMI $F8DA                       A:80 X:33 Y:8F P:25 SP:F9 PPU: 43, 82 CYC:4915
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D9  60        RTS                             A:80 X:33 Y:8F P:25 SP:F9 PPU: 43, 88 CYC:4917
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd341, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x8f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D341  C8        INY                             A:80 X:33 Y:8F P:25 SP:FB PPU: 43,106 CYC:4923
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd342, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D342  A9 40     LDA #$40                        A:80 X:33 Y:90 P:A5 SP:FB PPU: 43,112 CYC:4925
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd344, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D344  85 78     STA $78 = 7F                    A:40 X:33 Y:90 P:25 SP:FB PPU: 43,118 CYC:4927
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd346, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D346  20 31 F9  JSR $F931                       A:40 X:33 Y:90 P:25 SP:FB PPU: 43,127 CYC:4930
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf931, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F931  24 01     BIT $01 = FF                    A:40 X:33 Y:90 P:25 SP:F9 PPU: 43,145 CYC:4936
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf933, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F933  A9 40     LDA #$40                        A:40 X:33 Y:90 P:E5 SP:F9 PPU: 43,154 CYC:4939
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf935, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F935  38        SEC                             A:40 X:33 Y:90 P:65 SP:F9 PPU: 43,160 CYC:4941
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf936, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F936  60        RTS                             A:40 X:33 Y:90 P:65 SP:F9 PPU: 43,166 CYC:4943
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd349, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D349  E5 78     SBC $78 = 40                    A:40 X:33 Y:90 P:65 SP:FB PPU: 43,184 CYC:4949
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd34b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D34B  20 37 F9  JSR $F937                       A:00 X:33 Y:90 P:27 SP:FB PPU: 43,193 CYC:4952
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf937, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F937  30 0B     BMI $F944                       A:00 X:33 Y:90 P:27 SP:F9 PPU: 43,211 CYC:4958
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf939, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F939  90 09     BCC $F944                       A:00 X:33 Y:90 P:27 SP:F9 PPU: 43,217 CYC:4960
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93B  D0 07     BNE $F944                       A:00 X:33 Y:90 P:27 SP:F9 PPU: 43,223 CYC:4962
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93D  70 05     BVS $F944                       A:00 X:33 Y:90 P:27 SP:F9 PPU: 43,229 CYC:4964
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93F  C9 00     CMP #$00                        A:00 X:33 Y:90 P:27 SP:F9 PPU: 43,235 CYC:4966
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf941, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F941  D0 01     BNE $F944                       A:00 X:33 Y:90 P:27 SP:F9 PPU: 43,241 CYC:4968
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F943  60        RTS                             A:00 X:33 Y:90 P:27 SP:F9 PPU: 43,247 CYC:4970
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd34e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D34E  C8        INY                             A:00 X:33 Y:90 P:27 SP:FB PPU: 43,265 CYC:4976
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd34f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D34F  A9 3F     LDA #$3F                        A:00 X:33 Y:91 P:A5 SP:FB PPU: 43,271 CYC:4978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd351, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D351  85 78     STA $78 = 40                    A:3F X:33 Y:91 P:25 SP:FB PPU: 43,277 CYC:4980
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd353, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D353  20 47 F9  JSR $F947                       A:3F X:33 Y:91 P:25 SP:FB PPU: 43,286 CYC:4983
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf947, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F947  B8        CLV                             A:3F X:33 Y:91 P:25 SP:F9 PPU: 43,304 CYC:4989
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf948, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F948  38        SEC                             A:3F X:33 Y:91 P:25 SP:F9 PPU: 43,310 CYC:4991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf949, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F949  A9 40     LDA #$40                        A:3F X:33 Y:91 P:25 SP:F9 PPU: 43,316 CYC:4993
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94B  60        RTS                             A:40 X:33 Y:91 P:25 SP:F9 PPU: 43,322 CYC:4995
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd356, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D356  E5 78     SBC $78 = 3F                    A:40 X:33 Y:91 P:25 SP:FB PPU: 43,340 CYC:5001
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd358, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D358  20 4C F9  JSR $F94C                       A:01 X:33 Y:91 P:25 SP:FB PPU: 44,  8 CYC:5004
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf94c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94C  F0 0B     BEQ $F959                       A:01 X:33 Y:91 P:25 SP:F9 PPU: 44, 26 CYC:5010
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94E  30 09     BMI $F959                       A:01 X:33 Y:91 P:25 SP:F9 PPU: 44, 32 CYC:5012
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf950, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F950  90 07     BCC $F959                       A:01 X:33 Y:91 P:25 SP:F9 PPU: 44, 38 CYC:5014
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf952, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F952  70 05     BVS $F959                       A:01 X:33 Y:91 P:25 SP:F9 PPU: 44, 44 CYC:5016
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf954, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F954  C9 01     CMP #$01                        A:01 X:33 Y:91 P:25 SP:F9 PPU: 44, 50 CYC:5018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf956, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F956  D0 01     BNE $F959                       A:01 X:33 Y:91 P:27 SP:F9 PPU: 44, 56 CYC:5020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf958, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F958  60        RTS                             A:01 X:33 Y:91 P:27 SP:F9 PPU: 44, 62 CYC:5022
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd35b, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D35B  C8        INY                             A:01 X:33 Y:91 P:27 SP:FB PPU: 44, 80 CYC:5028
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd35c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D35C  A9 41     LDA #$41                        A:01 X:33 Y:92 P:A5 SP:FB PPU: 44, 86 CYC:5030
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd35e, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D35E  85 78     STA $78 = 3F                    A:41 X:33 Y:92 P:25 SP:FB PPU: 44, 92 CYC:5032
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd360, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D360  20 5C F9  JSR $F95C                       A:41 X:33 Y:92 P:25 SP:FB PPU: 44,101 CYC:5035
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf95c, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95C  A9 40     LDA #$40                        A:41 X:33 Y:92 P:25 SP:F9 PPU: 44,119 CYC:5041
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95E  38        SEC                             A:40 X:33 Y:92 P:25 SP:F9 PPU: 44,125 CYC:5043
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95F  24 01     BIT $01 = FF                    A:40 X:33 Y:92 P:25 SP:F9 PPU: 44,131 CYC:5045
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf961, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F961  60        RTS                             A:40 X:33 Y:92 P:E5 SP:F9 PPU: 44,140 CYC:5048
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd363, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D363  E5 78     SBC $78 = 41                    A:40 X:33 Y:92 P:E5 SP:FB PPU: 44,158 CYC:5054
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd365, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D365  20 62 F9  JSR $F962                       A:FF X:33 Y:92 P:A4 SP:FB PPU: 44,167 CYC:5057
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F962  B0 0B     BCS $F96F                       A:FF X:33 Y:92 P:A4 SP:F9 PPU: 44,185 CYC:5063
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F964  F0 09     BEQ $F96F                       A:FF X:33 Y:92 P:A4 SP:F9 PPU: 44,191 CYC:5065
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F966  10 07     BPL $F96F                       A:FF X:33 Y:92 P:A4 SP:F9 PPU: 44,197 CYC:5067
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf968, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F968  70 05     BVS $F96F                       A:FF X:33 Y:92 P:A4 SP:F9 PPU: 44,203 CYC:5069
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96A  C9 FF     CMP #$FF                        A:FF X:33 Y:92 P:A4 SP:F9 PPU: 44,209 CYC:5071
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96C  D0 01     BNE $F96F                       A:FF X:33 Y:92 P:27 SP:F9 PPU: 44,215 CYC:5073
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96E  60        RTS                             A:FF X:33 Y:92 P:27 SP:F9 PPU: 44,221 CYC:5075
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd368, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D368  C8        INY                             A:FF X:33 Y:92 P:27 SP:FB PPU: 44,239 CYC:5081
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd369, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D369  A9 00     LDA #$00                        A:FF X:33 Y:93 P:A5 SP:FB PPU: 44,245 CYC:5083
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd36b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D36B  85 78     STA $78 = 41                    A:00 X:33 Y:93 P:27 SP:FB PPU: 44,251 CYC:5085
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd36d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D36D  20 72 F9  JSR $F972                       A:00 X:33 Y:93 P:27 SP:FB PPU: 44,260 CYC:5088
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf972, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F972  18        CLC                             A:00 X:33 Y:93 P:27 SP:F9 PPU: 44,278 CYC:5094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf973, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F973  A9 80     LDA #$80                        A:00 X:33 Y:93 P:26 SP:F9 PPU: 44,284 CYC:5096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf975, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F975  60        RTS                             A:80 X:33 Y:93 P:A4 SP:F9 PPU: 44,290 CYC:5098
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd370, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D370  E5 78     SBC $78 = 00                    A:80 X:33 Y:93 P:A4 SP:FB PPU: 44,308 CYC:5104
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd372, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D372  20 76 F9  JSR $F976                       A:7F X:33 Y:93 P:65 SP:FB PPU: 44,317 CYC:5107
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf976, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F976  90 05     BCC $F97D                       A:7F X:33 Y:93 P:65 SP:F9 PPU: 44,335 CYC:5113
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf978, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F978  C9 7F     CMP #$7F                        A:7F X:33 Y:93 P:65 SP:F9 PPU: 45,  0 CYC:5115
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97A  D0 01     BNE $F97D                       A:7F X:33 Y:93 P:67 SP:F9 PPU: 45,  6 CYC:5117
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97C  60        RTS                             A:7F X:33 Y:93 P:67 SP:F9 PPU: 45, 12 CYC:5119
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd375, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D375  C8        INY                             A:7F X:33 Y:93 P:67 SP:FB PPU: 45, 30 CYC:5125
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd376, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D376  A9 7F     LDA #$7F                        A:7F X:33 Y:94 P:E5 SP:FB PPU: 45, 36 CYC:5127
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd378, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D378  85 78     STA $78 = 00                    A:7F X:33 Y:94 P:65 SP:FB PPU: 45, 42 CYC:5129
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd37a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D37A  20 80 F9  JSR $F980                       A:7F X:33 Y:94 P:65 SP:FB PPU: 45, 51 CYC:5132
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F980  38        SEC                             A:7F X:33 Y:94 P:65 SP:F9 PPU: 45, 69 CYC:5138
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf981, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F981  A9 81     LDA #$81                        A:7F X:33 Y:94 P:65 SP:F9 PPU: 45, 75 CYC:5140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf983, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F983  60        RTS                             A:81 X:33 Y:94 P:E5 SP:F9 PPU: 45, 81 CYC:5142
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd37d, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D37D  E5 78     SBC $78 = 7F                    A:81 X:33 Y:94 P:E5 SP:FB PPU: 45, 99 CYC:5148
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd37f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D37F  20 84 F9  JSR $F984                       A:02 X:33 Y:94 P:65 SP:FB PPU: 45,108 CYC:5151
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf984, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F984  50 07     BVC $F98D                       A:02 X:33 Y:94 P:65 SP:F9 PPU: 45,126 CYC:5157
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf986, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F986  90 05     BCC $F98D                       A:02 X:33 Y:94 P:65 SP:F9 PPU: 45,132 CYC:5159
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf988, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F988  C9 02     CMP #$02                        A:02 X:33 Y:94 P:65 SP:F9 PPU: 45,138 CYC:5161
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98A  D0 01     BNE $F98D                       A:02 X:33 Y:94 P:67 SP:F9 PPU: 45,144 CYC:5163
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98C  60        RTS                             A:02 X:33 Y:94 P:67 SP:F9 PPU: 45,150 CYC:5165
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd382, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D382  C8        INY                             A:02 X:33 Y:94 P:67 SP:FB PPU: 45,168 CYC:5171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd383, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D383  A9 40     LDA #$40                        A:02 X:33 Y:95 P:E5 SP:FB PPU: 45,174 CYC:5173
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd385, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D385  85 78     STA $78 = 7F                    A:40 X:33 Y:95 P:65 SP:FB PPU: 45,180 CYC:5175
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd387, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D387  20 89 F8  JSR $F889                       A:40 X:33 Y:95 P:65 SP:FB PPU: 45,189 CYC:5178
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf889, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F889  24 01     BIT $01 = FF                    A:40 X:33 Y:95 P:65 SP:F9 PPU: 45,207 CYC:5184
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf88b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88B  A9 40     LDA #$40                        A:40 X:33 Y:95 P:E5 SP:F9 PPU: 45,216 CYC:5187
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf88d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88D  60        RTS                             A:40 X:33 Y:95 P:65 SP:F9 PPU: 45,222 CYC:5189
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd38a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D38A  AA        TAX                             A:40 X:33 Y:95 P:65 SP:FB PPU: 45,240 CYC:5195
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd38b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D38B  E4 78     CPX $78 = 40                    A:40 X:40 Y:95 P:65 SP:FB PPU: 45,246 CYC:5197
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd38d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D38D  20 8E F8  JSR $F88E                       A:40 X:40 Y:95 P:67 SP:FB PPU: 45,255 CYC:5200
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf88e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88E  30 07     BMI $F897                       A:40 X:40 Y:95 P:67 SP:F9 PPU: 45,273 CYC:5206
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf890, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F890  90 05     BCC $F897                       A:40 X:40 Y:95 P:67 SP:F9 PPU: 45,279 CYC:5208
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf892, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F892  D0 03     BNE $F897                       A:40 X:40 Y:95 P:67 SP:F9 PPU: 45,285 CYC:5210
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf894, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F894  50 01     BVC $F897                       A:40 X:40 Y:95 P:67 SP:F9 PPU: 45,291 CYC:5212
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf896, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F896  60        RTS                             A:40 X:40 Y:95 P:67 SP:F9 PPU: 45,297 CYC:5214
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd390, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D390  C8        INY                             A:40 X:40 Y:95 P:67 SP:FB PPU: 45,315 CYC:5220
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd391, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D391  A9 3F     LDA #$3F                        A:40 X:40 Y:96 P:E5 SP:FB PPU: 45,321 CYC:5222
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd393, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D393  85 78     STA $78 = 40                    A:3F X:40 Y:96 P:65 SP:FB PPU: 45,327 CYC:5224
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd395, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D395  20 9A F8  JSR $F89A                       A:3F X:40 Y:96 P:65 SP:FB PPU: 45,336 CYC:5227
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89a, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89A  B8        CLV                             A:3F X:40 Y:96 P:65 SP:F9 PPU: 46, 13 CYC:5233
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89b, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89B  60        RTS                             A:3F X:40 Y:96 P:25 SP:F9 PPU: 46, 19 CYC:5235
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd398, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D398  E4 78     CPX $78 = 3F                    A:3F X:40 Y:96 P:25 SP:FB PPU: 46, 37 CYC:5241
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd39a, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D39A  20 9C F8  JSR $F89C                       A:3F X:40 Y:96 P:25 SP:FB PPU: 46, 46 CYC:5244
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89c, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89C  F0 07     BEQ $F8A5                       A:3F X:40 Y:96 P:25 SP:F9 PPU: 46, 64 CYC:5250
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89e, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89E  30 05     BMI $F8A5                       A:3F X:40 Y:96 P:25 SP:F9 PPU: 46, 70 CYC:5252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a0, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A0  90 03     BCC $F8A5                       A:3F X:40 Y:96 P:25 SP:F9 PPU: 46, 76 CYC:5254
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a2, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A2  70 01     BVS $F8A5                       A:3F X:40 Y:96 P:25 SP:F9 PPU: 46, 82 CYC:5256
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a4, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A4  60        RTS                             A:3F X:40 Y:96 P:25 SP:F9 PPU: 46, 88 CYC:5258
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd39d, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D39D  C8        INY                             A:3F X:40 Y:96 P:25 SP:FB PPU: 46,106 CYC:5264
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd39e, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D39E  A9 41     LDA #$41                        A:3F X:40 Y:97 P:A5 SP:FB PPU: 46,112 CYC:5266
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3a0, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3A0  85 78     STA $78 = 3F                    A:41 X:40 Y:97 P:25 SP:FB PPU: 46,118 CYC:5268
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3a2, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3A2  E4 78     CPX $78 = 41                    A:41 X:40 Y:97 P:25 SP:FB PPU: 46,127 CYC:5271
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3a4, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3A4  20 A8 F8  JSR $F8A8                       A:41 X:40 Y:97 P:A4 SP:FB PPU: 46,136 CYC:5274
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a8, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A8  F0 05     BEQ $F8AF                       A:41 X:40 Y:97 P:A4 SP:F9 PPU: 46,154 CYC:5280
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8aa, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AA  10 03     BPL $F8AF                       A:41 X:40 Y:97 P:A4 SP:F9 PPU: 46,160 CYC:5282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ac, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AC  10 01     BPL $F8AF                       A:41 X:40 Y:97 P:A4 SP:F9 PPU: 46,166 CYC:5284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ae, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AE  60        RTS                             A:41 X:40 Y:97 P:A4 SP:F9 PPU: 46,172 CYC:5286
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3a7, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3A7  C8        INY                             A:41 X:40 Y:97 P:A4 SP:FB PPU: 46,190 CYC:5292
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3a8, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3A8  A9 00     LDA #$00                        A:41 X:40 Y:98 P:A4 SP:FB PPU: 46,196 CYC:5294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3AA  85 78     STA $78 = 41                    A:00 X:40 Y:98 P:26 SP:FB PPU: 46,202 CYC:5296
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3ac, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3AC  20 B2 F8  JSR $F8B2                       A:00 X:40 Y:98 P:26 SP:FB PPU: 46,211 CYC:5299
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B2  A9 80     LDA #$80                        A:00 X:40 Y:98 P:26 SP:F9 PPU: 46,229 CYC:5305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B4  60        RTS                             A:80 X:40 Y:98 P:A4 SP:F9 PPU: 46,235 CYC:5307
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3af, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3AF  AA        TAX                             A:80 X:40 Y:98 P:A4 SP:FB PPU: 46,253 CYC:5313
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3b0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3B0  E4 78     CPX $78 = 00                    A:80 X:80 Y:98 P:A4 SP:FB PPU: 46,259 CYC:5315
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3b2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3B2  20 B5 F8  JSR $F8B5                       A:80 X:80 Y:98 P:A5 SP:FB PPU: 46,268 CYC:5318
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B5  F0 05     BEQ $F8BC                       A:80 X:80 Y:98 P:A5 SP:F9 PPU: 46,286 CYC:5324
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B7  10 03     BPL $F8BC                       A:80 X:80 Y:98 P:A5 SP:F9 PPU: 46,292 CYC:5326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B9  90 01     BCC $F8BC                       A:80 X:80 Y:98 P:A5 SP:F9 PPU: 46,298 CYC:5328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BB  60        RTS                             A:80 X:80 Y:98 P:A5 SP:F9 PPU: 46,304 CYC:5330
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3B5  C8        INY                             A:80 X:80 Y:98 P:A5 SP:FB PPU: 46,322 CYC:5336
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3b6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3B6  A9 80     LDA #$80                        A:80 X:80 Y:99 P:A5 SP:FB PPU: 46,328 CYC:5338
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3b8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3B8  85 78     STA $78 = 00                    A:80 X:80 Y:99 P:A5 SP:FB PPU: 46,334 CYC:5340
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3ba, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3BA  E4 78     CPX $78 = 80                    A:80 X:80 Y:99 P:A5 SP:FB PPU: 47,  2 CYC:5343
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3bc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3BC  20 BF F8  JSR $F8BF                       A:80 X:80 Y:99 P:27 SP:FB PPU: 47, 11 CYC:5346
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BF  D0 05     BNE $F8C6                       A:80 X:80 Y:99 P:27 SP:F9 PPU: 47, 29 CYC:5352
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C1  30 03     BMI $F8C6                       A:80 X:80 Y:99 P:27 SP:F9 PPU: 47, 35 CYC:5354
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C3  90 01     BCC $F8C6                       A:80 X:80 Y:99 P:27 SP:F9 PPU: 47, 41 CYC:5356
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C5  60        RTS                             A:80 X:80 Y:99 P:27 SP:F9 PPU: 47, 47 CYC:5358
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3BF  C8        INY                             A:80 X:80 Y:99 P:27 SP:FB PPU: 47, 65 CYC:5364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3c0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3C0  A9 81     LDA #$81                        A:80 X:80 Y:9A P:A5 SP:FB PPU: 47, 71 CYC:5366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3c2, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3C2  85 78     STA $78 = 80                    A:81 X:80 Y:9A P:A5 SP:FB PPU: 47, 77 CYC:5368
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3c4, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3C4  E4 78     CPX $78 = 81                    A:81 X:80 Y:9A P:A5 SP:FB PPU: 47, 86 CYC:5371
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3c6, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3C6  20 C9 F8  JSR $F8C9                       A:81 X:80 Y:9A P:A4 SP:FB PPU: 47, 95 CYC:5374
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c9, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C9  B0 05     BCS $F8D0                       A:81 X:80 Y:9A P:A4 SP:F9 PPU: 47,113 CYC:5380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cb, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CB  F0 03     BEQ $F8D0                       A:81 X:80 Y:9A P:A4 SP:F9 PPU: 47,119 CYC:5382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cd, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CD  10 01     BPL $F8D0                       A:81 X:80 Y:9A P:A4 SP:F9 PPU: 47,125 CYC:5384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cf, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CF  60        RTS                             A:81 X:80 Y:9A P:A4 SP:F9 PPU: 47,131 CYC:5386
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3c9, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3C9  C8        INY                             A:81 X:80 Y:9A P:A4 SP:FB PPU: 47,149 CYC:5392
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3ca, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3CA  A9 7F     LDA #$7F                        A:81 X:80 Y:9B P:A4 SP:FB PPU: 47,155 CYC:5394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3cc, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3CC  85 78     STA $78 = 81                    A:7F X:80 Y:9B P:24 SP:FB PPU: 47,161 CYC:5396
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3ce, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3CE  E4 78     CPX $78 = 7F                    A:7F X:80 Y:9B P:24 SP:FB PPU: 47,170 CYC:5399
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3d0, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3D0  20 D3 F8  JSR $F8D3                       A:7F X:80 Y:9B P:25 SP:FB PPU: 47,179 CYC:5402
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d3, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D3  90 05     BCC $F8DA                       A:7F X:80 Y:9B P:25 SP:F9 PPU: 47,197 CYC:5408
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d5, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D5  F0 03     BEQ $F8DA                       A:7F X:80 Y:9B P:25 SP:F9 PPU: 47,203 CYC:5410
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d7, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D7  30 01     BMI $F8DA                       A:7F X:80 Y:9B P:25 SP:F9 PPU: 47,209 CYC:5412
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d9, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D9  60        RTS                             A:7F X:80 Y:9B P:25 SP:F9 PPU: 47,215 CYC:5414
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3d3, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3D3  C8        INY                             A:7F X:80 Y:9B P:25 SP:FB PPU: 47,233 CYC:5420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3d4, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3D4  98        TYA                             A:7F X:80 Y:9C P:A5 SP:FB PPU: 47,239 CYC:5422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3d5, cpu.pc);
    try expectEqual(0x9c, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3D5  AA        TAX                             A:9C X:80 Y:9C P:A5 SP:FB PPU: 47,245 CYC:5424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3d6, cpu.pc);
    try expectEqual(0x9c, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3D6  A9 40     LDA #$40                        A:9C X:9C Y:9C P:A5 SP:FB PPU: 47,251 CYC:5426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3d8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3D8  85 78     STA $78 = 7F                    A:40 X:9C Y:9C P:25 SP:FB PPU: 47,257 CYC:5428
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3da, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3DA  20 DD F8  JSR $F8DD                       A:40 X:9C Y:9C P:25 SP:FB PPU: 47,266 CYC:5431
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8dd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8DD  24 01     BIT $01 = FF                    A:40 X:9C Y:9C P:25 SP:F9 PPU: 47,284 CYC:5437
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf8df, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8DF  A0 40     LDY #$40                        A:40 X:9C Y:9C P:E5 SP:F9 PPU: 47,293 CYC:5440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E1  60        RTS                             A:40 X:9C Y:40 P:65 SP:F9 PPU: 47,299 CYC:5442
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3dd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3DD  C4 78     CPY $78 = 40                    A:40 X:9C Y:40 P:65 SP:FB PPU: 47,317 CYC:5448
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3df, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3DF  20 E2 F8  JSR $F8E2                       A:40 X:9C Y:40 P:67 SP:FB PPU: 47,326 CYC:5451
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E2  30 07     BMI $F8EB                       A:40 X:9C Y:40 P:67 SP:F9 PPU: 48,  3 CYC:5457
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E4  90 05     BCC $F8EB                       A:40 X:9C Y:40 P:67 SP:F9 PPU: 48,  9 CYC:5459
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E6  D0 03     BNE $F8EB                       A:40 X:9C Y:40 P:67 SP:F9 PPU: 48, 15 CYC:5461
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E8  50 01     BVC $F8EB                       A:40 X:9C Y:40 P:67 SP:F9 PPU: 48, 21 CYC:5463
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ea, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8EA  60        RTS                             A:40 X:9C Y:40 P:67 SP:F9 PPU: 48, 27 CYC:5465
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3e2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9c, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3E2  E8        INX                             A:40 X:9C Y:40 P:67 SP:FB PPU: 48, 45 CYC:5471
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3e3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3E3  A9 3F     LDA #$3F                        A:40 X:9D Y:40 P:E5 SP:FB PPU: 48, 51 CYC:5473
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3e5, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3E5  85 78     STA $78 = 40                    A:3F X:9D Y:40 P:65 SP:FB PPU: 48, 57 CYC:5475
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3e7, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3E7  20 EE F8  JSR $F8EE                       A:3F X:9D Y:40 P:65 SP:FB PPU: 48, 66 CYC:5478
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ee, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8EE  B8        CLV                             A:3F X:9D Y:40 P:65 SP:F9 PPU: 48, 84 CYC:5484
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ef, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8EF  60        RTS                             A:3F X:9D Y:40 P:25 SP:F9 PPU: 48, 90 CYC:5486
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3ea, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3EA  C4 78     CPY $78 = 3F                    A:3F X:9D Y:40 P:25 SP:FB PPU: 48,108 CYC:5492
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3ec, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3EC  20 F0 F8  JSR $F8F0                       A:3F X:9D Y:40 P:25 SP:FB PPU: 48,117 CYC:5495
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f0, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F0  F0 07     BEQ $F8F9                       A:3F X:9D Y:40 P:25 SP:F9 PPU: 48,135 CYC:5501
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f2, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F2  30 05     BMI $F8F9                       A:3F X:9D Y:40 P:25 SP:F9 PPU: 48,141 CYC:5503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f4, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F4  90 03     BCC $F8F9                       A:3F X:9D Y:40 P:25 SP:F9 PPU: 48,147 CYC:5505
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f6, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F6  70 01     BVS $F8F9                       A:3F X:9D Y:40 P:25 SP:F9 PPU: 48,153 CYC:5507
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f8, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F8  60        RTS                             A:3F X:9D Y:40 P:25 SP:F9 PPU: 48,159 CYC:5509
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3ef, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9d, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3EF  E8        INX                             A:3F X:9D Y:40 P:25 SP:FB PPU: 48,177 CYC:5515
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3f0, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3F0  A9 41     LDA #$41                        A:3F X:9E Y:40 P:A5 SP:FB PPU: 48,183 CYC:5517
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3f2, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3F2  85 78     STA $78 = 3F                    A:41 X:9E Y:40 P:25 SP:FB PPU: 48,189 CYC:5519
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3f4, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3F4  C4 78     CPY $78 = 41                    A:41 X:9E Y:40 P:25 SP:FB PPU: 48,198 CYC:5522
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3f6, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3F6  20 FC F8  JSR $F8FC                       A:41 X:9E Y:40 P:A4 SP:FB PPU: 48,207 CYC:5525
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8fc, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8FC  F0 05     BEQ $F903                       A:41 X:9E Y:40 P:A4 SP:F9 PPU: 48,225 CYC:5531
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8fe, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8FE  10 03     BPL $F903                       A:41 X:9E Y:40 P:A4 SP:F9 PPU: 48,231 CYC:5533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf900, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F900  10 01     BPL $F903                       A:41 X:9E Y:40 P:A4 SP:F9 PPU: 48,237 CYC:5535
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf902, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F902  60        RTS                             A:41 X:9E Y:40 P:A4 SP:F9 PPU: 48,243 CYC:5537
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd3f9, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9e, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3F9  E8        INX                             A:41 X:9E Y:40 P:A4 SP:FB PPU: 48,261 CYC:5543
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3fa, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3FA  A9 00     LDA #$00                        A:41 X:9F Y:40 P:A4 SP:FB PPU: 48,267 CYC:5545
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd3fc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3FC  85 78     STA $78 = 41                    A:00 X:9F Y:40 P:26 SP:FB PPU: 48,273 CYC:5547
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd3fe, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D3FE  20 06 F9  JSR $F906                       A:00 X:9F Y:40 P:26 SP:FB PPU: 48,282 CYC:5550
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf906, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F906  A0 80     LDY #$80                        A:00 X:9F Y:40 P:26 SP:F9 PPU: 48,300 CYC:5556
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf908, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F908  60        RTS                             A:00 X:9F Y:80 P:A4 SP:F9 PPU: 48,306 CYC:5558
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd401, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D401  C4 78     CPY $78 = 00                    A:00 X:9F Y:80 P:A4 SP:FB PPU: 48,324 CYC:5564
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd403, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D403  20 09 F9  JSR $F909                       A:00 X:9F Y:80 P:A5 SP:FB PPU: 48,333 CYC:5567
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf909, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F909  F0 05     BEQ $F910                       A:00 X:9F Y:80 P:A5 SP:F9 PPU: 49, 10 CYC:5573
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf90b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F90B  10 03     BPL $F910                       A:00 X:9F Y:80 P:A5 SP:F9 PPU: 49, 16 CYC:5575
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf90d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F90D  90 01     BCC $F910                       A:00 X:9F Y:80 P:A5 SP:F9 PPU: 49, 22 CYC:5577
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf90f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F90F  60        RTS                             A:00 X:9F Y:80 P:A5 SP:F9 PPU: 49, 28 CYC:5579
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd406, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x9f, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D406  E8        INX                             A:00 X:9F Y:80 P:A5 SP:FB PPU: 49, 46 CYC:5585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd407, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D407  A9 80     LDA #$80                        A:00 X:A0 Y:80 P:A5 SP:FB PPU: 49, 52 CYC:5587
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd409, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D409  85 78     STA $78 = 00                    A:80 X:A0 Y:80 P:A5 SP:FB PPU: 49, 58 CYC:5589
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd40b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D40B  C4 78     CPY $78 = 80                    A:80 X:A0 Y:80 P:A5 SP:FB PPU: 49, 67 CYC:5592
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd40d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D40D  20 13 F9  JSR $F913                       A:80 X:A0 Y:80 P:27 SP:FB PPU: 49, 76 CYC:5595
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf913, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F913  D0 05     BNE $F91A                       A:80 X:A0 Y:80 P:27 SP:F9 PPU: 49, 94 CYC:5601
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf915, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F915  30 03     BMI $F91A                       A:80 X:A0 Y:80 P:27 SP:F9 PPU: 49,100 CYC:5603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf917, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F917  90 01     BCC $F91A                       A:80 X:A0 Y:80 P:27 SP:F9 PPU: 49,106 CYC:5605
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf919, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F919  60        RTS                             A:80 X:A0 Y:80 P:27 SP:F9 PPU: 49,112 CYC:5607
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd410, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa0, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D410  E8        INX                             A:80 X:A0 Y:80 P:27 SP:FB PPU: 49,130 CYC:5613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd411, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D411  A9 81     LDA #$81                        A:80 X:A1 Y:80 P:A5 SP:FB PPU: 49,136 CYC:5615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd413, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D413  85 78     STA $78 = 80                    A:81 X:A1 Y:80 P:A5 SP:FB PPU: 49,142 CYC:5617
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd415, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D415  C4 78     CPY $78 = 81                    A:81 X:A1 Y:80 P:A5 SP:FB PPU: 49,151 CYC:5620
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd417, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D417  20 1D F9  JSR $F91D                       A:81 X:A1 Y:80 P:A4 SP:FB PPU: 49,160 CYC:5623
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf91d, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F91D  B0 05     BCS $F924                       A:81 X:A1 Y:80 P:A4 SP:F9 PPU: 49,178 CYC:5629
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf91f, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F91F  F0 03     BEQ $F924                       A:81 X:A1 Y:80 P:A4 SP:F9 PPU: 49,184 CYC:5631
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf921, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F921  10 01     BPL $F924                       A:81 X:A1 Y:80 P:A4 SP:F9 PPU: 49,190 CYC:5633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf923, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F923  60        RTS                             A:81 X:A1 Y:80 P:A4 SP:F9 PPU: 49,196 CYC:5635
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd41a, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa1, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D41A  E8        INX                             A:81 X:A1 Y:80 P:A4 SP:FB PPU: 49,214 CYC:5641
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd41b, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D41B  A9 7F     LDA #$7F                        A:81 X:A2 Y:80 P:A4 SP:FB PPU: 49,220 CYC:5643
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd41d, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D41D  85 78     STA $78 = 81                    A:7F X:A2 Y:80 P:24 SP:FB PPU: 49,226 CYC:5645
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd41f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D41F  C4 78     CPY $78 = 7F                    A:7F X:A2 Y:80 P:24 SP:FB PPU: 49,235 CYC:5648
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd421, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D421  20 27 F9  JSR $F927                       A:7F X:A2 Y:80 P:25 SP:FB PPU: 49,244 CYC:5651
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf927, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F927  90 05     BCC $F92E                       A:7F X:A2 Y:80 P:25 SP:F9 PPU: 49,262 CYC:5657
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf929, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F929  F0 03     BEQ $F92E                       A:7F X:A2 Y:80 P:25 SP:F9 PPU: 49,268 CYC:5659
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf92b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F92B  30 01     BMI $F92E                       A:7F X:A2 Y:80 P:25 SP:F9 PPU: 49,274 CYC:5661
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf92d, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F92D  60        RTS                             A:7F X:A2 Y:80 P:25 SP:F9 PPU: 49,280 CYC:5663
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd424, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa2, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D424  E8        INX                             A:7F X:A2 Y:80 P:25 SP:FB PPU: 49,298 CYC:5669
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd425, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xa3, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D425  8A        TXA                             A:7F X:A3 Y:80 P:A5 SP:FB PPU: 49,304 CYC:5671
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd426, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0xa3, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D426  A8        TAY                             A:A3 X:A3 Y:80 P:A5 SP:FB PPU: 49,310 CYC:5673
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd427, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0xa3, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D427  20 90 F9  JSR $F990                       A:A3 X:A3 Y:A3 P:A5 SP:FB PPU: 49,316 CYC:5675
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf990, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0xa3, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F990  A2 55     LDX #$55                        A:A3 X:A3 Y:A3 P:A5 SP:F9 PPU: 49,334 CYC:5681
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf992, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F992  A9 FF     LDA #$FF                        A:A3 X:55 Y:A3 P:25 SP:F9 PPU: 49,340 CYC:5683
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf994, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F994  85 01     STA $01 = FF                    A:FF X:55 Y:A3 P:A5 SP:F9 PPU: 50,  5 CYC:5685
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf996, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F996  EA        NOP                             A:FF X:55 Y:A3 P:A5 SP:F9 PPU: 50, 14 CYC:5688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf997, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F997  24 01     BIT $01 = FF                    A:FF X:55 Y:A3 P:A5 SP:F9 PPU: 50, 20 CYC:5690
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf999, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F999  38        SEC                             A:FF X:55 Y:A3 P:E5 SP:F9 PPU: 50, 29 CYC:5693
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99A  A9 01     LDA #$01                        A:FF X:55 Y:A3 P:E5 SP:F9 PPU: 50, 35 CYC:5695
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99C  60        RTS                             A:01 X:55 Y:A3 P:65 SP:F9 PPU: 50, 41 CYC:5697
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd42a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D42A  85 78     STA $78 = 7F                    A:01 X:55 Y:A3 P:65 SP:FB PPU: 50, 59 CYC:5703
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd42c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D42C  46 78     LSR $78 = 01                    A:01 X:55 Y:A3 P:65 SP:FB PPU: 50, 68 CYC:5706
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd42e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D42E  A5 78     LDA $78 = 00                    A:01 X:55 Y:A3 P:67 SP:FB PPU: 50, 83 CYC:5711
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd430, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D430  20 9D F9  JSR $F99D                       A:00 X:55 Y:A3 P:67 SP:FB PPU: 50, 92 CYC:5714
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf99d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99D  90 1B     BCC $F9BA                       A:00 X:55 Y:A3 P:67 SP:F9 PPU: 50,110 CYC:5720
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99F  D0 19     BNE $F9BA                       A:00 X:55 Y:A3 P:67 SP:F9 PPU: 50,116 CYC:5722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A1  30 17     BMI $F9BA                       A:00 X:55 Y:A3 P:67 SP:F9 PPU: 50,122 CYC:5724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A3  50 15     BVC $F9BA                       A:00 X:55 Y:A3 P:67 SP:F9 PPU: 50,128 CYC:5726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A5  C9 00     CMP #$00                        A:00 X:55 Y:A3 P:67 SP:F9 PPU: 50,134 CYC:5728
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A7  D0 11     BNE $F9BA                       A:00 X:55 Y:A3 P:67 SP:F9 PPU: 50,140 CYC:5730
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A9  B8        CLV                             A:00 X:55 Y:A3 P:67 SP:F9 PPU: 50,146 CYC:5732
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AA  A9 AA     LDA #$AA                        A:00 X:55 Y:A3 P:27 SP:F9 PPU: 50,152 CYC:5734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ac, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AC  60        RTS                             A:AA X:55 Y:A3 P:A5 SP:F9 PPU: 50,158 CYC:5736
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd433, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D433  C8        INY                             A:AA X:55 Y:A3 P:A5 SP:FB PPU: 50,176 CYC:5742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd434, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D434  85 78     STA $78 = 00                    A:AA X:55 Y:A4 P:A5 SP:FB PPU: 50,182 CYC:5744
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd436, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D436  46 78     LSR $78 = AA                    A:AA X:55 Y:A4 P:A5 SP:FB PPU: 50,191 CYC:5747
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd438, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D438  A5 78     LDA $78 = 55                    A:AA X:55 Y:A4 P:24 SP:FB PPU: 50,206 CYC:5752
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd43a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D43A  20 AD F9  JSR $F9AD                       A:55 X:55 Y:A4 P:24 SP:FB PPU: 50,215 CYC:5755
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ad, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AD  B0 0B     BCS $F9BA                       A:55 X:55 Y:A4 P:24 SP:F9 PPU: 50,233 CYC:5761
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9af, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AF  F0 09     BEQ $F9BA                       A:55 X:55 Y:A4 P:24 SP:F9 PPU: 50,239 CYC:5763
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B1  30 07     BMI $F9BA                       A:55 X:55 Y:A4 P:24 SP:F9 PPU: 50,245 CYC:5765
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B3  70 05     BVS $F9BA                       A:55 X:55 Y:A4 P:24 SP:F9 PPU: 50,251 CYC:5767
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B5  C9 55     CMP #$55                        A:55 X:55 Y:A4 P:24 SP:F9 PPU: 50,257 CYC:5769
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b7, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B7  D0 01     BNE $F9BA                       A:55 X:55 Y:A4 P:27 SP:F9 PPU: 50,263 CYC:5771
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B9  60        RTS                             A:55 X:55 Y:A4 P:27 SP:F9 PPU: 50,269 CYC:5773
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd43d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D43D  C8        INY                             A:55 X:55 Y:A4 P:27 SP:FB PPU: 50,287 CYC:5779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd43e, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D43E  20 BD F9  JSR $F9BD                       A:55 X:55 Y:A5 P:A5 SP:FB PPU: 50,293 CYC:5781
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BD  24 01     BIT $01 = FF                    A:55 X:55 Y:A5 P:A5 SP:F9 PPU: 50,311 CYC:5787
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BF  38        SEC                             A:55 X:55 Y:A5 P:E5 SP:F9 PPU: 50,320 CYC:5790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C0  A9 80     LDA #$80                        A:55 X:55 Y:A5 P:E5 SP:F9 PPU: 50,326 CYC:5792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C2  60        RTS                             A:80 X:55 Y:A5 P:E5 SP:F9 PPU: 50,332 CYC:5794
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd441, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D441  85 78     STA $78 = 55                    A:80 X:55 Y:A5 P:E5 SP:FB PPU: 51,  9 CYC:5800
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd443, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D443  06 78     ASL $78 = 80                    A:80 X:55 Y:A5 P:E5 SP:FB PPU: 51, 18 CYC:5803
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd445, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D445  A5 78     LDA $78 = 00                    A:80 X:55 Y:A5 P:67 SP:FB PPU: 51, 33 CYC:5808
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd447, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D447  20 C3 F9  JSR $F9C3                       A:00 X:55 Y:A5 P:67 SP:FB PPU: 51, 42 CYC:5811
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C3  90 1C     BCC $F9E1                       A:00 X:55 Y:A5 P:67 SP:F9 PPU: 51, 60 CYC:5817
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C5  D0 1A     BNE $F9E1                       A:00 X:55 Y:A5 P:67 SP:F9 PPU: 51, 66 CYC:5819
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C7  30 18     BMI $F9E1                       A:00 X:55 Y:A5 P:67 SP:F9 PPU: 51, 72 CYC:5821
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C9  50 16     BVC $F9E1                       A:00 X:55 Y:A5 P:67 SP:F9 PPU: 51, 78 CYC:5823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CB  C9 00     CMP #$00                        A:00 X:55 Y:A5 P:67 SP:F9 PPU: 51, 84 CYC:5825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CD  D0 12     BNE $F9E1                       A:00 X:55 Y:A5 P:67 SP:F9 PPU: 51, 90 CYC:5827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CF  B8        CLV                             A:00 X:55 Y:A5 P:67 SP:F9 PPU: 51, 96 CYC:5829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D0  A9 55     LDA #$55                        A:00 X:55 Y:A5 P:27 SP:F9 PPU: 51,102 CYC:5831
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D2  38        SEC                             A:55 X:55 Y:A5 P:25 SP:F9 PPU: 51,108 CYC:5833
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D3  60        RTS                             A:55 X:55 Y:A5 P:25 SP:F9 PPU: 51,114 CYC:5835
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd44a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D44A  C8        INY                             A:55 X:55 Y:A5 P:25 SP:FB PPU: 51,132 CYC:5841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd44b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D44B  85 78     STA $78 = 00                    A:55 X:55 Y:A6 P:A5 SP:FB PPU: 51,138 CYC:5843
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd44d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D44D  06 78     ASL $78 = 55                    A:55 X:55 Y:A6 P:A5 SP:FB PPU: 51,147 CYC:5846
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd44f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D44F  A5 78     LDA $78 = AA                    A:55 X:55 Y:A6 P:A4 SP:FB PPU: 51,162 CYC:5851
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd451, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D451  20 D4 F9  JSR $F9D4                       A:AA X:55 Y:A6 P:A4 SP:FB PPU: 51,171 CYC:5854
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D4  B0 0B     BCS $F9E1                       A:AA X:55 Y:A6 P:A4 SP:F9 PPU: 51,189 CYC:5860
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D6  F0 09     BEQ $F9E1                       A:AA X:55 Y:A6 P:A4 SP:F9 PPU: 51,195 CYC:5862
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D8  10 07     BPL $F9E1                       A:AA X:55 Y:A6 P:A4 SP:F9 PPU: 51,201 CYC:5864
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9da, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DA  70 05     BVS $F9E1                       A:AA X:55 Y:A6 P:A4 SP:F9 PPU: 51,207 CYC:5866
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9dc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DC  C9 AA     CMP #$AA                        A:AA X:55 Y:A6 P:A4 SP:F9 PPU: 51,213 CYC:5868
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9de, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DE  D0 01     BNE $F9E1                       A:AA X:55 Y:A6 P:27 SP:F9 PPU: 51,219 CYC:5870
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E0  60        RTS                             A:AA X:55 Y:A6 P:27 SP:F9 PPU: 51,225 CYC:5872
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd454, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D454  C8        INY                             A:AA X:55 Y:A6 P:27 SP:FB PPU: 51,243 CYC:5878
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd455, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D455  20 E4 F9  JSR $F9E4                       A:AA X:55 Y:A7 P:A5 SP:FB PPU: 51,249 CYC:5880
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E4  24 01     BIT $01 = FF                    A:AA X:55 Y:A7 P:A5 SP:F9 PPU: 51,267 CYC:5886
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E6  38        SEC                             A:AA X:55 Y:A7 P:E5 SP:F9 PPU: 51,276 CYC:5889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E7  A9 01     LDA #$01                        A:AA X:55 Y:A7 P:E5 SP:F9 PPU: 51,282 CYC:5891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E9  60        RTS                             A:01 X:55 Y:A7 P:65 SP:F9 PPU: 51,288 CYC:5893
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd458, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D458  85 78     STA $78 = AA                    A:01 X:55 Y:A7 P:65 SP:FB PPU: 51,306 CYC:5899
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd45a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D45A  66 78     ROR $78 = 01                    A:01 X:55 Y:A7 P:65 SP:FB PPU: 51,315 CYC:5902
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd45c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D45C  A5 78     LDA $78 = 80                    A:01 X:55 Y:A7 P:E5 SP:FB PPU: 51,330 CYC:5907
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd45e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D45E  20 EA F9  JSR $F9EA                       A:80 X:55 Y:A7 P:E5 SP:FB PPU: 51,339 CYC:5910
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ea, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EA  90 1C     BCC $FA08                       A:80 X:55 Y:A7 P:E5 SP:F9 PPU: 52, 16 CYC:5916
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EC  F0 1A     BEQ $FA08                       A:80 X:55 Y:A7 P:E5 SP:F9 PPU: 52, 22 CYC:5918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EE  10 18     BPL $FA08                       A:80 X:55 Y:A7 P:E5 SP:F9 PPU: 52, 28 CYC:5920
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F0  50 16     BVC $FA08                       A:80 X:55 Y:A7 P:E5 SP:F9 PPU: 52, 34 CYC:5922
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F2  C9 80     CMP #$80                        A:80 X:55 Y:A7 P:E5 SP:F9 PPU: 52, 40 CYC:5924
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F4  D0 12     BNE $FA08                       A:80 X:55 Y:A7 P:67 SP:F9 PPU: 52, 46 CYC:5926
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F6  B8        CLV                             A:80 X:55 Y:A7 P:67 SP:F9 PPU: 52, 52 CYC:5928
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F7  18        CLC                             A:80 X:55 Y:A7 P:27 SP:F9 PPU: 52, 58 CYC:5930
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F8  A9 55     LDA #$55                        A:80 X:55 Y:A7 P:26 SP:F9 PPU: 52, 64 CYC:5932
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fa, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FA  60        RTS                             A:55 X:55 Y:A7 P:24 SP:F9 PPU: 52, 70 CYC:5934
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd461, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D461  C8        INY                             A:55 X:55 Y:A7 P:24 SP:FB PPU: 52, 88 CYC:5940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd462, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D462  85 78     STA $78 = 80                    A:55 X:55 Y:A8 P:A4 SP:FB PPU: 52, 94 CYC:5942
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd464, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D464  66 78     ROR $78 = 55                    A:55 X:55 Y:A8 P:A4 SP:FB PPU: 52,103 CYC:5945
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd466, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D466  A5 78     LDA $78 = 2A                    A:55 X:55 Y:A8 P:25 SP:FB PPU: 52,118 CYC:5950
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd468, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D468  20 FB F9  JSR $F9FB                       A:2A X:55 Y:A8 P:25 SP:FB PPU: 52,127 CYC:5953
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fb, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FB  90 0B     BCC $FA08                       A:2A X:55 Y:A8 P:25 SP:F9 PPU: 52,145 CYC:5959
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fd, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FD  F0 09     BEQ $FA08                       A:2A X:55 Y:A8 P:25 SP:F9 PPU: 52,151 CYC:5961
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ff, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FF  30 07     BMI $FA08                       A:2A X:55 Y:A8 P:25 SP:F9 PPU: 52,157 CYC:5963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa01, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA01  70 05     BVS $FA08                       A:2A X:55 Y:A8 P:25 SP:F9 PPU: 52,163 CYC:5965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa03, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA03  C9 2A     CMP #$2A                        A:2A X:55 Y:A8 P:25 SP:F9 PPU: 52,169 CYC:5967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa05, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA05  D0 01     BNE $FA08                       A:2A X:55 Y:A8 P:27 SP:F9 PPU: 52,175 CYC:5969
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa07, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA07  60        RTS                             A:2A X:55 Y:A8 P:27 SP:F9 PPU: 52,181 CYC:5971
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd46b, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D46B  C8        INY                             A:2A X:55 Y:A8 P:27 SP:FB PPU: 52,199 CYC:5977
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd46c, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D46C  20 0A FA  JSR $FA0A                       A:2A X:55 Y:A9 P:A5 SP:FB PPU: 52,205 CYC:5979
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0a, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0A  24 01     BIT $01 = FF                    A:2A X:55 Y:A9 P:A5 SP:F9 PPU: 52,223 CYC:5985
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0c, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0C  38        SEC                             A:2A X:55 Y:A9 P:E5 SP:F9 PPU: 52,232 CYC:5988
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0d, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0D  A9 80     LDA #$80                        A:2A X:55 Y:A9 P:E5 SP:F9 PPU: 52,238 CYC:5990
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0F  60        RTS                             A:80 X:55 Y:A9 P:E5 SP:F9 PPU: 52,244 CYC:5992
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd46f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D46F  85 78     STA $78 = 2A                    A:80 X:55 Y:A9 P:E5 SP:FB PPU: 52,262 CYC:5998
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd471, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D471  26 78     ROL $78 = 80                    A:80 X:55 Y:A9 P:E5 SP:FB PPU: 52,271 CYC:6001
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd473, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D473  A5 78     LDA $78 = 01                    A:80 X:55 Y:A9 P:65 SP:FB PPU: 52,286 CYC:6006
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd475, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D475  20 10 FA  JSR $FA10                       A:01 X:55 Y:A9 P:65 SP:FB PPU: 52,295 CYC:6009
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa10, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA10  90 1C     BCC $FA2E                       A:01 X:55 Y:A9 P:65 SP:F9 PPU: 52,313 CYC:6015
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa12, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA12  F0 1A     BEQ $FA2E                       A:01 X:55 Y:A9 P:65 SP:F9 PPU: 52,319 CYC:6017
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa14, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA14  30 18     BMI $FA2E                       A:01 X:55 Y:A9 P:65 SP:F9 PPU: 52,325 CYC:6019
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa16, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA16  50 16     BVC $FA2E                       A:01 X:55 Y:A9 P:65 SP:F9 PPU: 52,331 CYC:6021
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa18, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA18  C9 01     CMP #$01                        A:01 X:55 Y:A9 P:65 SP:F9 PPU: 52,337 CYC:6023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1A  D0 12     BNE $FA2E                       A:01 X:55 Y:A9 P:67 SP:F9 PPU: 53,  2 CYC:6025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1C  B8        CLV                             A:01 X:55 Y:A9 P:67 SP:F9 PPU: 53,  8 CYC:6027
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1D  18        CLC                             A:01 X:55 Y:A9 P:27 SP:F9 PPU: 53, 14 CYC:6029
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1E  A9 55     LDA #$55                        A:01 X:55 Y:A9 P:26 SP:F9 PPU: 53, 20 CYC:6031
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa20, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA20  60        RTS                             A:55 X:55 Y:A9 P:24 SP:F9 PPU: 53, 26 CYC:6033
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd478, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D478  C8        INY                             A:55 X:55 Y:A9 P:24 SP:FB PPU: 53, 44 CYC:6039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd479, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D479  85 78     STA $78 = 01                    A:55 X:55 Y:AA P:A4 SP:FB PPU: 53, 50 CYC:6041
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd47b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D47B  26 78     ROL $78 = 55                    A:55 X:55 Y:AA P:A4 SP:FB PPU: 53, 59 CYC:6044
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd47d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D47D  A5 78     LDA $78 = AA                    A:55 X:55 Y:AA P:A4 SP:FB PPU: 53, 74 CYC:6049
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd47f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D47F  20 21 FA  JSR $FA21                       A:AA X:55 Y:AA P:A4 SP:FB PPU: 53, 83 CYC:6052
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa21, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA21  B0 0B     BCS $FA2E                       A:AA X:55 Y:AA P:A4 SP:F9 PPU: 53,101 CYC:6058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa23, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA23  F0 09     BEQ $FA2E                       A:AA X:55 Y:AA P:A4 SP:F9 PPU: 53,107 CYC:6060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa25, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA25  10 07     BPL $FA2E                       A:AA X:55 Y:AA P:A4 SP:F9 PPU: 53,113 CYC:6062
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa27, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA27  70 05     BVS $FA2E                       A:AA X:55 Y:AA P:A4 SP:F9 PPU: 53,119 CYC:6064
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa29, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA29  C9 AA     CMP #$AA                        A:AA X:55 Y:AA P:A4 SP:F9 PPU: 53,125 CYC:6066
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2B  D0 01     BNE $FA2E                       A:AA X:55 Y:AA P:27 SP:F9 PPU: 53,131 CYC:6068
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2D  60        RTS                             A:AA X:55 Y:AA P:27 SP:F9 PPU: 53,137 CYC:6070
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd482, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D482  A9 FF     LDA #$FF                        A:AA X:55 Y:AA P:27 SP:FB PPU: 53,155 CYC:6076
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd484, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D484  85 78     STA $78 = AA                    A:FF X:55 Y:AA P:A5 SP:FB PPU: 53,161 CYC:6078
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd486, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D486  85 01     STA $01 = FF                    A:FF X:55 Y:AA P:A5 SP:FB PPU: 53,170 CYC:6081
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd488, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D488  24 01     BIT $01 = FF                    A:FF X:55 Y:AA P:A5 SP:FB PPU: 53,179 CYC:6084
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd48a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D48A  38        SEC                             A:FF X:55 Y:AA P:E5 SP:FB PPU: 53,188 CYC:6087
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd48b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D48B  E6 78     INC $78 = FF                    A:FF X:55 Y:AA P:E5 SP:FB PPU: 53,194 CYC:6089
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd48d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D48D  D0 0C     BNE $D49B                       A:FF X:55 Y:AA P:67 SP:FB PPU: 53,209 CYC:6094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd48f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D48F  30 0A     BMI $D49B                       A:FF X:55 Y:AA P:67 SP:FB PPU: 53,215 CYC:6096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd491, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D491  50 08     BVC $D49B                       A:FF X:55 Y:AA P:67 SP:FB PPU: 53,221 CYC:6098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd493, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D493  90 06     BCC $D49B                       A:FF X:55 Y:AA P:67 SP:FB PPU: 53,227 CYC:6100
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd495, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D495  A5 78     LDA $78 = 00                    A:FF X:55 Y:AA P:67 SP:FB PPU: 53,233 CYC:6102
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd497, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D497  C9 00     CMP #$00                        A:00 X:55 Y:AA P:67 SP:FB PPU: 53,242 CYC:6105
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd499, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D499  F0 04     BEQ $D49F                       A:00 X:55 Y:AA P:67 SP:FB PPU: 53,248 CYC:6107
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd49f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D49F  A9 7F     LDA #$7F                        A:00 X:55 Y:AA P:67 SP:FB PPU: 53,257 CYC:6110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4a1, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4A1  85 78     STA $78 = 00                    A:7F X:55 Y:AA P:65 SP:FB PPU: 53,263 CYC:6112
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4a3, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4A3  B8        CLV                             A:7F X:55 Y:AA P:65 SP:FB PPU: 53,272 CYC:6115
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4a4, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4A4  18        CLC                             A:7F X:55 Y:AA P:25 SP:FB PPU: 53,278 CYC:6117
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4a5, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4A5  E6 78     INC $78 = 7F                    A:7F X:55 Y:AA P:24 SP:FB PPU: 53,284 CYC:6119
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd4a7, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4A7  F0 0C     BEQ $D4B5                       A:7F X:55 Y:AA P:A4 SP:FB PPU: 53,299 CYC:6124
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4a9, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4A9  10 0A     BPL $D4B5                       A:7F X:55 Y:AA P:A4 SP:FB PPU: 53,305 CYC:6126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4ab, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4AB  70 08     BVS $D4B5                       A:7F X:55 Y:AA P:A4 SP:FB PPU: 53,311 CYC:6128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4ad, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4AD  B0 06     BCS $D4B5                       A:7F X:55 Y:AA P:A4 SP:FB PPU: 53,317 CYC:6130
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4af, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4AF  A5 78     LDA $78 = 80                    A:7F X:55 Y:AA P:A4 SP:FB PPU: 53,323 CYC:6132
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4b1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4B1  C9 80     CMP #$80                        A:80 X:55 Y:AA P:A4 SP:FB PPU: 53,332 CYC:6135
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4b3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4B3  F0 04     BEQ $D4B9                       A:80 X:55 Y:AA P:27 SP:FB PPU: 53,338 CYC:6137
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4B9  A9 00     LDA #$00                        A:80 X:55 Y:AA P:27 SP:FB PPU: 54,  6 CYC:6140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4bb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4BB  85 78     STA $78 = 80                    A:00 X:55 Y:AA P:27 SP:FB PPU: 54, 12 CYC:6142
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4bd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4BD  24 01     BIT $01 = FF                    A:00 X:55 Y:AA P:27 SP:FB PPU: 54, 21 CYC:6145
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4bf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4BF  38        SEC                             A:00 X:55 Y:AA P:E7 SP:FB PPU: 54, 30 CYC:6148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4c0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4C0  C6 78     DEC $78 = 00                    A:00 X:55 Y:AA P:E7 SP:FB PPU: 54, 36 CYC:6150
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd4c2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4C2  F0 0C     BEQ $D4D0                       A:00 X:55 Y:AA P:E5 SP:FB PPU: 54, 51 CYC:6155
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4c4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4C4  10 0A     BPL $D4D0                       A:00 X:55 Y:AA P:E5 SP:FB PPU: 54, 57 CYC:6157
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4c6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4C6  50 08     BVC $D4D0                       A:00 X:55 Y:AA P:E5 SP:FB PPU: 54, 63 CYC:6159
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4c8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4C8  90 06     BCC $D4D0                       A:00 X:55 Y:AA P:E5 SP:FB PPU: 54, 69 CYC:6161
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4ca, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4CA  A5 78     LDA $78 = FF                    A:00 X:55 Y:AA P:E5 SP:FB PPU: 54, 75 CYC:6163
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4cc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4CC  C9 FF     CMP #$FF                        A:FF X:55 Y:AA P:E5 SP:FB PPU: 54, 84 CYC:6166
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4ce, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4CE  F0 04     BEQ $D4D4                       A:FF X:55 Y:AA P:67 SP:FB PPU: 54, 90 CYC:6168
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4d4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4D4  A9 80     LDA #$80                        A:FF X:55 Y:AA P:67 SP:FB PPU: 54, 99 CYC:6171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4d6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4D6  85 78     STA $78 = FF                    A:80 X:55 Y:AA P:E5 SP:FB PPU: 54,105 CYC:6173
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4d8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4D8  B8        CLV                             A:80 X:55 Y:AA P:E5 SP:FB PPU: 54,114 CYC:6176
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4D9  18        CLC                             A:80 X:55 Y:AA P:A5 SP:FB PPU: 54,120 CYC:6178
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4da, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4DA  C6 78     DEC $78 = 80                    A:80 X:55 Y:AA P:A4 SP:FB PPU: 54,126 CYC:6180
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd4dc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4DC  F0 0C     BEQ $D4EA                       A:80 X:55 Y:AA P:24 SP:FB PPU: 54,141 CYC:6185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4de, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4DE  30 0A     BMI $D4EA                       A:80 X:55 Y:AA P:24 SP:FB PPU: 54,147 CYC:6187
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4e0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4E0  70 08     BVS $D4EA                       A:80 X:55 Y:AA P:24 SP:FB PPU: 54,153 CYC:6189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4e2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4E2  B0 06     BCS $D4EA                       A:80 X:55 Y:AA P:24 SP:FB PPU: 54,159 CYC:6191
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4e4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4E4  A5 78     LDA $78 = 7F                    A:80 X:55 Y:AA P:24 SP:FB PPU: 54,165 CYC:6193
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4e6, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4E6  C9 7F     CMP #$7F                        A:7F X:55 Y:AA P:24 SP:FB PPU: 54,174 CYC:6196
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4e8, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4E8  F0 04     BEQ $D4EE                       A:7F X:55 Y:AA P:27 SP:FB PPU: 54,180 CYC:6198
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4ee, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4EE  A9 01     LDA #$01                        A:7F X:55 Y:AA P:27 SP:FB PPU: 54,189 CYC:6201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4f0, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4F0  85 78     STA $78 = 7F                    A:01 X:55 Y:AA P:25 SP:FB PPU: 54,195 CYC:6203
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4f2, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4F2  C6 78     DEC $78 = 01                    A:01 X:55 Y:AA P:25 SP:FB PPU: 54,204 CYC:6206
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd4f4, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4F4  F0 04     BEQ $D4FA                       A:01 X:55 Y:AA P:27 SP:FB PPU: 54,219 CYC:6211
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd4fa, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4FA  60        RTS                             A:01 X:55 Y:AA P:27 SP:FB PPU: 54,228 CYC:6214
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc615, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C615  20 FB D4  JSR $D4FB                       A:01 X:55 Y:AA P:27 SP:FD PPU: 54,246 CYC:6220
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd4fb, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4FB  A9 55     LDA #$55                        A:01 X:55 Y:AA P:27 SP:FB PPU: 54,264 CYC:6226
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd4fd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D4FD  8D 78 06  STA $0678 = 00                  A:55 X:55 Y:AA P:25 SP:FB PPU: 54,270 CYC:6228
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd500, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D500  A9 FF     LDA #$FF                        A:55 X:55 Y:AA P:25 SP:FB PPU: 54,282 CYC:6232
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd502, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D502  85 01     STA $01 = FF                    A:FF X:55 Y:AA P:A5 SP:FB PPU: 54,288 CYC:6234
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd504, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D504  24 01     BIT $01 = FF                    A:FF X:55 Y:AA P:A5 SP:FB PPU: 54,297 CYC:6237
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd506, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D506  A0 11     LDY #$11                        A:FF X:55 Y:AA P:E5 SP:FB PPU: 54,306 CYC:6240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd508, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D508  A2 23     LDX #$23                        A:FF X:55 Y:11 P:65 SP:FB PPU: 54,312 CYC:6242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd50a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D50A  A9 00     LDA #$00                        A:FF X:23 Y:11 P:65 SP:FB PPU: 54,318 CYC:6244
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd50c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D50C  AD 78 06  LDA $0678 = 55                  A:00 X:23 Y:11 P:67 SP:FB PPU: 54,324 CYC:6246
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd50f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D50F  F0 10     BEQ $D521                       A:55 X:23 Y:11 P:65 SP:FB PPU: 54,336 CYC:6250
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd511, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D511  30 0E     BMI $D521                       A:55 X:23 Y:11 P:65 SP:FB PPU: 55,  1 CYC:6252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd513, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D513  C9 55     CMP #$55                        A:55 X:23 Y:11 P:65 SP:FB PPU: 55,  7 CYC:6254
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd515, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D515  D0 0A     BNE $D521                       A:55 X:23 Y:11 P:67 SP:FB PPU: 55, 13 CYC:6256
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd517, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D517  C0 11     CPY #$11                        A:55 X:23 Y:11 P:67 SP:FB PPU: 55, 19 CYC:6258
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd519, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D519  D0 06     BNE $D521                       A:55 X:23 Y:11 P:67 SP:FB PPU: 55, 25 CYC:6260
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd51b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D51B  E0 23     CPX #$23                        A:55 X:23 Y:11 P:67 SP:FB PPU: 55, 31 CYC:6262
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd51d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D51D  50 02     BVC $D521                       A:55 X:23 Y:11 P:67 SP:FB PPU: 55, 37 CYC:6264
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd51f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D51F  F0 04     BEQ $D525                       A:55 X:23 Y:11 P:67 SP:FB PPU: 55, 43 CYC:6266
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd525, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D525  A9 46     LDA #$46                        A:55 X:23 Y:11 P:67 SP:FB PPU: 55, 52 CYC:6269
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd527, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D527  24 01     BIT $01 = FF                    A:46 X:23 Y:11 P:65 SP:FB PPU: 55, 58 CYC:6271
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd529, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D529  8D 78 06  STA $0678 = 55                  A:46 X:23 Y:11 P:E5 SP:FB PPU: 55, 67 CYC:6274
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd52c, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D52C  F0 0B     BEQ $D539                       A:46 X:23 Y:11 P:E5 SP:FB PPU: 55, 79 CYC:6278
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd52e, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D52E  10 09     BPL $D539                       A:46 X:23 Y:11 P:E5 SP:FB PPU: 55, 85 CYC:6280
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd530, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D530  50 07     BVC $D539                       A:46 X:23 Y:11 P:E5 SP:FB PPU: 55, 91 CYC:6282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd532, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D532  AD 78 06  LDA $0678 = 46                  A:46 X:23 Y:11 P:E5 SP:FB PPU: 55, 97 CYC:6284
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd535, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D535  C9 46     CMP #$46                        A:46 X:23 Y:11 P:65 SP:FB PPU: 55,109 CYC:6288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd537, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D537  F0 04     BEQ $D53D                       A:46 X:23 Y:11 P:67 SP:FB PPU: 55,115 CYC:6290
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd53d, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D53D  A9 55     LDA #$55                        A:46 X:23 Y:11 P:67 SP:FB PPU: 55,124 CYC:6293
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd53f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D53F  8D 78 06  STA $0678 = 46                  A:55 X:23 Y:11 P:65 SP:FB PPU: 55,130 CYC:6295
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd542, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D542  24 01     BIT $01 = FF                    A:55 X:23 Y:11 P:65 SP:FB PPU: 55,142 CYC:6299
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd544, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D544  A9 11     LDA #$11                        A:55 X:23 Y:11 P:E5 SP:FB PPU: 55,151 CYC:6302
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd546, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D546  A2 23     LDX #$23                        A:11 X:23 Y:11 P:65 SP:FB PPU: 55,157 CYC:6304
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd548, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D548  A0 00     LDY #$00                        A:11 X:23 Y:11 P:65 SP:FB PPU: 55,163 CYC:6306
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd54a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D54A  AC 78 06  LDY $0678 = 55                  A:11 X:23 Y:00 P:67 SP:FB PPU: 55,169 CYC:6308
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd54d, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D54D  F0 10     BEQ $D55F                       A:11 X:23 Y:55 P:65 SP:FB PPU: 55,181 CYC:6312
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd54f, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D54F  30 0E     BMI $D55F                       A:11 X:23 Y:55 P:65 SP:FB PPU: 55,187 CYC:6314
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd551, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D551  C0 55     CPY #$55                        A:11 X:23 Y:55 P:65 SP:FB PPU: 55,193 CYC:6316
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd553, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D553  D0 0A     BNE $D55F                       A:11 X:23 Y:55 P:67 SP:FB PPU: 55,199 CYC:6318
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd555, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D555  C9 11     CMP #$11                        A:11 X:23 Y:55 P:67 SP:FB PPU: 55,205 CYC:6320
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd557, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D557  D0 06     BNE $D55F                       A:11 X:23 Y:55 P:67 SP:FB PPU: 55,211 CYC:6322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd559, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D559  E0 23     CPX #$23                        A:11 X:23 Y:55 P:67 SP:FB PPU: 55,217 CYC:6324
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd55b, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D55B  50 02     BVC $D55F                       A:11 X:23 Y:55 P:67 SP:FB PPU: 55,223 CYC:6326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd55d, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D55D  F0 04     BEQ $D563                       A:11 X:23 Y:55 P:67 SP:FB PPU: 55,229 CYC:6328
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd563, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D563  A0 46     LDY #$46                        A:11 X:23 Y:55 P:67 SP:FB PPU: 55,238 CYC:6331
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd565, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D565  24 01     BIT $01 = FF                    A:11 X:23 Y:46 P:65 SP:FB PPU: 55,244 CYC:6333
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd567, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D567  8C 78 06  STY $0678 = 55                  A:11 X:23 Y:46 P:E5 SP:FB PPU: 55,253 CYC:6336
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd56a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D56A  F0 0B     BEQ $D577                       A:11 X:23 Y:46 P:E5 SP:FB PPU: 55,265 CYC:6340
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd56c, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D56C  10 09     BPL $D577                       A:11 X:23 Y:46 P:E5 SP:FB PPU: 55,271 CYC:6342
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd56e, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D56E  50 07     BVC $D577                       A:11 X:23 Y:46 P:E5 SP:FB PPU: 55,277 CYC:6344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd570, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D570  AC 78 06  LDY $0678 = 46                  A:11 X:23 Y:46 P:E5 SP:FB PPU: 55,283 CYC:6346
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd573, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D573  C0 46     CPY #$46                        A:11 X:23 Y:46 P:65 SP:FB PPU: 55,295 CYC:6350
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd575, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D575  F0 04     BEQ $D57B                       A:11 X:23 Y:46 P:67 SP:FB PPU: 55,301 CYC:6352
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd57b, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D57B  24 01     BIT $01 = FF                    A:11 X:23 Y:46 P:67 SP:FB PPU: 55,310 CYC:6355
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd57d, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D57D  A9 55     LDA #$55                        A:11 X:23 Y:46 P:E5 SP:FB PPU: 55,319 CYC:6358
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd57f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D57F  8D 78 06  STA $0678 = 46                  A:55 X:23 Y:46 P:65 SP:FB PPU: 55,325 CYC:6360
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd582, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x46, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D582  A0 11     LDY #$11                        A:55 X:23 Y:46 P:65 SP:FB PPU: 55,337 CYC:6364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd584, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D584  A9 23     LDA #$23                        A:55 X:23 Y:11 P:65 SP:FB PPU: 56,  2 CYC:6366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd586, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x23, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D586  A2 00     LDX #$00                        A:23 X:23 Y:11 P:65 SP:FB PPU: 56,  8 CYC:6368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd588, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D588  AE 78 06  LDX $0678 = 55                  A:23 X:00 Y:11 P:67 SP:FB PPU: 56, 14 CYC:6370
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd58b, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D58B  F0 10     BEQ $D59D                       A:23 X:55 Y:11 P:65 SP:FB PPU: 56, 26 CYC:6374
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd58d, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D58D  30 0E     BMI $D59D                       A:23 X:55 Y:11 P:65 SP:FB PPU: 56, 32 CYC:6376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd58f, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D58F  E0 55     CPX #$55                        A:23 X:55 Y:11 P:65 SP:FB PPU: 56, 38 CYC:6378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd591, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D591  D0 0A     BNE $D59D                       A:23 X:55 Y:11 P:67 SP:FB PPU: 56, 44 CYC:6380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd593, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D593  C0 11     CPY #$11                        A:23 X:55 Y:11 P:67 SP:FB PPU: 56, 50 CYC:6382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd595, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D595  D0 06     BNE $D59D                       A:23 X:55 Y:11 P:67 SP:FB PPU: 56, 56 CYC:6384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd597, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D597  C9 23     CMP #$23                        A:23 X:55 Y:11 P:67 SP:FB PPU: 56, 62 CYC:6386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd599, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D599  50 02     BVC $D59D                       A:23 X:55 Y:11 P:67 SP:FB PPU: 56, 68 CYC:6388
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd59b, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D59B  F0 04     BEQ $D5A1                       A:23 X:55 Y:11 P:67 SP:FB PPU: 56, 74 CYC:6390
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd5a1, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5A1  A2 46     LDX #$46                        A:23 X:55 Y:11 P:67 SP:FB PPU: 56, 83 CYC:6393
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5a3, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5A3  24 01     BIT $01 = FF                    A:23 X:46 Y:11 P:65 SP:FB PPU: 56, 89 CYC:6395
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd5a5, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5A5  8E 78 06  STX $0678 = 55                  A:23 X:46 Y:11 P:E5 SP:FB PPU: 56, 98 CYC:6398
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd5a8, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5A8  F0 0B     BEQ $D5B5                       A:23 X:46 Y:11 P:E5 SP:FB PPU: 56,110 CYC:6402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5aa, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5AA  10 09     BPL $D5B5                       A:23 X:46 Y:11 P:E5 SP:FB PPU: 56,116 CYC:6404
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5ac, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5AC  50 07     BVC $D5B5                       A:23 X:46 Y:11 P:E5 SP:FB PPU: 56,122 CYC:6406
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5ae, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5AE  AE 78 06  LDX $0678 = 46                  A:23 X:46 Y:11 P:E5 SP:FB PPU: 56,128 CYC:6408
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd5b1, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5B1  E0 46     CPX #$46                        A:23 X:46 Y:11 P:65 SP:FB PPU: 56,140 CYC:6412
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5b3, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5B3  F0 04     BEQ $D5B9                       A:23 X:46 Y:11 P:67 SP:FB PPU: 56,146 CYC:6414
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd5b9, cpu.pc);
    try expectEqual(0x23, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5B9  A9 C0     LDA #$C0                        A:23 X:46 Y:11 P:67 SP:FB PPU: 56,155 CYC:6417
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5bb, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5BB  8D 78 06  STA $0678 = 46                  A:C0 X:46 Y:11 P:E5 SP:FB PPU: 56,161 CYC:6419
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd5be, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5BE  A2 33     LDX #$33                        A:C0 X:46 Y:11 P:E5 SP:FB PPU: 56,173 CYC:6423
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5c0, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5C0  A0 88     LDY #$88                        A:C0 X:33 Y:11 P:65 SP:FB PPU: 56,179 CYC:6425
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5c2, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5C2  A9 05     LDA #$05                        A:C0 X:33 Y:88 P:E5 SP:FB PPU: 56,185 CYC:6427
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5c4, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5C4  2C 78 06  BIT $0678 = C0                  A:05 X:33 Y:88 P:65 SP:FB PPU: 56,191 CYC:6429
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd5c7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5C7  10 10     BPL $D5D9                       A:05 X:33 Y:88 P:E7 SP:FB PPU: 56,203 CYC:6433
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5c9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5C9  50 0E     BVC $D5D9                       A:05 X:33 Y:88 P:E7 SP:FB PPU: 56,209 CYC:6435
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5cb, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5CB  D0 0C     BNE $D5D9                       A:05 X:33 Y:88 P:E7 SP:FB PPU: 56,215 CYC:6437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5cd, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5CD  C9 05     CMP #$05                        A:05 X:33 Y:88 P:E7 SP:FB PPU: 56,221 CYC:6439
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5cf, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5CF  D0 08     BNE $D5D9                       A:05 X:33 Y:88 P:67 SP:FB PPU: 56,227 CYC:6441
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5d1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5D1  E0 33     CPX #$33                        A:05 X:33 Y:88 P:67 SP:FB PPU: 56,233 CYC:6443
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5d3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5D3  D0 04     BNE $D5D9                       A:05 X:33 Y:88 P:67 SP:FB PPU: 56,239 CYC:6445
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5d5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5D5  C0 88     CPY #$88                        A:05 X:33 Y:88 P:67 SP:FB PPU: 56,245 CYC:6447
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5d7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5D7  F0 04     BEQ $D5DD                       A:05 X:33 Y:88 P:67 SP:FB PPU: 56,251 CYC:6449
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd5dd, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5DD  A9 03     LDA #$03                        A:05 X:33 Y:88 P:67 SP:FB PPU: 56,260 CYC:6452
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5df, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5DF  8D 78 06  STA $0678 = C0                  A:03 X:33 Y:88 P:65 SP:FB PPU: 56,266 CYC:6454
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd5e2, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5E2  A9 01     LDA #$01                        A:03 X:33 Y:88 P:65 SP:FB PPU: 56,278 CYC:6458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5e4, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5E4  2C 78 06  BIT $0678 = 03                  A:01 X:33 Y:88 P:65 SP:FB PPU: 56,284 CYC:6460
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd5e7, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5E7  30 08     BMI $D5F1                       A:01 X:33 Y:88 P:25 SP:FB PPU: 56,296 CYC:6464
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5e9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5E9  70 06     BVS $D5F1                       A:01 X:33 Y:88 P:25 SP:FB PPU: 56,302 CYC:6466
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5eb, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5EB  F0 04     BEQ $D5F1                       A:01 X:33 Y:88 P:25 SP:FB PPU: 56,308 CYC:6468
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5ed, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5ED  C9 01     CMP #$01                        A:01 X:33 Y:88 P:25 SP:FB PPU: 56,314 CYC:6470
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5ef, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5EF  F0 04     BEQ $D5F5                       A:01 X:33 Y:88 P:27 SP:FB PPU: 56,320 CYC:6472
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd5f5, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x88, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5F5  A0 B8     LDY #$B8                        A:01 X:33 Y:88 P:27 SP:FB PPU: 56,329 CYC:6475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5f7, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5F7  A9 AA     LDA #$AA                        A:01 X:33 Y:B8 P:A5 SP:FB PPU: 56,335 CYC:6477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd5f9, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5F9  8D 78 06  STA $0678 = 03                  A:AA X:33 Y:B8 P:A5 SP:FB PPU: 57,  0 CYC:6479
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd5fc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5FC  20 B6 F7  JSR $F7B6                       A:AA X:33 Y:B8 P:A5 SP:FB PPU: 57, 12 CYC:6483
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B6  18        CLC                             A:AA X:33 Y:B8 P:A5 SP:F9 PPU: 57, 30 CYC:6489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B7  A9 FF     LDA #$FF                        A:AA X:33 Y:B8 P:A4 SP:F9 PPU: 57, 36 CYC:6491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B9  85 01     STA $01 = FF                    A:FF X:33 Y:B8 P:A4 SP:F9 PPU: 57, 42 CYC:6493
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BB  24 01     BIT $01 = FF                    A:FF X:33 Y:B8 P:A4 SP:F9 PPU: 57, 51 CYC:6496
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BD  A9 55     LDA #$55                        A:FF X:33 Y:B8 P:E4 SP:F9 PPU: 57, 60 CYC:6499
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BF  60        RTS                             A:55 X:33 Y:B8 P:64 SP:F9 PPU: 57, 66 CYC:6501
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd5ff, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D5FF  0D 78 06  ORA $0678 = AA                  A:55 X:33 Y:B8 P:64 SP:FB PPU: 57, 84 CYC:6507
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd602, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D602  20 C0 F7  JSR $F7C0                       A:FF X:33 Y:B8 P:E4 SP:FB PPU: 57, 96 CYC:6511
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C0  B0 09     BCS $F7CB                       A:FF X:33 Y:B8 P:E4 SP:F9 PPU: 57,114 CYC:6517
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C2  10 07     BPL $F7CB                       A:FF X:33 Y:B8 P:E4 SP:F9 PPU: 57,120 CYC:6519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C4  C9 FF     CMP #$FF                        A:FF X:33 Y:B8 P:E4 SP:F9 PPU: 57,126 CYC:6521
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C6  D0 03     BNE $F7CB                       A:FF X:33 Y:B8 P:67 SP:F9 PPU: 57,132 CYC:6523
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C8  50 01     BVC $F7CB                       A:FF X:33 Y:B8 P:67 SP:F9 PPU: 57,138 CYC:6525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ca, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CA  60        RTS                             A:FF X:33 Y:B8 P:67 SP:F9 PPU: 57,144 CYC:6527
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd605, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D605  C8        INY                             A:FF X:33 Y:B8 P:67 SP:FB PPU: 57,162 CYC:6533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd606, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D606  A9 00     LDA #$00                        A:FF X:33 Y:B9 P:E5 SP:FB PPU: 57,168 CYC:6535
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd608, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D608  8D 78 06  STA $0678 = AA                  A:00 X:33 Y:B9 P:67 SP:FB PPU: 57,174 CYC:6537
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd60b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D60B  20 CE F7  JSR $F7CE                       A:00 X:33 Y:B9 P:67 SP:FB PPU: 57,186 CYC:6541
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ce, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CE  38        SEC                             A:00 X:33 Y:B9 P:67 SP:F9 PPU: 57,204 CYC:6547
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CF  B8        CLV                             A:00 X:33 Y:B9 P:67 SP:F9 PPU: 57,210 CYC:6549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D0  A9 00     LDA #$00                        A:00 X:33 Y:B9 P:27 SP:F9 PPU: 57,216 CYC:6551
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D2  60        RTS                             A:00 X:33 Y:B9 P:27 SP:F9 PPU: 57,222 CYC:6553
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd60e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D60E  0D 78 06  ORA $0678 = 00                  A:00 X:33 Y:B9 P:27 SP:FB PPU: 57,240 CYC:6559
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd611, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D611  20 D3 F7  JSR $F7D3                       A:00 X:33 Y:B9 P:27 SP:FB PPU: 57,252 CYC:6563
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D3  D0 07     BNE $F7DC                       A:00 X:33 Y:B9 P:27 SP:F9 PPU: 57,270 CYC:6569
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D5  70 05     BVS $F7DC                       A:00 X:33 Y:B9 P:27 SP:F9 PPU: 57,276 CYC:6571
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D7  90 03     BCC $F7DC                       A:00 X:33 Y:B9 P:27 SP:F9 PPU: 57,282 CYC:6573
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D9  30 01     BMI $F7DC                       A:00 X:33 Y:B9 P:27 SP:F9 PPU: 57,288 CYC:6575
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7db, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DB  60        RTS                             A:00 X:33 Y:B9 P:27 SP:F9 PPU: 57,294 CYC:6577
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd614, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D614  C8        INY                             A:00 X:33 Y:B9 P:27 SP:FB PPU: 57,312 CYC:6583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd615, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D615  A9 AA     LDA #$AA                        A:00 X:33 Y:BA P:A5 SP:FB PPU: 57,318 CYC:6585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd617, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D617  8D 78 06  STA $0678 = 00                  A:AA X:33 Y:BA P:A5 SP:FB PPU: 57,324 CYC:6587
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd61a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D61A  20 DF F7  JSR $F7DF                       A:AA X:33 Y:BA P:A5 SP:FB PPU: 57,336 CYC:6591
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7df, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DF  18        CLC                             A:AA X:33 Y:BA P:A5 SP:F9 PPU: 58, 13 CYC:6597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E0  24 01     BIT $01 = FF                    A:AA X:33 Y:BA P:A4 SP:F9 PPU: 58, 19 CYC:6599
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E2  A9 55     LDA #$55                        A:AA X:33 Y:BA P:E4 SP:F9 PPU: 58, 28 CYC:6602
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E4  60        RTS                             A:55 X:33 Y:BA P:64 SP:F9 PPU: 58, 34 CYC:6604
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd61d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D61D  2D 78 06  AND $0678 = AA                  A:55 X:33 Y:BA P:64 SP:FB PPU: 58, 52 CYC:6610
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd620, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D620  20 E5 F7  JSR $F7E5                       A:00 X:33 Y:BA P:66 SP:FB PPU: 58, 64 CYC:6614
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E5  D0 07     BNE $F7EE                       A:00 X:33 Y:BA P:66 SP:F9 PPU: 58, 82 CYC:6620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E7  50 05     BVC $F7EE                       A:00 X:33 Y:BA P:66 SP:F9 PPU: 58, 88 CYC:6622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E9  B0 03     BCS $F7EE                       A:00 X:33 Y:BA P:66 SP:F9 PPU: 58, 94 CYC:6624
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7eb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7EB  30 01     BMI $F7EE                       A:00 X:33 Y:BA P:66 SP:F9 PPU: 58,100 CYC:6626
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ed, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7ED  60        RTS                             A:00 X:33 Y:BA P:66 SP:F9 PPU: 58,106 CYC:6628
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd623, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D623  C8        INY                             A:00 X:33 Y:BA P:66 SP:FB PPU: 58,124 CYC:6634
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd624, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D624  A9 EF     LDA #$EF                        A:00 X:33 Y:BB P:E4 SP:FB PPU: 58,130 CYC:6636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd626, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D626  8D 78 06  STA $0678 = AA                  A:EF X:33 Y:BB P:E4 SP:FB PPU: 58,136 CYC:6638
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd629, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D629  20 F1 F7  JSR $F7F1                       A:EF X:33 Y:BB P:E4 SP:FB PPU: 58,148 CYC:6642
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f1, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F1  38        SEC                             A:EF X:33 Y:BB P:E4 SP:F9 PPU: 58,166 CYC:6648
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f2, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F2  B8        CLV                             A:EF X:33 Y:BB P:E5 SP:F9 PPU: 58,172 CYC:6650
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f3, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F3  A9 F8     LDA #$F8                        A:EF X:33 Y:BB P:A5 SP:F9 PPU: 58,178 CYC:6652
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f5, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F5  60        RTS                             A:F8 X:33 Y:BB P:A5 SP:F9 PPU: 58,184 CYC:6654
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd62c, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D62C  2D 78 06  AND $0678 = EF                  A:F8 X:33 Y:BB P:A5 SP:FB PPU: 58,202 CYC:6660
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd62f, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D62F  20 F6 F7  JSR $F7F6                       A:E8 X:33 Y:BB P:A5 SP:FB PPU: 58,214 CYC:6664
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f6, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F6  90 09     BCC $F801                       A:E8 X:33 Y:BB P:A5 SP:F9 PPU: 58,232 CYC:6670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f8, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F8  10 07     BPL $F801                       A:E8 X:33 Y:BB P:A5 SP:F9 PPU: 58,238 CYC:6672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fa, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FA  C9 E8     CMP #$E8                        A:E8 X:33 Y:BB P:A5 SP:F9 PPU: 58,244 CYC:6674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fc, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FC  D0 03     BNE $F801                       A:E8 X:33 Y:BB P:27 SP:F9 PPU: 58,250 CYC:6676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fe, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FE  70 01     BVS $F801                       A:E8 X:33 Y:BB P:27 SP:F9 PPU: 58,256 CYC:6678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf800, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F800  60        RTS                             A:E8 X:33 Y:BB P:27 SP:F9 PPU: 58,262 CYC:6680
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd632, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D632  C8        INY                             A:E8 X:33 Y:BB P:27 SP:FB PPU: 58,280 CYC:6686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd633, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D633  A9 AA     LDA #$AA                        A:E8 X:33 Y:BC P:A5 SP:FB PPU: 58,286 CYC:6688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd635, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D635  8D 78 06  STA $0678 = EF                  A:AA X:33 Y:BC P:A5 SP:FB PPU: 58,292 CYC:6690
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd638, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D638  20 04 F8  JSR $F804                       A:AA X:33 Y:BC P:A5 SP:FB PPU: 58,304 CYC:6694
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf804, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F804  18        CLC                             A:AA X:33 Y:BC P:A5 SP:F9 PPU: 58,322 CYC:6700
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf805, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F805  24 01     BIT $01 = FF                    A:AA X:33 Y:BC P:A4 SP:F9 PPU: 58,328 CYC:6702
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf807, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F807  A9 5F     LDA #$5F                        A:AA X:33 Y:BC P:E4 SP:F9 PPU: 58,337 CYC:6705
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf809, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F809  60        RTS                             A:5F X:33 Y:BC P:64 SP:F9 PPU: 59,  2 CYC:6707
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd63b, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D63B  4D 78 06  EOR $0678 = AA                  A:5F X:33 Y:BC P:64 SP:FB PPU: 59, 20 CYC:6713
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd63e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D63E  20 0A F8  JSR $F80A                       A:F5 X:33 Y:BC P:E4 SP:FB PPU: 59, 32 CYC:6717
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf80a, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80A  B0 09     BCS $F815                       A:F5 X:33 Y:BC P:E4 SP:F9 PPU: 59, 50 CYC:6723
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80c, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80C  10 07     BPL $F815                       A:F5 X:33 Y:BC P:E4 SP:F9 PPU: 59, 56 CYC:6725
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80E  C9 F5     CMP #$F5                        A:F5 X:33 Y:BC P:E4 SP:F9 PPU: 59, 62 CYC:6727
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf810, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F810  D0 03     BNE $F815                       A:F5 X:33 Y:BC P:67 SP:F9 PPU: 59, 68 CYC:6729
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf812, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F812  50 01     BVC $F815                       A:F5 X:33 Y:BC P:67 SP:F9 PPU: 59, 74 CYC:6731
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf814, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F814  60        RTS                             A:F5 X:33 Y:BC P:67 SP:F9 PPU: 59, 80 CYC:6733
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd641, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D641  C8        INY                             A:F5 X:33 Y:BC P:67 SP:FB PPU: 59, 98 CYC:6739
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd642, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D642  A9 70     LDA #$70                        A:F5 X:33 Y:BD P:E5 SP:FB PPU: 59,104 CYC:6741
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd644, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D644  8D 78 06  STA $0678 = AA                  A:70 X:33 Y:BD P:65 SP:FB PPU: 59,110 CYC:6743
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd647, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D647  20 18 F8  JSR $F818                       A:70 X:33 Y:BD P:65 SP:FB PPU: 59,122 CYC:6747
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf818, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F818  38        SEC                             A:70 X:33 Y:BD P:65 SP:F9 PPU: 59,140 CYC:6753
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf819, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F819  B8        CLV                             A:70 X:33 Y:BD P:65 SP:F9 PPU: 59,146 CYC:6755
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81a, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81A  A9 70     LDA #$70                        A:70 X:33 Y:BD P:25 SP:F9 PPU: 59,152 CYC:6757
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81c, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81C  60        RTS                             A:70 X:33 Y:BD P:25 SP:F9 PPU: 59,158 CYC:6759
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd64a, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D64A  4D 78 06  EOR $0678 = 70                  A:70 X:33 Y:BD P:25 SP:FB PPU: 59,176 CYC:6765
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd64d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D64D  20 1D F8  JSR $F81D                       A:00 X:33 Y:BD P:27 SP:FB PPU: 59,188 CYC:6769
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf81d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81D  D0 07     BNE $F826                       A:00 X:33 Y:BD P:27 SP:F9 PPU: 59,206 CYC:6775
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81F  70 05     BVS $F826                       A:00 X:33 Y:BD P:27 SP:F9 PPU: 59,212 CYC:6777
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf821, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F821  90 03     BCC $F826                       A:00 X:33 Y:BD P:27 SP:F9 PPU: 59,218 CYC:6779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf823, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F823  30 01     BMI $F826                       A:00 X:33 Y:BD P:27 SP:F9 PPU: 59,224 CYC:6781
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf825, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F825  60        RTS                             A:00 X:33 Y:BD P:27 SP:F9 PPU: 59,230 CYC:6783
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd650, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D650  C8        INY                             A:00 X:33 Y:BD P:27 SP:FB PPU: 59,248 CYC:6789
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd651, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D651  A9 69     LDA #$69                        A:00 X:33 Y:BE P:A5 SP:FB PPU: 59,254 CYC:6791
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd653, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D653  8D 78 06  STA $0678 = 70                  A:69 X:33 Y:BE P:25 SP:FB PPU: 59,260 CYC:6793
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd656, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D656  20 29 F8  JSR $F829                       A:69 X:33 Y:BE P:25 SP:FB PPU: 59,272 CYC:6797
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf829, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F829  18        CLC                             A:69 X:33 Y:BE P:25 SP:F9 PPU: 59,290 CYC:6803
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82A  24 01     BIT $01 = FF                    A:69 X:33 Y:BE P:24 SP:F9 PPU: 59,296 CYC:6805
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf82c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82C  A9 00     LDA #$00                        A:69 X:33 Y:BE P:E4 SP:F9 PPU: 59,305 CYC:6808
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82E  60        RTS                             A:00 X:33 Y:BE P:66 SP:F9 PPU: 59,311 CYC:6810
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd659, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D659  6D 78 06  ADC $0678 = 69                  A:00 X:33 Y:BE P:66 SP:FB PPU: 59,329 CYC:6816
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd65c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D65C  20 2F F8  JSR $F82F                       A:69 X:33 Y:BE P:24 SP:FB PPU: 60,  0 CYC:6820
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf82f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82F  30 09     BMI $F83A                       A:69 X:33 Y:BE P:24 SP:F9 PPU: 60, 18 CYC:6826
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf831, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F831  B0 07     BCS $F83A                       A:69 X:33 Y:BE P:24 SP:F9 PPU: 60, 24 CYC:6828
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf833, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F833  C9 69     CMP #$69                        A:69 X:33 Y:BE P:24 SP:F9 PPU: 60, 30 CYC:6830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf835, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F835  D0 03     BNE $F83A                       A:69 X:33 Y:BE P:27 SP:F9 PPU: 60, 36 CYC:6832
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf837, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F837  70 01     BVS $F83A                       A:69 X:33 Y:BE P:27 SP:F9 PPU: 60, 42 CYC:6834
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf839, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F839  60        RTS                             A:69 X:33 Y:BE P:27 SP:F9 PPU: 60, 48 CYC:6836
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd65f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D65F  C8        INY                             A:69 X:33 Y:BE P:27 SP:FB PPU: 60, 66 CYC:6842
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd660, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D660  20 3D F8  JSR $F83D                       A:69 X:33 Y:BF P:A5 SP:FB PPU: 60, 72 CYC:6844
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf83d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83D  38        SEC                             A:69 X:33 Y:BF P:A5 SP:F9 PPU: 60, 90 CYC:6850
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf83e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83E  24 01     BIT $01 = FF                    A:69 X:33 Y:BF P:A5 SP:F9 PPU: 60, 96 CYC:6852
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf840, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F840  A9 00     LDA #$00                        A:69 X:33 Y:BF P:E5 SP:F9 PPU: 60,105 CYC:6855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf842, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F842  60        RTS                             A:00 X:33 Y:BF P:67 SP:F9 PPU: 60,111 CYC:6857
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd663, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D663  6D 78 06  ADC $0678 = 69                  A:00 X:33 Y:BF P:67 SP:FB PPU: 60,129 CYC:6863
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd666, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D666  20 43 F8  JSR $F843                       A:6A X:33 Y:BF P:24 SP:FB PPU: 60,141 CYC:6867
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf843, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F843  30 09     BMI $F84E                       A:6A X:33 Y:BF P:24 SP:F9 PPU: 60,159 CYC:6873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf845, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F845  B0 07     BCS $F84E                       A:6A X:33 Y:BF P:24 SP:F9 PPU: 60,165 CYC:6875
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf847, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F847  C9 6A     CMP #$6A                        A:6A X:33 Y:BF P:24 SP:F9 PPU: 60,171 CYC:6877
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf849, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F849  D0 03     BNE $F84E                       A:6A X:33 Y:BF P:27 SP:F9 PPU: 60,177 CYC:6879
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84b, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84B  70 01     BVS $F84E                       A:6A X:33 Y:BF P:27 SP:F9 PPU: 60,183 CYC:6881
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84d, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84D  60        RTS                             A:6A X:33 Y:BF P:27 SP:F9 PPU: 60,189 CYC:6883
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd669, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D669  C8        INY                             A:6A X:33 Y:BF P:27 SP:FB PPU: 60,207 CYC:6889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd66a, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D66A  A9 7F     LDA #$7F                        A:6A X:33 Y:C0 P:A5 SP:FB PPU: 60,213 CYC:6891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd66c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D66C  8D 78 06  STA $0678 = 69                  A:7F X:33 Y:C0 P:25 SP:FB PPU: 60,219 CYC:6893
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd66f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D66F  20 51 F8  JSR $F851                       A:7F X:33 Y:C0 P:25 SP:FB PPU: 60,231 CYC:6897
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf851, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F851  38        SEC                             A:7F X:33 Y:C0 P:25 SP:F9 PPU: 60,249 CYC:6903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf852, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F852  B8        CLV                             A:7F X:33 Y:C0 P:25 SP:F9 PPU: 60,255 CYC:6905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf853, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F853  A9 7F     LDA #$7F                        A:7F X:33 Y:C0 P:25 SP:F9 PPU: 60,261 CYC:6907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf855, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F855  60        RTS                             A:7F X:33 Y:C0 P:25 SP:F9 PPU: 60,267 CYC:6909
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd672, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D672  6D 78 06  ADC $0678 = 7F                  A:7F X:33 Y:C0 P:25 SP:FB PPU: 60,285 CYC:6915
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd675, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D675  20 56 F8  JSR $F856                       A:FF X:33 Y:C0 P:E4 SP:FB PPU: 60,297 CYC:6919
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf856, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F856  10 09     BPL $F861                       A:FF X:33 Y:C0 P:E4 SP:F9 PPU: 60,315 CYC:6925
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf858, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F858  B0 07     BCS $F861                       A:FF X:33 Y:C0 P:E4 SP:F9 PPU: 60,321 CYC:6927
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85A  C9 FF     CMP #$FF                        A:FF X:33 Y:C0 P:E4 SP:F9 PPU: 60,327 CYC:6929
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85C  D0 03     BNE $F861                       A:FF X:33 Y:C0 P:67 SP:F9 PPU: 60,333 CYC:6931
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85E  50 01     BVC $F861                       A:FF X:33 Y:C0 P:67 SP:F9 PPU: 60,339 CYC:6933
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf860, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F860  60        RTS                             A:FF X:33 Y:C0 P:67 SP:F9 PPU: 61,  4 CYC:6935
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd678, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D678  C8        INY                             A:FF X:33 Y:C0 P:67 SP:FB PPU: 61, 22 CYC:6941
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd679, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D679  A9 80     LDA #$80                        A:FF X:33 Y:C1 P:E5 SP:FB PPU: 61, 28 CYC:6943
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd67b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D67B  8D 78 06  STA $0678 = 7F                  A:80 X:33 Y:C1 P:E5 SP:FB PPU: 61, 34 CYC:6945
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd67e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D67E  20 64 F8  JSR $F864                       A:80 X:33 Y:C1 P:E5 SP:FB PPU: 61, 46 CYC:6949
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf864, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F864  18        CLC                             A:80 X:33 Y:C1 P:E5 SP:F9 PPU: 61, 64 CYC:6955
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf865, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F865  24 01     BIT $01 = FF                    A:80 X:33 Y:C1 P:E4 SP:F9 PPU: 61, 70 CYC:6957
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf867, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F867  A9 7F     LDA #$7F                        A:80 X:33 Y:C1 P:E4 SP:F9 PPU: 61, 79 CYC:6960
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf869, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F869  60        RTS                             A:7F X:33 Y:C1 P:64 SP:F9 PPU: 61, 85 CYC:6962
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd681, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D681  6D 78 06  ADC $0678 = 80                  A:7F X:33 Y:C1 P:64 SP:FB PPU: 61,103 CYC:6968
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd684, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D684  20 6A F8  JSR $F86A                       A:FF X:33 Y:C1 P:A4 SP:FB PPU: 61,115 CYC:6972
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf86a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86A  10 09     BPL $F875                       A:FF X:33 Y:C1 P:A4 SP:F9 PPU: 61,133 CYC:6978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86C  B0 07     BCS $F875                       A:FF X:33 Y:C1 P:A4 SP:F9 PPU: 61,139 CYC:6980
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86E  C9 FF     CMP #$FF                        A:FF X:33 Y:C1 P:A4 SP:F9 PPU: 61,145 CYC:6982
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf870, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F870  D0 03     BNE $F875                       A:FF X:33 Y:C1 P:27 SP:F9 PPU: 61,151 CYC:6984
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf872, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F872  70 01     BVS $F875                       A:FF X:33 Y:C1 P:27 SP:F9 PPU: 61,157 CYC:6986
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf874, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F874  60        RTS                             A:FF X:33 Y:C1 P:27 SP:F9 PPU: 61,163 CYC:6988
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd687, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D687  C8        INY                             A:FF X:33 Y:C1 P:27 SP:FB PPU: 61,181 CYC:6994
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd688, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D688  20 78 F8  JSR $F878                       A:FF X:33 Y:C2 P:A5 SP:FB PPU: 61,187 CYC:6996
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf878, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F878  38        SEC                             A:FF X:33 Y:C2 P:A5 SP:F9 PPU: 61,205 CYC:7002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf879, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F879  B8        CLV                             A:FF X:33 Y:C2 P:A5 SP:F9 PPU: 61,211 CYC:7004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87A  A9 7F     LDA #$7F                        A:FF X:33 Y:C2 P:A5 SP:F9 PPU: 61,217 CYC:7006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87C  60        RTS                             A:7F X:33 Y:C2 P:25 SP:F9 PPU: 61,223 CYC:7008
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd68b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D68B  6D 78 06  ADC $0678 = 80                  A:7F X:33 Y:C2 P:25 SP:FB PPU: 61,241 CYC:7014
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd68e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D68E  20 7D F8  JSR $F87D                       A:00 X:33 Y:C2 P:27 SP:FB PPU: 61,253 CYC:7018
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf87d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87D  D0 07     BNE $F886                       A:00 X:33 Y:C2 P:27 SP:F9 PPU: 61,271 CYC:7024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87F  30 05     BMI $F886                       A:00 X:33 Y:C2 P:27 SP:F9 PPU: 61,277 CYC:7026
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf881, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F881  70 03     BVS $F886                       A:00 X:33 Y:C2 P:27 SP:F9 PPU: 61,283 CYC:7028
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf883, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F883  90 01     BCC $F886                       A:00 X:33 Y:C2 P:27 SP:F9 PPU: 61,289 CYC:7030
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf885, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F885  60        RTS                             A:00 X:33 Y:C2 P:27 SP:F9 PPU: 61,295 CYC:7032
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd691, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D691  C8        INY                             A:00 X:33 Y:C2 P:27 SP:FB PPU: 61,313 CYC:7038
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd692, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D692  A9 40     LDA #$40                        A:00 X:33 Y:C3 P:A5 SP:FB PPU: 61,319 CYC:7040
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd694, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D694  8D 78 06  STA $0678 = 80                  A:40 X:33 Y:C3 P:25 SP:FB PPU: 61,325 CYC:7042
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd697, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D697  20 89 F8  JSR $F889                       A:40 X:33 Y:C3 P:25 SP:FB PPU: 61,337 CYC:7046
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf889, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F889  24 01     BIT $01 = FF                    A:40 X:33 Y:C3 P:25 SP:F9 PPU: 62, 14 CYC:7052
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf88b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88B  A9 40     LDA #$40                        A:40 X:33 Y:C3 P:E5 SP:F9 PPU: 62, 23 CYC:7055
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf88d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88D  60        RTS                             A:40 X:33 Y:C3 P:65 SP:F9 PPU: 62, 29 CYC:7057
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd69a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D69A  CD 78 06  CMP $0678 = 40                  A:40 X:33 Y:C3 P:65 SP:FB PPU: 62, 47 CYC:7063
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd69d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D69D  20 8E F8  JSR $F88E                       A:40 X:33 Y:C3 P:67 SP:FB PPU: 62, 59 CYC:7067
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf88e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88E  30 07     BMI $F897                       A:40 X:33 Y:C3 P:67 SP:F9 PPU: 62, 77 CYC:7073
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf890, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F890  90 05     BCC $F897                       A:40 X:33 Y:C3 P:67 SP:F9 PPU: 62, 83 CYC:7075
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf892, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F892  D0 03     BNE $F897                       A:40 X:33 Y:C3 P:67 SP:F9 PPU: 62, 89 CYC:7077
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf894, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F894  50 01     BVC $F897                       A:40 X:33 Y:C3 P:67 SP:F9 PPU: 62, 95 CYC:7079
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf896, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F896  60        RTS                             A:40 X:33 Y:C3 P:67 SP:F9 PPU: 62,101 CYC:7081
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6a0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6A0  C8        INY                             A:40 X:33 Y:C3 P:67 SP:FB PPU: 62,119 CYC:7087
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6a1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6A1  48        PHA                             A:40 X:33 Y:C4 P:E5 SP:FB PPU: 62,125 CYC:7089
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd6a2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6A2  A9 3F     LDA #$3F                        A:40 X:33 Y:C4 P:E5 SP:FA PPU: 62,134 CYC:7092
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6a4, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6A4  8D 78 06  STA $0678 = 40                  A:3F X:33 Y:C4 P:65 SP:FA PPU: 62,140 CYC:7094
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6a7, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6A7  68        PLA                             A:3F X:33 Y:C4 P:65 SP:FA PPU: 62,152 CYC:7098
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6a8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6A8  20 9A F8  JSR $F89A                       A:40 X:33 Y:C4 P:65 SP:FB PPU: 62,164 CYC:7102
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89A  B8        CLV                             A:40 X:33 Y:C4 P:65 SP:F9 PPU: 62,182 CYC:7108
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89B  60        RTS                             A:40 X:33 Y:C4 P:25 SP:F9 PPU: 62,188 CYC:7110
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6ab, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6AB  CD 78 06  CMP $0678 = 3F                  A:40 X:33 Y:C4 P:25 SP:FB PPU: 62,206 CYC:7116
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6ae, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6AE  20 9C F8  JSR $F89C                       A:40 X:33 Y:C4 P:25 SP:FB PPU: 62,218 CYC:7120
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89C  F0 07     BEQ $F8A5                       A:40 X:33 Y:C4 P:25 SP:F9 PPU: 62,236 CYC:7126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89E  30 05     BMI $F8A5                       A:40 X:33 Y:C4 P:25 SP:F9 PPU: 62,242 CYC:7128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A0  90 03     BCC $F8A5                       A:40 X:33 Y:C4 P:25 SP:F9 PPU: 62,248 CYC:7130
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A2  70 01     BVS $F8A5                       A:40 X:33 Y:C4 P:25 SP:F9 PPU: 62,254 CYC:7132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A4  60        RTS                             A:40 X:33 Y:C4 P:25 SP:F9 PPU: 62,260 CYC:7134
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6b1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6B1  C8        INY                             A:40 X:33 Y:C4 P:25 SP:FB PPU: 62,278 CYC:7140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6b2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6B2  48        PHA                             A:40 X:33 Y:C5 P:A5 SP:FB PPU: 62,284 CYC:7142
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd6b3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6B3  A9 41     LDA #$41                        A:40 X:33 Y:C5 P:A5 SP:FA PPU: 62,293 CYC:7145
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6b5, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6B5  8D 78 06  STA $0678 = 3F                  A:41 X:33 Y:C5 P:25 SP:FA PPU: 62,299 CYC:7147
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6b8, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6B8  68        PLA                             A:41 X:33 Y:C5 P:25 SP:FA PPU: 62,311 CYC:7151
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6b9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6B9  CD 78 06  CMP $0678 = 41                  A:40 X:33 Y:C5 P:25 SP:FB PPU: 62,323 CYC:7155
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6bc, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6BC  20 A8 F8  JSR $F8A8                       A:40 X:33 Y:C5 P:A4 SP:FB PPU: 62,335 CYC:7159
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A8  F0 05     BEQ $F8AF                       A:40 X:33 Y:C5 P:A4 SP:F9 PPU: 63, 12 CYC:7165
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8aa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AA  10 03     BPL $F8AF                       A:40 X:33 Y:C5 P:A4 SP:F9 PPU: 63, 18 CYC:7167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ac, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AC  10 01     BPL $F8AF                       A:40 X:33 Y:C5 P:A4 SP:F9 PPU: 63, 24 CYC:7169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ae, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AE  60        RTS                             A:40 X:33 Y:C5 P:A4 SP:F9 PPU: 63, 30 CYC:7171
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6bf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6BF  C8        INY                             A:40 X:33 Y:C5 P:A4 SP:FB PPU: 63, 48 CYC:7177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6c0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6C0  48        PHA                             A:40 X:33 Y:C6 P:A4 SP:FB PPU: 63, 54 CYC:7179
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd6c1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6C1  A9 00     LDA #$00                        A:40 X:33 Y:C6 P:A4 SP:FA PPU: 63, 63 CYC:7182
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6c3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6C3  8D 78 06  STA $0678 = 41                  A:00 X:33 Y:C6 P:26 SP:FA PPU: 63, 69 CYC:7184
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6c6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6C6  68        PLA                             A:00 X:33 Y:C6 P:26 SP:FA PPU: 63, 81 CYC:7188
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6c7, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6C7  20 B2 F8  JSR $F8B2                       A:40 X:33 Y:C6 P:24 SP:FB PPU: 63, 93 CYC:7192
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B2  A9 80     LDA #$80                        A:40 X:33 Y:C6 P:24 SP:F9 PPU: 63,111 CYC:7198
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B4  60        RTS                             A:80 X:33 Y:C6 P:A4 SP:F9 PPU: 63,117 CYC:7200
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6ca, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6CA  CD 78 06  CMP $0678 = 00                  A:80 X:33 Y:C6 P:A4 SP:FB PPU: 63,135 CYC:7206
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6cd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6CD  20 B5 F8  JSR $F8B5                       A:80 X:33 Y:C6 P:A5 SP:FB PPU: 63,147 CYC:7210
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B5  F0 05     BEQ $F8BC                       A:80 X:33 Y:C6 P:A5 SP:F9 PPU: 63,165 CYC:7216
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B7  10 03     BPL $F8BC                       A:80 X:33 Y:C6 P:A5 SP:F9 PPU: 63,171 CYC:7218
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B9  90 01     BCC $F8BC                       A:80 X:33 Y:C6 P:A5 SP:F9 PPU: 63,177 CYC:7220
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BB  60        RTS                             A:80 X:33 Y:C6 P:A5 SP:F9 PPU: 63,183 CYC:7222
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6d0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6D0  C8        INY                             A:80 X:33 Y:C6 P:A5 SP:FB PPU: 63,201 CYC:7228
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6d1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6D1  48        PHA                             A:80 X:33 Y:C7 P:A5 SP:FB PPU: 63,207 CYC:7230
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd6d2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6D2  A9 80     LDA #$80                        A:80 X:33 Y:C7 P:A5 SP:FA PPU: 63,216 CYC:7233
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6d4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6D4  8D 78 06  STA $0678 = 00                  A:80 X:33 Y:C7 P:A5 SP:FA PPU: 63,222 CYC:7235
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6d7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6D7  68        PLA                             A:80 X:33 Y:C7 P:A5 SP:FA PPU: 63,234 CYC:7239
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6d8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6D8  CD 78 06  CMP $0678 = 80                  A:80 X:33 Y:C7 P:A5 SP:FB PPU: 63,246 CYC:7243
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6db, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6DB  20 BF F8  JSR $F8BF                       A:80 X:33 Y:C7 P:27 SP:FB PPU: 63,258 CYC:7247
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BF  D0 05     BNE $F8C6                       A:80 X:33 Y:C7 P:27 SP:F9 PPU: 63,276 CYC:7253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C1  30 03     BMI $F8C6                       A:80 X:33 Y:C7 P:27 SP:F9 PPU: 63,282 CYC:7255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C3  90 01     BCC $F8C6                       A:80 X:33 Y:C7 P:27 SP:F9 PPU: 63,288 CYC:7257
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C5  60        RTS                             A:80 X:33 Y:C7 P:27 SP:F9 PPU: 63,294 CYC:7259
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6de, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6DE  C8        INY                             A:80 X:33 Y:C7 P:27 SP:FB PPU: 63,312 CYC:7265
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6df, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6DF  48        PHA                             A:80 X:33 Y:C8 P:A5 SP:FB PPU: 63,318 CYC:7267
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd6e0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6E0  A9 81     LDA #$81                        A:80 X:33 Y:C8 P:A5 SP:FA PPU: 63,327 CYC:7270
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6e2, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6E2  8D 78 06  STA $0678 = 80                  A:81 X:33 Y:C8 P:A5 SP:FA PPU: 63,333 CYC:7272
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6e5, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6E5  68        PLA                             A:81 X:33 Y:C8 P:A5 SP:FA PPU: 64,  4 CYC:7276
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6e6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6E6  CD 78 06  CMP $0678 = 81                  A:80 X:33 Y:C8 P:A5 SP:FB PPU: 64, 16 CYC:7280
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6e9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6E9  20 C9 F8  JSR $F8C9                       A:80 X:33 Y:C8 P:A4 SP:FB PPU: 64, 28 CYC:7284
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C9  B0 05     BCS $F8D0                       A:80 X:33 Y:C8 P:A4 SP:F9 PPU: 64, 46 CYC:7290
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CB  F0 03     BEQ $F8D0                       A:80 X:33 Y:C8 P:A4 SP:F9 PPU: 64, 52 CYC:7292
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CD  10 01     BPL $F8D0                       A:80 X:33 Y:C8 P:A4 SP:F9 PPU: 64, 58 CYC:7294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CF  60        RTS                             A:80 X:33 Y:C8 P:A4 SP:F9 PPU: 64, 64 CYC:7296
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6ec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6EC  C8        INY                             A:80 X:33 Y:C8 P:A4 SP:FB PPU: 64, 82 CYC:7302
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6ed, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6ED  48        PHA                             A:80 X:33 Y:C9 P:A4 SP:FB PPU: 64, 88 CYC:7304
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd6ee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6EE  A9 7F     LDA #$7F                        A:80 X:33 Y:C9 P:A4 SP:FA PPU: 64, 97 CYC:7307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6f0, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6F0  8D 78 06  STA $0678 = 81                  A:7F X:33 Y:C9 P:24 SP:FA PPU: 64,103 CYC:7309
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6f3, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D6F3  68        PLA                             A:7F X:33 Y:C9 P:24 SP:FA PPU: 64,115 CYC:7313
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6f4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6F4  CD 78 06  CMP $0678 = 7F                  A:80 X:33 Y:C9 P:A4 SP:FB PPU: 64,127 CYC:7317
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd6f7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6F7  20 D3 F8  JSR $F8D3                       A:80 X:33 Y:C9 P:25 SP:FB PPU: 64,139 CYC:7321
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D3  90 05     BCC $F8DA                       A:80 X:33 Y:C9 P:25 SP:F9 PPU: 64,157 CYC:7327
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D5  F0 03     BEQ $F8DA                       A:80 X:33 Y:C9 P:25 SP:F9 PPU: 64,163 CYC:7329
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D7  30 01     BMI $F8DA                       A:80 X:33 Y:C9 P:25 SP:F9 PPU: 64,169 CYC:7331
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D9  60        RTS                             A:80 X:33 Y:C9 P:25 SP:F9 PPU: 64,175 CYC:7333
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd6fa, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6FA  C8        INY                             A:80 X:33 Y:C9 P:25 SP:FB PPU: 64,193 CYC:7339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6fb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6FB  A9 40     LDA #$40                        A:80 X:33 Y:CA P:A5 SP:FB PPU: 64,199 CYC:7341
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd6fd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D6FD  8D 78 06  STA $0678 = 7F                  A:40 X:33 Y:CA P:25 SP:FB PPU: 64,205 CYC:7343
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd700, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D700  20 31 F9  JSR $F931                       A:40 X:33 Y:CA P:25 SP:FB PPU: 64,217 CYC:7347
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf931, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F931  24 01     BIT $01 = FF                    A:40 X:33 Y:CA P:25 SP:F9 PPU: 64,235 CYC:7353
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf933, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F933  A9 40     LDA #$40                        A:40 X:33 Y:CA P:E5 SP:F9 PPU: 64,244 CYC:7356
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf935, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F935  38        SEC                             A:40 X:33 Y:CA P:65 SP:F9 PPU: 64,250 CYC:7358
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf936, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F936  60        RTS                             A:40 X:33 Y:CA P:65 SP:F9 PPU: 64,256 CYC:7360
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd703, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D703  ED 78 06  SBC $0678 = 40                  A:40 X:33 Y:CA P:65 SP:FB PPU: 64,274 CYC:7366
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd706, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D706  20 37 F9  JSR $F937                       A:00 X:33 Y:CA P:27 SP:FB PPU: 64,286 CYC:7370
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf937, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F937  30 0B     BMI $F944                       A:00 X:33 Y:CA P:27 SP:F9 PPU: 64,304 CYC:7376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf939, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F939  90 09     BCC $F944                       A:00 X:33 Y:CA P:27 SP:F9 PPU: 64,310 CYC:7378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93B  D0 07     BNE $F944                       A:00 X:33 Y:CA P:27 SP:F9 PPU: 64,316 CYC:7380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93D  70 05     BVS $F944                       A:00 X:33 Y:CA P:27 SP:F9 PPU: 64,322 CYC:7382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93F  C9 00     CMP #$00                        A:00 X:33 Y:CA P:27 SP:F9 PPU: 64,328 CYC:7384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf941, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F941  D0 01     BNE $F944                       A:00 X:33 Y:CA P:27 SP:F9 PPU: 64,334 CYC:7386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F943  60        RTS                             A:00 X:33 Y:CA P:27 SP:F9 PPU: 64,340 CYC:7388
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd709, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D709  C8        INY                             A:00 X:33 Y:CA P:27 SP:FB PPU: 65, 17 CYC:7394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd70a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D70A  A9 3F     LDA #$3F                        A:00 X:33 Y:CB P:A5 SP:FB PPU: 65, 23 CYC:7396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd70c, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D70C  8D 78 06  STA $0678 = 40                  A:3F X:33 Y:CB P:25 SP:FB PPU: 65, 29 CYC:7398
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd70f, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D70F  20 47 F9  JSR $F947                       A:3F X:33 Y:CB P:25 SP:FB PPU: 65, 41 CYC:7402
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf947, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F947  B8        CLV                             A:3F X:33 Y:CB P:25 SP:F9 PPU: 65, 59 CYC:7408
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf948, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F948  38        SEC                             A:3F X:33 Y:CB P:25 SP:F9 PPU: 65, 65 CYC:7410
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf949, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F949  A9 40     LDA #$40                        A:3F X:33 Y:CB P:25 SP:F9 PPU: 65, 71 CYC:7412
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94B  60        RTS                             A:40 X:33 Y:CB P:25 SP:F9 PPU: 65, 77 CYC:7414
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd712, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D712  ED 78 06  SBC $0678 = 3F                  A:40 X:33 Y:CB P:25 SP:FB PPU: 65, 95 CYC:7420
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd715, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D715  20 4C F9  JSR $F94C                       A:01 X:33 Y:CB P:25 SP:FB PPU: 65,107 CYC:7424
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf94c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94C  F0 0B     BEQ $F959                       A:01 X:33 Y:CB P:25 SP:F9 PPU: 65,125 CYC:7430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94E  30 09     BMI $F959                       A:01 X:33 Y:CB P:25 SP:F9 PPU: 65,131 CYC:7432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf950, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F950  90 07     BCC $F959                       A:01 X:33 Y:CB P:25 SP:F9 PPU: 65,137 CYC:7434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf952, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F952  70 05     BVS $F959                       A:01 X:33 Y:CB P:25 SP:F9 PPU: 65,143 CYC:7436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf954, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F954  C9 01     CMP #$01                        A:01 X:33 Y:CB P:25 SP:F9 PPU: 65,149 CYC:7438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf956, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F956  D0 01     BNE $F959                       A:01 X:33 Y:CB P:27 SP:F9 PPU: 65,155 CYC:7440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf958, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F958  60        RTS                             A:01 X:33 Y:CB P:27 SP:F9 PPU: 65,161 CYC:7442
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd718, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D718  C8        INY                             A:01 X:33 Y:CB P:27 SP:FB PPU: 65,179 CYC:7448
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd719, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D719  A9 41     LDA #$41                        A:01 X:33 Y:CC P:A5 SP:FB PPU: 65,185 CYC:7450
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd71b, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D71B  8D 78 06  STA $0678 = 3F                  A:41 X:33 Y:CC P:25 SP:FB PPU: 65,191 CYC:7452
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd71e, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D71E  20 5C F9  JSR $F95C                       A:41 X:33 Y:CC P:25 SP:FB PPU: 65,203 CYC:7456
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf95c, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95C  A9 40     LDA #$40                        A:41 X:33 Y:CC P:25 SP:F9 PPU: 65,221 CYC:7462
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95E  38        SEC                             A:40 X:33 Y:CC P:25 SP:F9 PPU: 65,227 CYC:7464
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95F  24 01     BIT $01 = FF                    A:40 X:33 Y:CC P:25 SP:F9 PPU: 65,233 CYC:7466
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf961, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F961  60        RTS                             A:40 X:33 Y:CC P:E5 SP:F9 PPU: 65,242 CYC:7469
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd721, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D721  ED 78 06  SBC $0678 = 41                  A:40 X:33 Y:CC P:E5 SP:FB PPU: 65,260 CYC:7475
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd724, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D724  20 62 F9  JSR $F962                       A:FF X:33 Y:CC P:A4 SP:FB PPU: 65,272 CYC:7479
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F962  B0 0B     BCS $F96F                       A:FF X:33 Y:CC P:A4 SP:F9 PPU: 65,290 CYC:7485
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F964  F0 09     BEQ $F96F                       A:FF X:33 Y:CC P:A4 SP:F9 PPU: 65,296 CYC:7487
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F966  10 07     BPL $F96F                       A:FF X:33 Y:CC P:A4 SP:F9 PPU: 65,302 CYC:7489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf968, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F968  70 05     BVS $F96F                       A:FF X:33 Y:CC P:A4 SP:F9 PPU: 65,308 CYC:7491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96A  C9 FF     CMP #$FF                        A:FF X:33 Y:CC P:A4 SP:F9 PPU: 65,314 CYC:7493
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96C  D0 01     BNE $F96F                       A:FF X:33 Y:CC P:27 SP:F9 PPU: 65,320 CYC:7495
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96E  60        RTS                             A:FF X:33 Y:CC P:27 SP:F9 PPU: 65,326 CYC:7497
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd727, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D727  C8        INY                             A:FF X:33 Y:CC P:27 SP:FB PPU: 66,  3 CYC:7503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd728, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D728  A9 00     LDA #$00                        A:FF X:33 Y:CD P:A5 SP:FB PPU: 66,  9 CYC:7505
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd72a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D72A  8D 78 06  STA $0678 = 41                  A:00 X:33 Y:CD P:27 SP:FB PPU: 66, 15 CYC:7507
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd72d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D72D  20 72 F9  JSR $F972                       A:00 X:33 Y:CD P:27 SP:FB PPU: 66, 27 CYC:7511
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf972, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F972  18        CLC                             A:00 X:33 Y:CD P:27 SP:F9 PPU: 66, 45 CYC:7517
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf973, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F973  A9 80     LDA #$80                        A:00 X:33 Y:CD P:26 SP:F9 PPU: 66, 51 CYC:7519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf975, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F975  60        RTS                             A:80 X:33 Y:CD P:A4 SP:F9 PPU: 66, 57 CYC:7521
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd730, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D730  ED 78 06  SBC $0678 = 00                  A:80 X:33 Y:CD P:A4 SP:FB PPU: 66, 75 CYC:7527
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd733, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D733  20 76 F9  JSR $F976                       A:7F X:33 Y:CD P:65 SP:FB PPU: 66, 87 CYC:7531
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf976, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F976  90 05     BCC $F97D                       A:7F X:33 Y:CD P:65 SP:F9 PPU: 66,105 CYC:7537
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf978, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F978  C9 7F     CMP #$7F                        A:7F X:33 Y:CD P:65 SP:F9 PPU: 66,111 CYC:7539
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97A  D0 01     BNE $F97D                       A:7F X:33 Y:CD P:67 SP:F9 PPU: 66,117 CYC:7541
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97C  60        RTS                             A:7F X:33 Y:CD P:67 SP:F9 PPU: 66,123 CYC:7543
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd736, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D736  C8        INY                             A:7F X:33 Y:CD P:67 SP:FB PPU: 66,141 CYC:7549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd737, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D737  A9 7F     LDA #$7F                        A:7F X:33 Y:CE P:E5 SP:FB PPU: 66,147 CYC:7551
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd739, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D739  8D 78 06  STA $0678 = 00                  A:7F X:33 Y:CE P:65 SP:FB PPU: 66,153 CYC:7553
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd73c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D73C  20 80 F9  JSR $F980                       A:7F X:33 Y:CE P:65 SP:FB PPU: 66,165 CYC:7557
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F980  38        SEC                             A:7F X:33 Y:CE P:65 SP:F9 PPU: 66,183 CYC:7563
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf981, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F981  A9 81     LDA #$81                        A:7F X:33 Y:CE P:65 SP:F9 PPU: 66,189 CYC:7565
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf983, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F983  60        RTS                             A:81 X:33 Y:CE P:E5 SP:F9 PPU: 66,195 CYC:7567
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd73f, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D73F  ED 78 06  SBC $0678 = 7F                  A:81 X:33 Y:CE P:E5 SP:FB PPU: 66,213 CYC:7573
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd742, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D742  20 84 F9  JSR $F984                       A:02 X:33 Y:CE P:65 SP:FB PPU: 66,225 CYC:7577
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf984, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F984  50 07     BVC $F98D                       A:02 X:33 Y:CE P:65 SP:F9 PPU: 66,243 CYC:7583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf986, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F986  90 05     BCC $F98D                       A:02 X:33 Y:CE P:65 SP:F9 PPU: 66,249 CYC:7585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf988, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F988  C9 02     CMP #$02                        A:02 X:33 Y:CE P:65 SP:F9 PPU: 66,255 CYC:7587
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98A  D0 01     BNE $F98D                       A:02 X:33 Y:CE P:67 SP:F9 PPU: 66,261 CYC:7589
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98C  60        RTS                             A:02 X:33 Y:CE P:67 SP:F9 PPU: 66,267 CYC:7591
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd745, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D745  C8        INY                             A:02 X:33 Y:CE P:67 SP:FB PPU: 66,285 CYC:7597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd746, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D746  A9 40     LDA #$40                        A:02 X:33 Y:CF P:E5 SP:FB PPU: 66,291 CYC:7599
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd748, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D748  8D 78 06  STA $0678 = 7F                  A:40 X:33 Y:CF P:65 SP:FB PPU: 66,297 CYC:7601
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd74b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D74B  20 89 F8  JSR $F889                       A:40 X:33 Y:CF P:65 SP:FB PPU: 66,309 CYC:7605
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf889, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F889  24 01     BIT $01 = FF                    A:40 X:33 Y:CF P:65 SP:F9 PPU: 66,327 CYC:7611
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf88b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88B  A9 40     LDA #$40                        A:40 X:33 Y:CF P:E5 SP:F9 PPU: 66,336 CYC:7614
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf88d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88D  60        RTS                             A:40 X:33 Y:CF P:65 SP:F9 PPU: 67,  1 CYC:7616
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd74e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D74E  AA        TAX                             A:40 X:33 Y:CF P:65 SP:FB PPU: 67, 19 CYC:7622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd74f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D74F  EC 78 06  CPX $0678 = 40                  A:40 X:40 Y:CF P:65 SP:FB PPU: 67, 25 CYC:7624
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd752, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D752  20 8E F8  JSR $F88E                       A:40 X:40 Y:CF P:67 SP:FB PPU: 67, 37 CYC:7628
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf88e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88E  30 07     BMI $F897                       A:40 X:40 Y:CF P:67 SP:F9 PPU: 67, 55 CYC:7634
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf890, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F890  90 05     BCC $F897                       A:40 X:40 Y:CF P:67 SP:F9 PPU: 67, 61 CYC:7636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf892, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F892  D0 03     BNE $F897                       A:40 X:40 Y:CF P:67 SP:F9 PPU: 67, 67 CYC:7638
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf894, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F894  50 01     BVC $F897                       A:40 X:40 Y:CF P:67 SP:F9 PPU: 67, 73 CYC:7640
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf896, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F896  60        RTS                             A:40 X:40 Y:CF P:67 SP:F9 PPU: 67, 79 CYC:7642
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd755, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D755  C8        INY                             A:40 X:40 Y:CF P:67 SP:FB PPU: 67, 97 CYC:7648
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd756, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D756  A9 3F     LDA #$3F                        A:40 X:40 Y:D0 P:E5 SP:FB PPU: 67,103 CYC:7650
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd758, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D758  8D 78 06  STA $0678 = 40                  A:3F X:40 Y:D0 P:65 SP:FB PPU: 67,109 CYC:7652
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd75b, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D75B  20 9A F8  JSR $F89A                       A:3F X:40 Y:D0 P:65 SP:FB PPU: 67,121 CYC:7656
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89a, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89A  B8        CLV                             A:3F X:40 Y:D0 P:65 SP:F9 PPU: 67,139 CYC:7662
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89b, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89B  60        RTS                             A:3F X:40 Y:D0 P:25 SP:F9 PPU: 67,145 CYC:7664
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd75e, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D75E  EC 78 06  CPX $0678 = 3F                  A:3F X:40 Y:D0 P:25 SP:FB PPU: 67,163 CYC:7670
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd761, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D761  20 9C F8  JSR $F89C                       A:3F X:40 Y:D0 P:25 SP:FB PPU: 67,175 CYC:7674
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89c, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89C  F0 07     BEQ $F8A5                       A:3F X:40 Y:D0 P:25 SP:F9 PPU: 67,193 CYC:7680
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89e, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89E  30 05     BMI $F8A5                       A:3F X:40 Y:D0 P:25 SP:F9 PPU: 67,199 CYC:7682
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a0, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A0  90 03     BCC $F8A5                       A:3F X:40 Y:D0 P:25 SP:F9 PPU: 67,205 CYC:7684
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a2, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A2  70 01     BVS $F8A5                       A:3F X:40 Y:D0 P:25 SP:F9 PPU: 67,211 CYC:7686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a4, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A4  60        RTS                             A:3F X:40 Y:D0 P:25 SP:F9 PPU: 67,217 CYC:7688
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd764, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D764  C8        INY                             A:3F X:40 Y:D0 P:25 SP:FB PPU: 67,235 CYC:7694
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd765, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D765  A9 41     LDA #$41                        A:3F X:40 Y:D1 P:A5 SP:FB PPU: 67,241 CYC:7696
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd767, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D767  8D 78 06  STA $0678 = 3F                  A:41 X:40 Y:D1 P:25 SP:FB PPU: 67,247 CYC:7698
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd76a, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D76A  EC 78 06  CPX $0678 = 41                  A:41 X:40 Y:D1 P:25 SP:FB PPU: 67,259 CYC:7702
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd76d, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D76D  20 A8 F8  JSR $F8A8                       A:41 X:40 Y:D1 P:A4 SP:FB PPU: 67,271 CYC:7706
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a8, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A8  F0 05     BEQ $F8AF                       A:41 X:40 Y:D1 P:A4 SP:F9 PPU: 67,289 CYC:7712
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8aa, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AA  10 03     BPL $F8AF                       A:41 X:40 Y:D1 P:A4 SP:F9 PPU: 67,295 CYC:7714
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ac, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AC  10 01     BPL $F8AF                       A:41 X:40 Y:D1 P:A4 SP:F9 PPU: 67,301 CYC:7716
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ae, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AE  60        RTS                             A:41 X:40 Y:D1 P:A4 SP:F9 PPU: 67,307 CYC:7718
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd770, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D770  C8        INY                             A:41 X:40 Y:D1 P:A4 SP:FB PPU: 67,325 CYC:7724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd771, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D771  A9 00     LDA #$00                        A:41 X:40 Y:D2 P:A4 SP:FB PPU: 67,331 CYC:7726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd773, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D773  8D 78 06  STA $0678 = 41                  A:00 X:40 Y:D2 P:26 SP:FB PPU: 67,337 CYC:7728
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd776, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D776  20 B2 F8  JSR $F8B2                       A:00 X:40 Y:D2 P:26 SP:FB PPU: 68,  8 CYC:7732
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B2  A9 80     LDA #$80                        A:00 X:40 Y:D2 P:26 SP:F9 PPU: 68, 26 CYC:7738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B4  60        RTS                             A:80 X:40 Y:D2 P:A4 SP:F9 PPU: 68, 32 CYC:7740
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd779, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D779  AA        TAX                             A:80 X:40 Y:D2 P:A4 SP:FB PPU: 68, 50 CYC:7746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd77a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D77A  EC 78 06  CPX $0678 = 00                  A:80 X:80 Y:D2 P:A4 SP:FB PPU: 68, 56 CYC:7748
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd77d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D77D  20 B5 F8  JSR $F8B5                       A:80 X:80 Y:D2 P:A5 SP:FB PPU: 68, 68 CYC:7752
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B5  F0 05     BEQ $F8BC                       A:80 X:80 Y:D2 P:A5 SP:F9 PPU: 68, 86 CYC:7758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B7  10 03     BPL $F8BC                       A:80 X:80 Y:D2 P:A5 SP:F9 PPU: 68, 92 CYC:7760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B9  90 01     BCC $F8BC                       A:80 X:80 Y:D2 P:A5 SP:F9 PPU: 68, 98 CYC:7762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BB  60        RTS                             A:80 X:80 Y:D2 P:A5 SP:F9 PPU: 68,104 CYC:7764
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd780, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D780  C8        INY                             A:80 X:80 Y:D2 P:A5 SP:FB PPU: 68,122 CYC:7770
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd781, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D781  A9 80     LDA #$80                        A:80 X:80 Y:D3 P:A5 SP:FB PPU: 68,128 CYC:7772
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd783, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D783  8D 78 06  STA $0678 = 00                  A:80 X:80 Y:D3 P:A5 SP:FB PPU: 68,134 CYC:7774
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd786, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D786  EC 78 06  CPX $0678 = 80                  A:80 X:80 Y:D3 P:A5 SP:FB PPU: 68,146 CYC:7778
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd789, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D789  20 BF F8  JSR $F8BF                       A:80 X:80 Y:D3 P:27 SP:FB PPU: 68,158 CYC:7782
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BF  D0 05     BNE $F8C6                       A:80 X:80 Y:D3 P:27 SP:F9 PPU: 68,176 CYC:7788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C1  30 03     BMI $F8C6                       A:80 X:80 Y:D3 P:27 SP:F9 PPU: 68,182 CYC:7790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C3  90 01     BCC $F8C6                       A:80 X:80 Y:D3 P:27 SP:F9 PPU: 68,188 CYC:7792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C5  60        RTS                             A:80 X:80 Y:D3 P:27 SP:F9 PPU: 68,194 CYC:7794
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd78c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D78C  C8        INY                             A:80 X:80 Y:D3 P:27 SP:FB PPU: 68,212 CYC:7800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd78d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D78D  A9 81     LDA #$81                        A:80 X:80 Y:D4 P:A5 SP:FB PPU: 68,218 CYC:7802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd78f, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D78F  8D 78 06  STA $0678 = 80                  A:81 X:80 Y:D4 P:A5 SP:FB PPU: 68,224 CYC:7804
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd792, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D792  EC 78 06  CPX $0678 = 81                  A:81 X:80 Y:D4 P:A5 SP:FB PPU: 68,236 CYC:7808
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd795, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D795  20 C9 F8  JSR $F8C9                       A:81 X:80 Y:D4 P:A4 SP:FB PPU: 68,248 CYC:7812
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c9, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C9  B0 05     BCS $F8D0                       A:81 X:80 Y:D4 P:A4 SP:F9 PPU: 68,266 CYC:7818
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cb, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CB  F0 03     BEQ $F8D0                       A:81 X:80 Y:D4 P:A4 SP:F9 PPU: 68,272 CYC:7820
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cd, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CD  10 01     BPL $F8D0                       A:81 X:80 Y:D4 P:A4 SP:F9 PPU: 68,278 CYC:7822
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cf, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CF  60        RTS                             A:81 X:80 Y:D4 P:A4 SP:F9 PPU: 68,284 CYC:7824
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd798, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D798  C8        INY                             A:81 X:80 Y:D4 P:A4 SP:FB PPU: 68,302 CYC:7830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd799, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D799  A9 7F     LDA #$7F                        A:81 X:80 Y:D5 P:A4 SP:FB PPU: 68,308 CYC:7832
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd79b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D79B  8D 78 06  STA $0678 = 81                  A:7F X:80 Y:D5 P:24 SP:FB PPU: 68,314 CYC:7834
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd79e, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D79E  EC 78 06  CPX $0678 = 7F                  A:7F X:80 Y:D5 P:24 SP:FB PPU: 68,326 CYC:7838
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7a1, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7A1  20 D3 F8  JSR $F8D3                       A:7F X:80 Y:D5 P:25 SP:FB PPU: 68,338 CYC:7842
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d3, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D3  90 05     BCC $F8DA                       A:7F X:80 Y:D5 P:25 SP:F9 PPU: 69, 15 CYC:7848
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d5, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D5  F0 03     BEQ $F8DA                       A:7F X:80 Y:D5 P:25 SP:F9 PPU: 69, 21 CYC:7850
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d7, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D7  30 01     BMI $F8DA                       A:7F X:80 Y:D5 P:25 SP:F9 PPU: 69, 27 CYC:7852
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d9, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D9  60        RTS                             A:7F X:80 Y:D5 P:25 SP:F9 PPU: 69, 33 CYC:7854
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7a4, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7A4  C8        INY                             A:7F X:80 Y:D5 P:25 SP:FB PPU: 69, 51 CYC:7860
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7a5, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7A5  98        TYA                             A:7F X:80 Y:D6 P:A5 SP:FB PPU: 69, 57 CYC:7862
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7a6, cpu.pc);
    try expectEqual(0xd6, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7A6  AA        TAX                             A:D6 X:80 Y:D6 P:A5 SP:FB PPU: 69, 63 CYC:7864
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7a7, cpu.pc);
    try expectEqual(0xd6, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7A7  A9 40     LDA #$40                        A:D6 X:D6 Y:D6 P:A5 SP:FB PPU: 69, 69 CYC:7866
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7a9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7A9  8D 78 06  STA $0678 = 7F                  A:40 X:D6 Y:D6 P:25 SP:FB PPU: 69, 75 CYC:7868
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7ac, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7AC  20 DD F8  JSR $F8DD                       A:40 X:D6 Y:D6 P:25 SP:FB PPU: 69, 87 CYC:7872
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8dd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8DD  24 01     BIT $01 = FF                    A:40 X:D6 Y:D6 P:25 SP:F9 PPU: 69,105 CYC:7878
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf8df, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8DF  A0 40     LDY #$40                        A:40 X:D6 Y:D6 P:E5 SP:F9 PPU: 69,114 CYC:7881
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E1  60        RTS                             A:40 X:D6 Y:40 P:65 SP:F9 PPU: 69,120 CYC:7883
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7af, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7AF  CC 78 06  CPY $0678 = 40                  A:40 X:D6 Y:40 P:65 SP:FB PPU: 69,138 CYC:7889
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7b2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7B2  20 E2 F8  JSR $F8E2                       A:40 X:D6 Y:40 P:67 SP:FB PPU: 69,150 CYC:7893
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E2  30 07     BMI $F8EB                       A:40 X:D6 Y:40 P:67 SP:F9 PPU: 69,168 CYC:7899
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E4  90 05     BCC $F8EB                       A:40 X:D6 Y:40 P:67 SP:F9 PPU: 69,174 CYC:7901
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E6  D0 03     BNE $F8EB                       A:40 X:D6 Y:40 P:67 SP:F9 PPU: 69,180 CYC:7903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8e8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8E8  50 01     BVC $F8EB                       A:40 X:D6 Y:40 P:67 SP:F9 PPU: 69,186 CYC:7905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ea, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8EA  60        RTS                             A:40 X:D6 Y:40 P:67 SP:F9 PPU: 69,192 CYC:7907
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7b5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd6, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7B5  E8        INX                             A:40 X:D6 Y:40 P:67 SP:FB PPU: 69,210 CYC:7913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7b6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7B6  A9 3F     LDA #$3F                        A:40 X:D7 Y:40 P:E5 SP:FB PPU: 69,216 CYC:7915
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7b8, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7B8  8D 78 06  STA $0678 = 40                  A:3F X:D7 Y:40 P:65 SP:FB PPU: 69,222 CYC:7917
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7bb, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7BB  20 EE F8  JSR $F8EE                       A:3F X:D7 Y:40 P:65 SP:FB PPU: 69,234 CYC:7921
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ee, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8EE  B8        CLV                             A:3F X:D7 Y:40 P:65 SP:F9 PPU: 69,252 CYC:7927
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ef, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8EF  60        RTS                             A:3F X:D7 Y:40 P:25 SP:F9 PPU: 69,258 CYC:7929
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7be, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7BE  CC 78 06  CPY $0678 = 3F                  A:3F X:D7 Y:40 P:25 SP:FB PPU: 69,276 CYC:7935
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7c1, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7C1  20 F0 F8  JSR $F8F0                       A:3F X:D7 Y:40 P:25 SP:FB PPU: 69,288 CYC:7939
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f0, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F0  F0 07     BEQ $F8F9                       A:3F X:D7 Y:40 P:25 SP:F9 PPU: 69,306 CYC:7945
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f2, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F2  30 05     BMI $F8F9                       A:3F X:D7 Y:40 P:25 SP:F9 PPU: 69,312 CYC:7947
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f4, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F4  90 03     BCC $F8F9                       A:3F X:D7 Y:40 P:25 SP:F9 PPU: 69,318 CYC:7949
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f6, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F6  70 01     BVS $F8F9                       A:3F X:D7 Y:40 P:25 SP:F9 PPU: 69,324 CYC:7951
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8f8, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8F8  60        RTS                             A:3F X:D7 Y:40 P:25 SP:F9 PPU: 69,330 CYC:7953
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7c4, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd7, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7C4  E8        INX                             A:3F X:D7 Y:40 P:25 SP:FB PPU: 70,  7 CYC:7959
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7c5, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7C5  A9 41     LDA #$41                        A:3F X:D8 Y:40 P:A5 SP:FB PPU: 70, 13 CYC:7961
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7c7, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7C7  8D 78 06  STA $0678 = 3F                  A:41 X:D8 Y:40 P:25 SP:FB PPU: 70, 19 CYC:7963
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7ca, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7CA  CC 78 06  CPY $0678 = 41                  A:41 X:D8 Y:40 P:25 SP:FB PPU: 70, 31 CYC:7967
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7cd, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7CD  20 FC F8  JSR $F8FC                       A:41 X:D8 Y:40 P:A4 SP:FB PPU: 70, 43 CYC:7971
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8fc, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8FC  F0 05     BEQ $F903                       A:41 X:D8 Y:40 P:A4 SP:F9 PPU: 70, 61 CYC:7977
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8fe, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8FE  10 03     BPL $F903                       A:41 X:D8 Y:40 P:A4 SP:F9 PPU: 70, 67 CYC:7979
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf900, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F900  10 01     BPL $F903                       A:41 X:D8 Y:40 P:A4 SP:F9 PPU: 70, 73 CYC:7981
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf902, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F902  60        RTS                             A:41 X:D8 Y:40 P:A4 SP:F9 PPU: 70, 79 CYC:7983
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7d0, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd8, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7D0  E8        INX                             A:41 X:D8 Y:40 P:A4 SP:FB PPU: 70, 97 CYC:7989
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7d1, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7D1  A9 00     LDA #$00                        A:41 X:D9 Y:40 P:A4 SP:FB PPU: 70,103 CYC:7991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7d3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7D3  8D 78 06  STA $0678 = 41                  A:00 X:D9 Y:40 P:26 SP:FB PPU: 70,109 CYC:7993
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7d6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7D6  20 06 F9  JSR $F906                       A:00 X:D9 Y:40 P:26 SP:FB PPU: 70,121 CYC:7997
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf906, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F906  A0 80     LDY #$80                        A:00 X:D9 Y:40 P:26 SP:F9 PPU: 70,139 CYC:8003
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf908, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F908  60        RTS                             A:00 X:D9 Y:80 P:A4 SP:F9 PPU: 70,145 CYC:8005
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7d9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7D9  CC 78 06  CPY $0678 = 00                  A:00 X:D9 Y:80 P:A4 SP:FB PPU: 70,163 CYC:8011
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7dc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7DC  20 09 F9  JSR $F909                       A:00 X:D9 Y:80 P:A5 SP:FB PPU: 70,175 CYC:8015
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf909, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F909  F0 05     BEQ $F910                       A:00 X:D9 Y:80 P:A5 SP:F9 PPU: 70,193 CYC:8021
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf90b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F90B  10 03     BPL $F910                       A:00 X:D9 Y:80 P:A5 SP:F9 PPU: 70,199 CYC:8023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf90d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F90D  90 01     BCC $F910                       A:00 X:D9 Y:80 P:A5 SP:F9 PPU: 70,205 CYC:8025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf90f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F90F  60        RTS                             A:00 X:D9 Y:80 P:A5 SP:F9 PPU: 70,211 CYC:8027
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7df, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xd9, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7DF  E8        INX                             A:00 X:D9 Y:80 P:A5 SP:FB PPU: 70,229 CYC:8033
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7e0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7E0  A9 80     LDA #$80                        A:00 X:DA Y:80 P:A5 SP:FB PPU: 70,235 CYC:8035
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7e2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7E2  8D 78 06  STA $0678 = 00                  A:80 X:DA Y:80 P:A5 SP:FB PPU: 70,241 CYC:8037
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7e5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7E5  CC 78 06  CPY $0678 = 80                  A:80 X:DA Y:80 P:A5 SP:FB PPU: 70,253 CYC:8041
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7e8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7E8  20 13 F9  JSR $F913                       A:80 X:DA Y:80 P:27 SP:FB PPU: 70,265 CYC:8045
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf913, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F913  D0 05     BNE $F91A                       A:80 X:DA Y:80 P:27 SP:F9 PPU: 70,283 CYC:8051
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf915, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F915  30 03     BMI $F91A                       A:80 X:DA Y:80 P:27 SP:F9 PPU: 70,289 CYC:8053
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf917, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F917  90 01     BCC $F91A                       A:80 X:DA Y:80 P:27 SP:F9 PPU: 70,295 CYC:8055
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf919, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F919  60        RTS                             A:80 X:DA Y:80 P:27 SP:F9 PPU: 70,301 CYC:8057
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7eb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xda, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7EB  E8        INX                             A:80 X:DA Y:80 P:27 SP:FB PPU: 70,319 CYC:8063
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7ec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7EC  A9 81     LDA #$81                        A:80 X:DB Y:80 P:A5 SP:FB PPU: 70,325 CYC:8065
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7ee, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7EE  8D 78 06  STA $0678 = 80                  A:81 X:DB Y:80 P:A5 SP:FB PPU: 70,331 CYC:8067
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7f1, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7F1  CC 78 06  CPY $0678 = 81                  A:81 X:DB Y:80 P:A5 SP:FB PPU: 71,  2 CYC:8071
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7f4, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7F4  20 1D F9  JSR $F91D                       A:81 X:DB Y:80 P:A4 SP:FB PPU: 71, 14 CYC:8075
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf91d, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F91D  B0 05     BCS $F924                       A:81 X:DB Y:80 P:A4 SP:F9 PPU: 71, 32 CYC:8081
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf91f, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F91F  F0 03     BEQ $F924                       A:81 X:DB Y:80 P:A4 SP:F9 PPU: 71, 38 CYC:8083
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf921, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F921  10 01     BPL $F924                       A:81 X:DB Y:80 P:A4 SP:F9 PPU: 71, 44 CYC:8085
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf923, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F923  60        RTS                             A:81 X:DB Y:80 P:A4 SP:F9 PPU: 71, 50 CYC:8087
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd7f7, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdb, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7F7  E8        INX                             A:81 X:DB Y:80 P:A4 SP:FB PPU: 71, 68 CYC:8093
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7f8, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7F8  A9 7F     LDA #$7F                        A:81 X:DC Y:80 P:A4 SP:FB PPU: 71, 74 CYC:8095
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd7fa, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7FA  8D 78 06  STA $0678 = 81                  A:7F X:DC Y:80 P:24 SP:FB PPU: 71, 80 CYC:8097
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd7fd, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D7FD  CC 78 06  CPY $0678 = 7F                  A:7F X:DC Y:80 P:24 SP:FB PPU: 71, 92 CYC:8101
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd800, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D800  20 27 F9  JSR $F927                       A:7F X:DC Y:80 P:25 SP:FB PPU: 71,104 CYC:8105
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf927, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F927  90 05     BCC $F92E                       A:7F X:DC Y:80 P:25 SP:F9 PPU: 71,122 CYC:8111
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf929, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F929  F0 03     BEQ $F92E                       A:7F X:DC Y:80 P:25 SP:F9 PPU: 71,128 CYC:8113
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf92b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F92B  30 01     BMI $F92E                       A:7F X:DC Y:80 P:25 SP:F9 PPU: 71,134 CYC:8115
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf92d, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F92D  60        RTS                             A:7F X:DC Y:80 P:25 SP:F9 PPU: 71,140 CYC:8117
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd803, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D803  E8        INX                             A:7F X:DC Y:80 P:25 SP:FB PPU: 71,158 CYC:8123
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd804, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xdd, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D804  8A        TXA                             A:7F X:DD Y:80 P:A5 SP:FB PPU: 71,164 CYC:8125
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd805, cpu.pc);
    try expectEqual(0xdd, cpu.acc);
    try expectEqual(0xdd, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D805  A8        TAY                             A:DD X:DD Y:80 P:A5 SP:FB PPU: 71,170 CYC:8127
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd806, cpu.pc);
    try expectEqual(0xdd, cpu.acc);
    try expectEqual(0xdd, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D806  20 90 F9  JSR $F990                       A:DD X:DD Y:DD P:A5 SP:FB PPU: 71,176 CYC:8129
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf990, cpu.pc);
    try expectEqual(0xdd, cpu.acc);
    try expectEqual(0xdd, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F990  A2 55     LDX #$55                        A:DD X:DD Y:DD P:A5 SP:F9 PPU: 71,194 CYC:8135
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf992, cpu.pc);
    try expectEqual(0xdd, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F992  A9 FF     LDA #$FF                        A:DD X:55 Y:DD P:25 SP:F9 PPU: 71,200 CYC:8137
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf994, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F994  85 01     STA $01 = FF                    A:FF X:55 Y:DD P:A5 SP:F9 PPU: 71,206 CYC:8139
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf996, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F996  EA        NOP                             A:FF X:55 Y:DD P:A5 SP:F9 PPU: 71,215 CYC:8142
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf997, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F997  24 01     BIT $01 = FF                    A:FF X:55 Y:DD P:A5 SP:F9 PPU: 71,221 CYC:8144
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf999, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F999  38        SEC                             A:FF X:55 Y:DD P:E5 SP:F9 PPU: 71,230 CYC:8147
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99A  A9 01     LDA #$01                        A:FF X:55 Y:DD P:E5 SP:F9 PPU: 71,236 CYC:8149
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99C  60        RTS                             A:01 X:55 Y:DD P:65 SP:F9 PPU: 71,242 CYC:8151
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd809, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D809  8D 78 06  STA $0678 = 7F                  A:01 X:55 Y:DD P:65 SP:FB PPU: 71,260 CYC:8157
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd80c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D80C  4E 78 06  LSR $0678 = 01                  A:01 X:55 Y:DD P:65 SP:FB PPU: 71,272 CYC:8161
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd80f, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D80F  AD 78 06  LDA $0678 = 00                  A:01 X:55 Y:DD P:67 SP:FB PPU: 71,290 CYC:8167
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd812, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D812  20 9D F9  JSR $F99D                       A:00 X:55 Y:DD P:67 SP:FB PPU: 71,302 CYC:8171
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf99d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99D  90 1B     BCC $F9BA                       A:00 X:55 Y:DD P:67 SP:F9 PPU: 71,320 CYC:8177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99F  D0 19     BNE $F9BA                       A:00 X:55 Y:DD P:67 SP:F9 PPU: 71,326 CYC:8179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A1  30 17     BMI $F9BA                       A:00 X:55 Y:DD P:67 SP:F9 PPU: 71,332 CYC:8181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A3  50 15     BVC $F9BA                       A:00 X:55 Y:DD P:67 SP:F9 PPU: 71,338 CYC:8183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A5  C9 00     CMP #$00                        A:00 X:55 Y:DD P:67 SP:F9 PPU: 72,  3 CYC:8185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A7  D0 11     BNE $F9BA                       A:00 X:55 Y:DD P:67 SP:F9 PPU: 72,  9 CYC:8187
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A9  B8        CLV                             A:00 X:55 Y:DD P:67 SP:F9 PPU: 72, 15 CYC:8189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AA  A9 AA     LDA #$AA                        A:00 X:55 Y:DD P:27 SP:F9 PPU: 72, 21 CYC:8191
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ac, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AC  60        RTS                             A:AA X:55 Y:DD P:A5 SP:F9 PPU: 72, 27 CYC:8193
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd815, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D815  C8        INY                             A:AA X:55 Y:DD P:A5 SP:FB PPU: 72, 45 CYC:8199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd816, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D816  8D 78 06  STA $0678 = 00                  A:AA X:55 Y:DE P:A5 SP:FB PPU: 72, 51 CYC:8201
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd819, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D819  4E 78 06  LSR $0678 = AA                  A:AA X:55 Y:DE P:A5 SP:FB PPU: 72, 63 CYC:8205
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd81c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D81C  AD 78 06  LDA $0678 = 55                  A:AA X:55 Y:DE P:24 SP:FB PPU: 72, 81 CYC:8211
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd81f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D81F  20 AD F9  JSR $F9AD                       A:55 X:55 Y:DE P:24 SP:FB PPU: 72, 93 CYC:8215
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ad, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AD  B0 0B     BCS $F9BA                       A:55 X:55 Y:DE P:24 SP:F9 PPU: 72,111 CYC:8221
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9af, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AF  F0 09     BEQ $F9BA                       A:55 X:55 Y:DE P:24 SP:F9 PPU: 72,117 CYC:8223
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B1  30 07     BMI $F9BA                       A:55 X:55 Y:DE P:24 SP:F9 PPU: 72,123 CYC:8225
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B3  70 05     BVS $F9BA                       A:55 X:55 Y:DE P:24 SP:F9 PPU: 72,129 CYC:8227
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B5  C9 55     CMP #$55                        A:55 X:55 Y:DE P:24 SP:F9 PPU: 72,135 CYC:8229
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b7, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B7  D0 01     BNE $F9BA                       A:55 X:55 Y:DE P:27 SP:F9 PPU: 72,141 CYC:8231
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B9  60        RTS                             A:55 X:55 Y:DE P:27 SP:F9 PPU: 72,147 CYC:8233
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd822, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D822  C8        INY                             A:55 X:55 Y:DE P:27 SP:FB PPU: 72,165 CYC:8239
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd823, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D823  20 BD F9  JSR $F9BD                       A:55 X:55 Y:DF P:A5 SP:FB PPU: 72,171 CYC:8241
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BD  24 01     BIT $01 = FF                    A:55 X:55 Y:DF P:A5 SP:F9 PPU: 72,189 CYC:8247
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BF  38        SEC                             A:55 X:55 Y:DF P:E5 SP:F9 PPU: 72,198 CYC:8250
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C0  A9 80     LDA #$80                        A:55 X:55 Y:DF P:E5 SP:F9 PPU: 72,204 CYC:8252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C2  60        RTS                             A:80 X:55 Y:DF P:E5 SP:F9 PPU: 72,210 CYC:8254
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd826, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D826  8D 78 06  STA $0678 = 55                  A:80 X:55 Y:DF P:E5 SP:FB PPU: 72,228 CYC:8260
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd829, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D829  0E 78 06  ASL $0678 = 80                  A:80 X:55 Y:DF P:E5 SP:FB PPU: 72,240 CYC:8264
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd82c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D82C  AD 78 06  LDA $0678 = 00                  A:80 X:55 Y:DF P:67 SP:FB PPU: 72,258 CYC:8270
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd82f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D82F  20 C3 F9  JSR $F9C3                       A:00 X:55 Y:DF P:67 SP:FB PPU: 72,270 CYC:8274
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C3  90 1C     BCC $F9E1                       A:00 X:55 Y:DF P:67 SP:F9 PPU: 72,288 CYC:8280
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C5  D0 1A     BNE $F9E1                       A:00 X:55 Y:DF P:67 SP:F9 PPU: 72,294 CYC:8282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C7  30 18     BMI $F9E1                       A:00 X:55 Y:DF P:67 SP:F9 PPU: 72,300 CYC:8284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C9  50 16     BVC $F9E1                       A:00 X:55 Y:DF P:67 SP:F9 PPU: 72,306 CYC:8286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CB  C9 00     CMP #$00                        A:00 X:55 Y:DF P:67 SP:F9 PPU: 72,312 CYC:8288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CD  D0 12     BNE $F9E1                       A:00 X:55 Y:DF P:67 SP:F9 PPU: 72,318 CYC:8290
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CF  B8        CLV                             A:00 X:55 Y:DF P:67 SP:F9 PPU: 72,324 CYC:8292
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D0  A9 55     LDA #$55                        A:00 X:55 Y:DF P:27 SP:F9 PPU: 72,330 CYC:8294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D2  38        SEC                             A:55 X:55 Y:DF P:25 SP:F9 PPU: 72,336 CYC:8296
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D3  60        RTS                             A:55 X:55 Y:DF P:25 SP:F9 PPU: 73,  1 CYC:8298
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd832, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D832  C8        INY                             A:55 X:55 Y:DF P:25 SP:FB PPU: 73, 19 CYC:8304
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd833, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D833  8D 78 06  STA $0678 = 00                  A:55 X:55 Y:E0 P:A5 SP:FB PPU: 73, 25 CYC:8306
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd836, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D836  0E 78 06  ASL $0678 = 55                  A:55 X:55 Y:E0 P:A5 SP:FB PPU: 73, 37 CYC:8310
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd839, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D839  AD 78 06  LDA $0678 = AA                  A:55 X:55 Y:E0 P:A4 SP:FB PPU: 73, 55 CYC:8316
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd83c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D83C  20 D4 F9  JSR $F9D4                       A:AA X:55 Y:E0 P:A4 SP:FB PPU: 73, 67 CYC:8320
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D4  B0 0B     BCS $F9E1                       A:AA X:55 Y:E0 P:A4 SP:F9 PPU: 73, 85 CYC:8326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D6  F0 09     BEQ $F9E1                       A:AA X:55 Y:E0 P:A4 SP:F9 PPU: 73, 91 CYC:8328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D8  10 07     BPL $F9E1                       A:AA X:55 Y:E0 P:A4 SP:F9 PPU: 73, 97 CYC:8330
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9da, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DA  70 05     BVS $F9E1                       A:AA X:55 Y:E0 P:A4 SP:F9 PPU: 73,103 CYC:8332
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9dc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DC  C9 AA     CMP #$AA                        A:AA X:55 Y:E0 P:A4 SP:F9 PPU: 73,109 CYC:8334
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9de, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DE  D0 01     BNE $F9E1                       A:AA X:55 Y:E0 P:27 SP:F9 PPU: 73,115 CYC:8336
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E0  60        RTS                             A:AA X:55 Y:E0 P:27 SP:F9 PPU: 73,121 CYC:8338
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd83f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D83F  C8        INY                             A:AA X:55 Y:E0 P:27 SP:FB PPU: 73,139 CYC:8344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd840, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D840  20 E4 F9  JSR $F9E4                       A:AA X:55 Y:E1 P:A5 SP:FB PPU: 73,145 CYC:8346
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E4  24 01     BIT $01 = FF                    A:AA X:55 Y:E1 P:A5 SP:F9 PPU: 73,163 CYC:8352
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E6  38        SEC                             A:AA X:55 Y:E1 P:E5 SP:F9 PPU: 73,172 CYC:8355
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E7  A9 01     LDA #$01                        A:AA X:55 Y:E1 P:E5 SP:F9 PPU: 73,178 CYC:8357
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E9  60        RTS                             A:01 X:55 Y:E1 P:65 SP:F9 PPU: 73,184 CYC:8359
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd843, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D843  8D 78 06  STA $0678 = AA                  A:01 X:55 Y:E1 P:65 SP:FB PPU: 73,202 CYC:8365
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd846, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D846  6E 78 06  ROR $0678 = 01                  A:01 X:55 Y:E1 P:65 SP:FB PPU: 73,214 CYC:8369
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd849, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D849  AD 78 06  LDA $0678 = 80                  A:01 X:55 Y:E1 P:E5 SP:FB PPU: 73,232 CYC:8375
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd84c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D84C  20 EA F9  JSR $F9EA                       A:80 X:55 Y:E1 P:E5 SP:FB PPU: 73,244 CYC:8379
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ea, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EA  90 1C     BCC $FA08                       A:80 X:55 Y:E1 P:E5 SP:F9 PPU: 73,262 CYC:8385
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EC  F0 1A     BEQ $FA08                       A:80 X:55 Y:E1 P:E5 SP:F9 PPU: 73,268 CYC:8387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EE  10 18     BPL $FA08                       A:80 X:55 Y:E1 P:E5 SP:F9 PPU: 73,274 CYC:8389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F0  50 16     BVC $FA08                       A:80 X:55 Y:E1 P:E5 SP:F9 PPU: 73,280 CYC:8391
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F2  C9 80     CMP #$80                        A:80 X:55 Y:E1 P:E5 SP:F9 PPU: 73,286 CYC:8393
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F4  D0 12     BNE $FA08                       A:80 X:55 Y:E1 P:67 SP:F9 PPU: 73,292 CYC:8395
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F6  B8        CLV                             A:80 X:55 Y:E1 P:67 SP:F9 PPU: 73,298 CYC:8397
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F7  18        CLC                             A:80 X:55 Y:E1 P:27 SP:F9 PPU: 73,304 CYC:8399
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F8  A9 55     LDA #$55                        A:80 X:55 Y:E1 P:26 SP:F9 PPU: 73,310 CYC:8401
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fa, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FA  60        RTS                             A:55 X:55 Y:E1 P:24 SP:F9 PPU: 73,316 CYC:8403
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd84f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D84F  C8        INY                             A:55 X:55 Y:E1 P:24 SP:FB PPU: 73,334 CYC:8409
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd850, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D850  8D 78 06  STA $0678 = 80                  A:55 X:55 Y:E2 P:A4 SP:FB PPU: 73,340 CYC:8411
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd853, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D853  6E 78 06  ROR $0678 = 55                  A:55 X:55 Y:E2 P:A4 SP:FB PPU: 74, 11 CYC:8415
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd856, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D856  AD 78 06  LDA $0678 = 2A                  A:55 X:55 Y:E2 P:25 SP:FB PPU: 74, 29 CYC:8421
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd859, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D859  20 FB F9  JSR $F9FB                       A:2A X:55 Y:E2 P:25 SP:FB PPU: 74, 41 CYC:8425
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fb, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FB  90 0B     BCC $FA08                       A:2A X:55 Y:E2 P:25 SP:F9 PPU: 74, 59 CYC:8431
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fd, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FD  F0 09     BEQ $FA08                       A:2A X:55 Y:E2 P:25 SP:F9 PPU: 74, 65 CYC:8433
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ff, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FF  30 07     BMI $FA08                       A:2A X:55 Y:E2 P:25 SP:F9 PPU: 74, 71 CYC:8435
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa01, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA01  70 05     BVS $FA08                       A:2A X:55 Y:E2 P:25 SP:F9 PPU: 74, 77 CYC:8437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa03, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA03  C9 2A     CMP #$2A                        A:2A X:55 Y:E2 P:25 SP:F9 PPU: 74, 83 CYC:8439
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa05, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA05  D0 01     BNE $FA08                       A:2A X:55 Y:E2 P:27 SP:F9 PPU: 74, 89 CYC:8441
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa07, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA07  60        RTS                             A:2A X:55 Y:E2 P:27 SP:F9 PPU: 74, 95 CYC:8443
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd85c, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D85C  C8        INY                             A:2A X:55 Y:E2 P:27 SP:FB PPU: 74,113 CYC:8449
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd85d, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D85D  20 0A FA  JSR $FA0A                       A:2A X:55 Y:E3 P:A5 SP:FB PPU: 74,119 CYC:8451
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0a, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0A  24 01     BIT $01 = FF                    A:2A X:55 Y:E3 P:A5 SP:F9 PPU: 74,137 CYC:8457
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0c, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0C  38        SEC                             A:2A X:55 Y:E3 P:E5 SP:F9 PPU: 74,146 CYC:8460
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0d, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0D  A9 80     LDA #$80                        A:2A X:55 Y:E3 P:E5 SP:F9 PPU: 74,152 CYC:8462
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0F  60        RTS                             A:80 X:55 Y:E3 P:E5 SP:F9 PPU: 74,158 CYC:8464
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd860, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D860  8D 78 06  STA $0678 = 2A                  A:80 X:55 Y:E3 P:E5 SP:FB PPU: 74,176 CYC:8470
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd863, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D863  2E 78 06  ROL $0678 = 80                  A:80 X:55 Y:E3 P:E5 SP:FB PPU: 74,188 CYC:8474
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd866, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D866  AD 78 06  LDA $0678 = 01                  A:80 X:55 Y:E3 P:65 SP:FB PPU: 74,206 CYC:8480
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd869, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D869  20 10 FA  JSR $FA10                       A:01 X:55 Y:E3 P:65 SP:FB PPU: 74,218 CYC:8484
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa10, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA10  90 1C     BCC $FA2E                       A:01 X:55 Y:E3 P:65 SP:F9 PPU: 74,236 CYC:8490
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa12, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA12  F0 1A     BEQ $FA2E                       A:01 X:55 Y:E3 P:65 SP:F9 PPU: 74,242 CYC:8492
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa14, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA14  30 18     BMI $FA2E                       A:01 X:55 Y:E3 P:65 SP:F9 PPU: 74,248 CYC:8494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa16, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA16  50 16     BVC $FA2E                       A:01 X:55 Y:E3 P:65 SP:F9 PPU: 74,254 CYC:8496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa18, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA18  C9 01     CMP #$01                        A:01 X:55 Y:E3 P:65 SP:F9 PPU: 74,260 CYC:8498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1A  D0 12     BNE $FA2E                       A:01 X:55 Y:E3 P:67 SP:F9 PPU: 74,266 CYC:8500
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1C  B8        CLV                             A:01 X:55 Y:E3 P:67 SP:F9 PPU: 74,272 CYC:8502
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1D  18        CLC                             A:01 X:55 Y:E3 P:27 SP:F9 PPU: 74,278 CYC:8504
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1E  A9 55     LDA #$55                        A:01 X:55 Y:E3 P:26 SP:F9 PPU: 74,284 CYC:8506
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa20, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA20  60        RTS                             A:55 X:55 Y:E3 P:24 SP:F9 PPU: 74,290 CYC:8508
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd86c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D86C  C8        INY                             A:55 X:55 Y:E3 P:24 SP:FB PPU: 74,308 CYC:8514
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd86d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D86D  8D 78 06  STA $0678 = 01                  A:55 X:55 Y:E4 P:A4 SP:FB PPU: 74,314 CYC:8516
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd870, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D870  2E 78 06  ROL $0678 = 55                  A:55 X:55 Y:E4 P:A4 SP:FB PPU: 74,326 CYC:8520
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd873, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D873  AD 78 06  LDA $0678 = AA                  A:55 X:55 Y:E4 P:A4 SP:FB PPU: 75,  3 CYC:8526
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd876, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D876  20 21 FA  JSR $FA21                       A:AA X:55 Y:E4 P:A4 SP:FB PPU: 75, 15 CYC:8530
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa21, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA21  B0 0B     BCS $FA2E                       A:AA X:55 Y:E4 P:A4 SP:F9 PPU: 75, 33 CYC:8536
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa23, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA23  F0 09     BEQ $FA2E                       A:AA X:55 Y:E4 P:A4 SP:F9 PPU: 75, 39 CYC:8538
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa25, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA25  10 07     BPL $FA2E                       A:AA X:55 Y:E4 P:A4 SP:F9 PPU: 75, 45 CYC:8540
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa27, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA27  70 05     BVS $FA2E                       A:AA X:55 Y:E4 P:A4 SP:F9 PPU: 75, 51 CYC:8542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa29, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA29  C9 AA     CMP #$AA                        A:AA X:55 Y:E4 P:A4 SP:F9 PPU: 75, 57 CYC:8544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2B  D0 01     BNE $FA2E                       A:AA X:55 Y:E4 P:27 SP:F9 PPU: 75, 63 CYC:8546
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2D  60        RTS                             A:AA X:55 Y:E4 P:27 SP:F9 PPU: 75, 69 CYC:8548
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd879, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D879  A9 FF     LDA #$FF                        A:AA X:55 Y:E4 P:27 SP:FB PPU: 75, 87 CYC:8554
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd87b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D87B  8D 78 06  STA $0678 = AA                  A:FF X:55 Y:E4 P:A5 SP:FB PPU: 75, 93 CYC:8556
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd87e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D87E  85 01     STA $01 = FF                    A:FF X:55 Y:E4 P:A5 SP:FB PPU: 75,105 CYC:8560
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd880, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D880  24 01     BIT $01 = FF                    A:FF X:55 Y:E4 P:A5 SP:FB PPU: 75,114 CYC:8563
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd882, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D882  38        SEC                             A:FF X:55 Y:E4 P:E5 SP:FB PPU: 75,123 CYC:8566
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd883, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D883  EE 78 06  INC $0678 = FF                  A:FF X:55 Y:E4 P:E5 SP:FB PPU: 75,129 CYC:8568
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd886, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D886  D0 0D     BNE $D895                       A:FF X:55 Y:E4 P:67 SP:FB PPU: 75,147 CYC:8574
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd888, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D888  30 0B     BMI $D895                       A:FF X:55 Y:E4 P:67 SP:FB PPU: 75,153 CYC:8576
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd88a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D88A  50 09     BVC $D895                       A:FF X:55 Y:E4 P:67 SP:FB PPU: 75,159 CYC:8578
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd88c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D88C  90 07     BCC $D895                       A:FF X:55 Y:E4 P:67 SP:FB PPU: 75,165 CYC:8580
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd88e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D88E  AD 78 06  LDA $0678 = 00                  A:FF X:55 Y:E4 P:67 SP:FB PPU: 75,171 CYC:8582
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd891, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D891  C9 00     CMP #$00                        A:00 X:55 Y:E4 P:67 SP:FB PPU: 75,183 CYC:8586
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd893, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D893  F0 04     BEQ $D899                       A:00 X:55 Y:E4 P:67 SP:FB PPU: 75,189 CYC:8588
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd899, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D899  A9 7F     LDA #$7F                        A:00 X:55 Y:E4 P:67 SP:FB PPU: 75,198 CYC:8591
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd89b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D89B  8D 78 06  STA $0678 = 00                  A:7F X:55 Y:E4 P:65 SP:FB PPU: 75,204 CYC:8593
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd89e, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D89E  B8        CLV                             A:7F X:55 Y:E4 P:65 SP:FB PPU: 75,216 CYC:8597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd89f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D89F  18        CLC                             A:7F X:55 Y:E4 P:25 SP:FB PPU: 75,222 CYC:8599
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8a0, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8A0  EE 78 06  INC $0678 = 7F                  A:7F X:55 Y:E4 P:24 SP:FB PPU: 75,228 CYC:8601
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd8a3, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8A3  F0 0D     BEQ $D8B2                       A:7F X:55 Y:E4 P:A4 SP:FB PPU: 75,246 CYC:8607
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8a5, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8A5  10 0B     BPL $D8B2                       A:7F X:55 Y:E4 P:A4 SP:FB PPU: 75,252 CYC:8609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8a7, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8A7  70 09     BVS $D8B2                       A:7F X:55 Y:E4 P:A4 SP:FB PPU: 75,258 CYC:8611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8a9, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8A9  B0 07     BCS $D8B2                       A:7F X:55 Y:E4 P:A4 SP:FB PPU: 75,264 CYC:8613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8ab, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8AB  AD 78 06  LDA $0678 = 80                  A:7F X:55 Y:E4 P:A4 SP:FB PPU: 75,270 CYC:8615
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd8ae, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8AE  C9 80     CMP #$80                        A:80 X:55 Y:E4 P:A4 SP:FB PPU: 75,282 CYC:8619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8b0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8B0  F0 04     BEQ $D8B6                       A:80 X:55 Y:E4 P:27 SP:FB PPU: 75,288 CYC:8621
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd8b6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8B6  A9 00     LDA #$00                        A:80 X:55 Y:E4 P:27 SP:FB PPU: 75,297 CYC:8624
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8b8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8B8  8D 78 06  STA $0678 = 80                  A:00 X:55 Y:E4 P:27 SP:FB PPU: 75,303 CYC:8626
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd8bb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8BB  24 01     BIT $01 = FF                    A:00 X:55 Y:E4 P:27 SP:FB PPU: 75,315 CYC:8630
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd8bd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8BD  38        SEC                             A:00 X:55 Y:E4 P:E7 SP:FB PPU: 75,324 CYC:8633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8be, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8BE  CE 78 06  DEC $0678 = 00                  A:00 X:55 Y:E4 P:E7 SP:FB PPU: 75,330 CYC:8635
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd8c1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8C1  F0 0D     BEQ $D8D0                       A:00 X:55 Y:E4 P:E5 SP:FB PPU: 76,  7 CYC:8641
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8c3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8C3  10 0B     BPL $D8D0                       A:00 X:55 Y:E4 P:E5 SP:FB PPU: 76, 13 CYC:8643
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8c5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8C5  50 09     BVC $D8D0                       A:00 X:55 Y:E4 P:E5 SP:FB PPU: 76, 19 CYC:8645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8c7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8C7  90 07     BCC $D8D0                       A:00 X:55 Y:E4 P:E5 SP:FB PPU: 76, 25 CYC:8647
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8c9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8C9  AD 78 06  LDA $0678 = FF                  A:00 X:55 Y:E4 P:E5 SP:FB PPU: 76, 31 CYC:8649
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd8cc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8CC  C9 FF     CMP #$FF                        A:FF X:55 Y:E4 P:E5 SP:FB PPU: 76, 43 CYC:8653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8ce, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8CE  F0 04     BEQ $D8D4                       A:FF X:55 Y:E4 P:67 SP:FB PPU: 76, 49 CYC:8655
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd8d4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8D4  A9 80     LDA #$80                        A:FF X:55 Y:E4 P:67 SP:FB PPU: 76, 58 CYC:8658
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8d6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8D6  8D 78 06  STA $0678 = FF                  A:80 X:55 Y:E4 P:E5 SP:FB PPU: 76, 64 CYC:8660
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd8d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8D9  B8        CLV                             A:80 X:55 Y:E4 P:E5 SP:FB PPU: 76, 76 CYC:8664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8da, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8DA  18        CLC                             A:80 X:55 Y:E4 P:A5 SP:FB PPU: 76, 82 CYC:8666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8db, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8DB  CE 78 06  DEC $0678 = 80                  A:80 X:55 Y:E4 P:A4 SP:FB PPU: 76, 88 CYC:8668
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd8de, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8DE  F0 0D     BEQ $D8ED                       A:80 X:55 Y:E4 P:24 SP:FB PPU: 76,106 CYC:8674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8e0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8E0  30 0B     BMI $D8ED                       A:80 X:55 Y:E4 P:24 SP:FB PPU: 76,112 CYC:8676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8e2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8E2  70 09     BVS $D8ED                       A:80 X:55 Y:E4 P:24 SP:FB PPU: 76,118 CYC:8678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8e4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8E4  B0 07     BCS $D8ED                       A:80 X:55 Y:E4 P:24 SP:FB PPU: 76,124 CYC:8680
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8e6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8E6  AD 78 06  LDA $0678 = 7F                  A:80 X:55 Y:E4 P:24 SP:FB PPU: 76,130 CYC:8682
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd8e9, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8E9  C9 7F     CMP #$7F                        A:7F X:55 Y:E4 P:24 SP:FB PPU: 76,142 CYC:8686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8eb, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8EB  F0 04     BEQ $D8F1                       A:7F X:55 Y:E4 P:27 SP:FB PPU: 76,148 CYC:8688
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd8f1, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8F1  A9 01     LDA #$01                        A:7F X:55 Y:E4 P:27 SP:FB PPU: 76,157 CYC:8691
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd8f3, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8F3  8D 78 06  STA $0678 = 7F                  A:01 X:55 Y:E4 P:25 SP:FB PPU: 76,163 CYC:8693
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd8f6, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8F6  CE 78 06  DEC $0678 = 01                  A:01 X:55 Y:E4 P:25 SP:FB PPU: 76,175 CYC:8697
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd8f9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8F9  F0 04     BEQ $D8FF                       A:01 X:55 Y:E4 P:27 SP:FB PPU: 76,193 CYC:8703
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd8ff, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D8FF  60        RTS                             A:01 X:55 Y:E4 P:27 SP:FB PPU: 76,202 CYC:8706
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc618, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C618  20 00 D9  JSR $D900                       A:01 X:55 Y:E4 P:27 SP:FD PPU: 76,220 CYC:8712
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd900, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D900  A9 A3     LDA #$A3                        A:01 X:55 Y:E4 P:27 SP:FB PPU: 76,238 CYC:8718
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd902, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D902  85 33     STA $33 = 00                    A:A3 X:55 Y:E4 P:A5 SP:FB PPU: 76,244 CYC:8720
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd904, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D904  A9 89     LDA #$89                        A:A3 X:55 Y:E4 P:A5 SP:FB PPU: 76,253 CYC:8723
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd906, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D906  8D 00 03  STA $0300 = 70                  A:89 X:55 Y:E4 P:A5 SP:FB PPU: 76,259 CYC:8725
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd909, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D909  A9 12     LDA #$12                        A:89 X:55 Y:E4 P:A5 SP:FB PPU: 76,271 CYC:8729
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd90b, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D90B  8D 45 02  STA $0245 = 00                  A:12 X:55 Y:E4 P:25 SP:FB PPU: 76,277 CYC:8731
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd90e, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D90E  A9 FF     LDA #$FF                        A:12 X:55 Y:E4 P:25 SP:FB PPU: 76,289 CYC:8735
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd910, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D910  85 01     STA $01 = FF                    A:FF X:55 Y:E4 P:A5 SP:FB PPU: 76,295 CYC:8737
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd912, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D912  A2 65     LDX #$65                        A:FF X:55 Y:E4 P:A5 SP:FB PPU: 76,304 CYC:8740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd914, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D914  A9 00     LDA #$00                        A:FF X:65 Y:E4 P:25 SP:FB PPU: 76,310 CYC:8742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd916, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D916  85 89     STA $89 = 00                    A:00 X:65 Y:E4 P:27 SP:FB PPU: 76,316 CYC:8744
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd918, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D918  A9 03     LDA #$03                        A:00 X:65 Y:E4 P:27 SP:FB PPU: 76,325 CYC:8747
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd91a, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D91A  85 8A     STA $8A = 00                    A:03 X:65 Y:E4 P:25 SP:FB PPU: 76,331 CYC:8749
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd91c, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D91C  A0 00     LDY #$00                        A:03 X:65 Y:E4 P:25 SP:FB PPU: 76,340 CYC:8752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd91e, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D91E  38        SEC                             A:03 X:65 Y:00 P:27 SP:FB PPU: 77,  5 CYC:8754
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd91f, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D91F  A9 00     LDA #$00                        A:03 X:65 Y:00 P:27 SP:FB PPU: 77, 11 CYC:8756
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd921, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D921  B8        CLV                             A:00 X:65 Y:00 P:27 SP:FB PPU: 77, 17 CYC:8758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd922, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D922  B1 89     LDA ($89),Y = 0300 @ 0300 = 89  A:00 X:65 Y:00 P:27 SP:FB PPU: 77, 23 CYC:8760
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd924, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D924  F0 0C     BEQ $D932                       A:89 X:65 Y:00 P:A5 SP:FB PPU: 77, 38 CYC:8765
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd926, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D926  90 0A     BCC $D932                       A:89 X:65 Y:00 P:A5 SP:FB PPU: 77, 44 CYC:8767
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd928, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D928  70 08     BVS $D932                       A:89 X:65 Y:00 P:A5 SP:FB PPU: 77, 50 CYC:8769
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd92a, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D92A  C9 89     CMP #$89                        A:89 X:65 Y:00 P:A5 SP:FB PPU: 77, 56 CYC:8771
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd92c, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D92C  D0 04     BNE $D932                       A:89 X:65 Y:00 P:27 SP:FB PPU: 77, 62 CYC:8773
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd92e, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D92E  E0 65     CPX #$65                        A:89 X:65 Y:00 P:27 SP:FB PPU: 77, 68 CYC:8775
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd930, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D930  F0 04     BEQ $D936                       A:89 X:65 Y:00 P:27 SP:FB PPU: 77, 74 CYC:8777
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd936, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D936  A9 FF     LDA #$FF                        A:89 X:65 Y:00 P:27 SP:FB PPU: 77, 83 CYC:8780
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd938, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D938  85 97     STA $97 = 00                    A:FF X:65 Y:00 P:A5 SP:FB PPU: 77, 89 CYC:8782
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd93a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D93A  85 98     STA $98 = 00                    A:FF X:65 Y:00 P:A5 SP:FB PPU: 77, 98 CYC:8785
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd93c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D93C  24 98     BIT $98 = FF                    A:FF X:65 Y:00 P:A5 SP:FB PPU: 77,107 CYC:8788
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd93e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D93E  A0 34     LDY #$34                        A:FF X:65 Y:00 P:E5 SP:FB PPU: 77,116 CYC:8791
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd940, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D940  B1 97     LDA ($97),Y = FFFF @ 0033 = A3  A:FF X:65 Y:34 P:65 SP:FB PPU: 77,122 CYC:8793
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd942, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D942  C9 A3     CMP #$A3                        A:A3 X:65 Y:34 P:E5 SP:FB PPU: 77,140 CYC:8799
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd944, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D944  D0 02     BNE $D948                       A:A3 X:65 Y:34 P:67 SP:FB PPU: 77,146 CYC:8801
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd946, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D946  B0 04     BCS $D94C                       A:A3 X:65 Y:34 P:67 SP:FB PPU: 77,152 CYC:8803
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd94c, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D94C  A5 00     LDA $00 = 00                    A:A3 X:65 Y:34 P:67 SP:FB PPU: 77,161 CYC:8806
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd94e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D94E  48        PHA                             A:00 X:65 Y:34 P:67 SP:FB PPU: 77,170 CYC:8809
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd94f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D94F  A9 46     LDA #$46                        A:00 X:65 Y:34 P:67 SP:FA PPU: 77,179 CYC:8812
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd951, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D951  85 FF     STA $FF = 00                    A:46 X:65 Y:34 P:65 SP:FA PPU: 77,185 CYC:8814
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd953, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D953  A9 01     LDA #$01                        A:46 X:65 Y:34 P:65 SP:FA PPU: 77,194 CYC:8817
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd955, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D955  85 00     STA $00 = 00                    A:01 X:65 Y:34 P:65 SP:FA PPU: 77,200 CYC:8819
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd957, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D957  A0 FF     LDY #$FF                        A:01 X:65 Y:34 P:65 SP:FA PPU: 77,209 CYC:8822
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd959, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D959  B1 FF     LDA ($FF),Y = 0146 @ 0245 = 12  A:01 X:65 Y:FF P:E5 SP:FA PPU: 77,215 CYC:8824
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xd95b, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D95B  C9 12     CMP #$12                        A:12 X:65 Y:FF P:65 SP:FA PPU: 77,233 CYC:8830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd95d, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D95D  F0 04     BEQ $D963                       A:12 X:65 Y:FF P:67 SP:FA PPU: 77,239 CYC:8832
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd963, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // D963  68        PLA                             A:12 X:65 Y:FF P:67 SP:FA PPU: 77,248 CYC:8835
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd964, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D964  85 00     STA $00 = 01                    A:00 X:65 Y:FF P:67 SP:FB PPU: 77,260 CYC:8839
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd966, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D966  A2 ED     LDX #$ED                        A:00 X:65 Y:FF P:67 SP:FB PPU: 77,269 CYC:8842
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd968, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D968  A9 00     LDA #$00                        A:00 X:ED Y:FF P:E5 SP:FB PPU: 77,275 CYC:8844
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd96a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D96A  85 33     STA $33 = A3                    A:00 X:ED Y:FF P:67 SP:FB PPU: 77,281 CYC:8846
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd96c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D96C  A9 04     LDA #$04                        A:00 X:ED Y:FF P:67 SP:FB PPU: 77,290 CYC:8849
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd96e, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D96E  85 34     STA $34 = 00                    A:04 X:ED Y:FF P:65 SP:FB PPU: 77,296 CYC:8851
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd970, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D970  A0 00     LDY #$00                        A:04 X:ED Y:FF P:65 SP:FB PPU: 77,305 CYC:8854
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd972, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D972  18        CLC                             A:04 X:ED Y:00 P:67 SP:FB PPU: 77,311 CYC:8856
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd973, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D973  A9 FF     LDA #$FF                        A:04 X:ED Y:00 P:66 SP:FB PPU: 77,317 CYC:8858
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd975, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D975  85 01     STA $01 = FF                    A:FF X:ED Y:00 P:E4 SP:FB PPU: 77,323 CYC:8860
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd977, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D977  24 01     BIT $01 = FF                    A:FF X:ED Y:00 P:E4 SP:FB PPU: 77,332 CYC:8863
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd979, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D979  A9 AA     LDA #$AA                        A:FF X:ED Y:00 P:E4 SP:FB PPU: 78,  0 CYC:8866
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd97b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D97B  8D 00 04  STA $0400 = AD                  A:AA X:ED Y:00 P:E4 SP:FB PPU: 78,  6 CYC:8868
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd97e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D97E  A9 55     LDA #$55                        A:AA X:ED Y:00 P:E4 SP:FB PPU: 78, 18 CYC:8872
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd980, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D980  11 33     ORA ($33),Y = 0400 @ 0400 = AA  A:55 X:ED Y:00 P:64 SP:FB PPU: 78, 24 CYC:8874
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd982, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D982  B0 08     BCS $D98C                       A:FF X:ED Y:00 P:E4 SP:FB PPU: 78, 39 CYC:8879
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd984, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D984  10 06     BPL $D98C                       A:FF X:ED Y:00 P:E4 SP:FB PPU: 78, 45 CYC:8881
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd986, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D986  C9 FF     CMP #$FF                        A:FF X:ED Y:00 P:E4 SP:FB PPU: 78, 51 CYC:8883
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd988, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D988  D0 02     BNE $D98C                       A:FF X:ED Y:00 P:67 SP:FB PPU: 78, 57 CYC:8885
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd98a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D98A  70 02     BVS $D98E                       A:FF X:ED Y:00 P:67 SP:FB PPU: 78, 63 CYC:8887
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd98e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xed, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D98E  E8        INX                             A:FF X:ED Y:00 P:67 SP:FB PPU: 78, 72 CYC:8890
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd98f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D98F  38        SEC                             A:FF X:EE Y:00 P:E5 SP:FB PPU: 78, 78 CYC:8892
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd990, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D990  B8        CLV                             A:FF X:EE Y:00 P:E5 SP:FB PPU: 78, 84 CYC:8894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd991, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D991  A9 00     LDA #$00                        A:FF X:EE Y:00 P:A5 SP:FB PPU: 78, 90 CYC:8896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd993, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D993  11 33     ORA ($33),Y = 0400 @ 0400 = AA  A:00 X:EE Y:00 P:27 SP:FB PPU: 78, 96 CYC:8898
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd995, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D995  F0 06     BEQ $D99D                       A:AA X:EE Y:00 P:A5 SP:FB PPU: 78,111 CYC:8903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd997, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D997  70 04     BVS $D99D                       A:AA X:EE Y:00 P:A5 SP:FB PPU: 78,117 CYC:8905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd999, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D999  90 02     BCC $D99D                       A:AA X:EE Y:00 P:A5 SP:FB PPU: 78,123 CYC:8907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd99b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D99B  30 02     BMI $D99F                       A:AA X:EE Y:00 P:A5 SP:FB PPU: 78,129 CYC:8909
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd99f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xee, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D99F  E8        INX                             A:AA X:EE Y:00 P:A5 SP:FB PPU: 78,138 CYC:8912
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9a0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9A0  18        CLC                             A:AA X:EF Y:00 P:A5 SP:FB PPU: 78,144 CYC:8914
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9a1, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9A1  24 01     BIT $01 = FF                    A:AA X:EF Y:00 P:A4 SP:FB PPU: 78,150 CYC:8916
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd9a3, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9A3  A9 55     LDA #$55                        A:AA X:EF Y:00 P:E4 SP:FB PPU: 78,159 CYC:8919
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9a5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9A5  31 33     AND ($33),Y = 0400 @ 0400 = AA  A:55 X:EF Y:00 P:64 SP:FB PPU: 78,165 CYC:8921
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd9a7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9A7  D0 06     BNE $D9AF                       A:00 X:EF Y:00 P:66 SP:FB PPU: 78,180 CYC:8926
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9a9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9A9  50 04     BVC $D9AF                       A:00 X:EF Y:00 P:66 SP:FB PPU: 78,186 CYC:8928
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9ab, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9AB  B0 02     BCS $D9AF                       A:00 X:EF Y:00 P:66 SP:FB PPU: 78,192 CYC:8930
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9ad, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9AD  10 02     BPL $D9B1                       A:00 X:EF Y:00 P:66 SP:FB PPU: 78,198 CYC:8932
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd9b1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9B1  E8        INX                             A:00 X:EF Y:00 P:66 SP:FB PPU: 78,207 CYC:8935
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9b2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9B2  38        SEC                             A:00 X:F0 Y:00 P:E4 SP:FB PPU: 78,213 CYC:8937
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9b3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9B3  B8        CLV                             A:00 X:F0 Y:00 P:E5 SP:FB PPU: 78,219 CYC:8939
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9b4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9B4  A9 EF     LDA #$EF                        A:00 X:F0 Y:00 P:A5 SP:FB PPU: 78,225 CYC:8941
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9b6, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9B6  8D 00 04  STA $0400 = AA                  A:EF X:F0 Y:00 P:A5 SP:FB PPU: 78,231 CYC:8943
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd9b9, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9B9  A9 F8     LDA #$F8                        A:EF X:F0 Y:00 P:A5 SP:FB PPU: 78,243 CYC:8947
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9bb, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9BB  31 33     AND ($33),Y = 0400 @ 0400 = EF  A:F8 X:F0 Y:00 P:A5 SP:FB PPU: 78,249 CYC:8949
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd9bd, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9BD  90 08     BCC $D9C7                       A:E8 X:F0 Y:00 P:A5 SP:FB PPU: 78,264 CYC:8954
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9bf, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9BF  10 06     BPL $D9C7                       A:E8 X:F0 Y:00 P:A5 SP:FB PPU: 78,270 CYC:8956
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9c1, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9C1  C9 E8     CMP #$E8                        A:E8 X:F0 Y:00 P:A5 SP:FB PPU: 78,276 CYC:8958
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9c3, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9C3  D0 02     BNE $D9C7                       A:E8 X:F0 Y:00 P:27 SP:FB PPU: 78,282 CYC:8960
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9c5, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9C5  50 02     BVC $D9C9                       A:E8 X:F0 Y:00 P:27 SP:FB PPU: 78,288 CYC:8962
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd9c9, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf0, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9C9  E8        INX                             A:E8 X:F0 Y:00 P:27 SP:FB PPU: 78,297 CYC:8965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9ca, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9CA  18        CLC                             A:E8 X:F1 Y:00 P:A5 SP:FB PPU: 78,303 CYC:8967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9cb, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9CB  24 01     BIT $01 = FF                    A:E8 X:F1 Y:00 P:A4 SP:FB PPU: 78,309 CYC:8969
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd9cd, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9CD  A9 AA     LDA #$AA                        A:E8 X:F1 Y:00 P:E4 SP:FB PPU: 78,318 CYC:8972
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9cf, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9CF  8D 00 04  STA $0400 = EF                  A:AA X:F1 Y:00 P:E4 SP:FB PPU: 78,324 CYC:8974
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd9d2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9D2  A9 5F     LDA #$5F                        A:AA X:F1 Y:00 P:E4 SP:FB PPU: 78,336 CYC:8978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9d4, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9D4  51 33     EOR ($33),Y = 0400 @ 0400 = AA  A:5F X:F1 Y:00 P:64 SP:FB PPU: 79,  1 CYC:8980
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd9d6, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9D6  B0 08     BCS $D9E0                       A:F5 X:F1 Y:00 P:E4 SP:FB PPU: 79, 16 CYC:8985
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9d8, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9D8  10 06     BPL $D9E0                       A:F5 X:F1 Y:00 P:E4 SP:FB PPU: 79, 22 CYC:8987
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9da, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9DA  C9 F5     CMP #$F5                        A:F5 X:F1 Y:00 P:E4 SP:FB PPU: 79, 28 CYC:8989
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9dc, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9DC  D0 02     BNE $D9E0                       A:F5 X:F1 Y:00 P:67 SP:FB PPU: 79, 34 CYC:8991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9de, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9DE  70 02     BVS $D9E2                       A:F5 X:F1 Y:00 P:67 SP:FB PPU: 79, 40 CYC:8993
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd9e2, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf1, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9E2  E8        INX                             A:F5 X:F1 Y:00 P:67 SP:FB PPU: 79, 49 CYC:8996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9e3, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9E3  38        SEC                             A:F5 X:F2 Y:00 P:E5 SP:FB PPU: 79, 55 CYC:8998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9e4, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9E4  B8        CLV                             A:F5 X:F2 Y:00 P:E5 SP:FB PPU: 79, 61 CYC:9000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9e5, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9E5  A9 70     LDA #$70                        A:F5 X:F2 Y:00 P:A5 SP:FB PPU: 79, 67 CYC:9002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9e7, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9E7  8D 00 04  STA $0400 = AA                  A:70 X:F2 Y:00 P:25 SP:FB PPU: 79, 73 CYC:9004
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd9ea, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9EA  51 33     EOR ($33),Y = 0400 @ 0400 = 70  A:70 X:F2 Y:00 P:25 SP:FB PPU: 79, 85 CYC:9008
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xd9ec, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9EC  D0 06     BNE $D9F4                       A:00 X:F2 Y:00 P:27 SP:FB PPU: 79,100 CYC:9013
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9ee, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9EE  70 04     BVS $D9F4                       A:00 X:F2 Y:00 P:27 SP:FB PPU: 79,106 CYC:9015
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9f0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9F0  90 02     BCC $D9F4                       A:00 X:F2 Y:00 P:27 SP:FB PPU: 79,112 CYC:9017
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9f2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9F2  10 02     BPL $D9F6                       A:00 X:F2 Y:00 P:27 SP:FB PPU: 79,118 CYC:9019
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd9f6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf2, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9F6  E8        INX                             A:00 X:F2 Y:00 P:27 SP:FB PPU: 79,127 CYC:9022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9f7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9F7  18        CLC                             A:00 X:F3 Y:00 P:A5 SP:FB PPU: 79,133 CYC:9024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9f8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9F8  24 01     BIT $01 = FF                    A:00 X:F3 Y:00 P:A4 SP:FB PPU: 79,139 CYC:9026
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xd9fa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9FA  A9 69     LDA #$69                        A:00 X:F3 Y:00 P:E6 SP:FB PPU: 79,148 CYC:9029
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xd9fc, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9FC  8D 00 04  STA $0400 = 70                  A:69 X:F3 Y:00 P:64 SP:FB PPU: 79,154 CYC:9031
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xd9ff, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // D9FF  A9 00     LDA #$00                        A:69 X:F3 Y:00 P:64 SP:FB PPU: 79,166 CYC:9035
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda01, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA01  71 33     ADC ($33),Y = 0400 @ 0400 = 69  A:00 X:F3 Y:00 P:66 SP:FB PPU: 79,172 CYC:9037
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda03, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA03  30 08     BMI $DA0D                       A:69 X:F3 Y:00 P:24 SP:FB PPU: 79,187 CYC:9042
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda05, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA05  B0 06     BCS $DA0D                       A:69 X:F3 Y:00 P:24 SP:FB PPU: 79,193 CYC:9044
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda07, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA07  C9 69     CMP #$69                        A:69 X:F3 Y:00 P:24 SP:FB PPU: 79,199 CYC:9046
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda09, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA09  D0 02     BNE $DA0D                       A:69 X:F3 Y:00 P:27 SP:FB PPU: 79,205 CYC:9048
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda0b, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA0B  50 02     BVC $DA0F                       A:69 X:F3 Y:00 P:27 SP:FB PPU: 79,211 CYC:9050
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda0f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf3, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA0F  E8        INX                             A:69 X:F3 Y:00 P:27 SP:FB PPU: 79,220 CYC:9053
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda10, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA10  38        SEC                             A:69 X:F4 Y:00 P:A5 SP:FB PPU: 79,226 CYC:9055
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda11, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA11  24 01     BIT $01 = FF                    A:69 X:F4 Y:00 P:A5 SP:FB PPU: 79,232 CYC:9057
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda13, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA13  A9 00     LDA #$00                        A:69 X:F4 Y:00 P:E5 SP:FB PPU: 79,241 CYC:9060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda15, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA15  71 33     ADC ($33),Y = 0400 @ 0400 = 69  A:00 X:F4 Y:00 P:67 SP:FB PPU: 79,247 CYC:9062
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda17, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA17  30 08     BMI $DA21                       A:6A X:F4 Y:00 P:24 SP:FB PPU: 79,262 CYC:9067
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda19, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA19  B0 06     BCS $DA21                       A:6A X:F4 Y:00 P:24 SP:FB PPU: 79,268 CYC:9069
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda1b, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA1B  C9 6A     CMP #$6A                        A:6A X:F4 Y:00 P:24 SP:FB PPU: 79,274 CYC:9071
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda1d, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA1D  D0 02     BNE $DA21                       A:6A X:F4 Y:00 P:27 SP:FB PPU: 79,280 CYC:9073
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda1f, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA1F  50 02     BVC $DA23                       A:6A X:F4 Y:00 P:27 SP:FB PPU: 79,286 CYC:9075
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda23, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf4, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA23  E8        INX                             A:6A X:F4 Y:00 P:27 SP:FB PPU: 79,295 CYC:9078
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda24, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA24  38        SEC                             A:6A X:F5 Y:00 P:A5 SP:FB PPU: 79,301 CYC:9080
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda25, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA25  B8        CLV                             A:6A X:F5 Y:00 P:A5 SP:FB PPU: 79,307 CYC:9082
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda26, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA26  A9 7F     LDA #$7F                        A:6A X:F5 Y:00 P:A5 SP:FB PPU: 79,313 CYC:9084
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda28, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA28  8D 00 04  STA $0400 = 69                  A:7F X:F5 Y:00 P:25 SP:FB PPU: 79,319 CYC:9086
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xda2b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA2B  71 33     ADC ($33),Y = 0400 @ 0400 = 7F  A:7F X:F5 Y:00 P:25 SP:FB PPU: 79,331 CYC:9090
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda2d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA2D  10 08     BPL $DA37                       A:FF X:F5 Y:00 P:E4 SP:FB PPU: 80,  5 CYC:9095
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda2f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA2F  B0 06     BCS $DA37                       A:FF X:F5 Y:00 P:E4 SP:FB PPU: 80, 11 CYC:9097
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda31, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA31  C9 FF     CMP #$FF                        A:FF X:F5 Y:00 P:E4 SP:FB PPU: 80, 17 CYC:9099
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda33, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA33  D0 02     BNE $DA37                       A:FF X:F5 Y:00 P:67 SP:FB PPU: 80, 23 CYC:9101
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda35, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA35  70 02     BVS $DA39                       A:FF X:F5 Y:00 P:67 SP:FB PPU: 80, 29 CYC:9103
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda39, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf5, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA39  E8        INX                             A:FF X:F5 Y:00 P:67 SP:FB PPU: 80, 38 CYC:9106
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda3a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA3A  18        CLC                             A:FF X:F6 Y:00 P:E5 SP:FB PPU: 80, 44 CYC:9108
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda3b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA3B  24 01     BIT $01 = FF                    A:FF X:F6 Y:00 P:E4 SP:FB PPU: 80, 50 CYC:9110
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda3d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA3D  A9 80     LDA #$80                        A:FF X:F6 Y:00 P:E4 SP:FB PPU: 80, 59 CYC:9113
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda3f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA3F  8D 00 04  STA $0400 = 7F                  A:80 X:F6 Y:00 P:E4 SP:FB PPU: 80, 65 CYC:9115
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xda42, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA42  A9 7F     LDA #$7F                        A:80 X:F6 Y:00 P:E4 SP:FB PPU: 80, 77 CYC:9119
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda44, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA44  71 33     ADC ($33),Y = 0400 @ 0400 = 80  A:7F X:F6 Y:00 P:64 SP:FB PPU: 80, 83 CYC:9121
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA46  10 08     BPL $DA50                       A:FF X:F6 Y:00 P:A4 SP:FB PPU: 80, 98 CYC:9126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda48, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA48  B0 06     BCS $DA50                       A:FF X:F6 Y:00 P:A4 SP:FB PPU: 80,104 CYC:9128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda4a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA4A  C9 FF     CMP #$FF                        A:FF X:F6 Y:00 P:A4 SP:FB PPU: 80,110 CYC:9130
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda4c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA4C  D0 02     BNE $DA50                       A:FF X:F6 Y:00 P:27 SP:FB PPU: 80,116 CYC:9132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda4e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA4E  50 02     BVC $DA52                       A:FF X:F6 Y:00 P:27 SP:FB PPU: 80,122 CYC:9134
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda52, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf6, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA52  E8        INX                             A:FF X:F6 Y:00 P:27 SP:FB PPU: 80,131 CYC:9137
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA53  38        SEC                             A:FF X:F7 Y:00 P:A5 SP:FB PPU: 80,137 CYC:9139
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda54, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA54  B8        CLV                             A:FF X:F7 Y:00 P:A5 SP:FB PPU: 80,143 CYC:9141
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda55, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA55  A9 80     LDA #$80                        A:FF X:F7 Y:00 P:A5 SP:FB PPU: 80,149 CYC:9143
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda57, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA57  8D 00 04  STA $0400 = 80                  A:80 X:F7 Y:00 P:A5 SP:FB PPU: 80,155 CYC:9145
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xda5a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA5A  A9 7F     LDA #$7F                        A:80 X:F7 Y:00 P:A5 SP:FB PPU: 80,167 CYC:9149
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda5c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA5C  71 33     ADC ($33),Y = 0400 @ 0400 = 80  A:7F X:F7 Y:00 P:25 SP:FB PPU: 80,173 CYC:9151
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda5e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA5E  D0 06     BNE $DA66                       A:00 X:F7 Y:00 P:27 SP:FB PPU: 80,188 CYC:9156
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda60, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA60  30 04     BMI $DA66                       A:00 X:F7 Y:00 P:27 SP:FB PPU: 80,194 CYC:9158
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda62, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA62  70 02     BVS $DA66                       A:00 X:F7 Y:00 P:27 SP:FB PPU: 80,200 CYC:9160
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda64, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA64  B0 02     BCS $DA68                       A:00 X:F7 Y:00 P:27 SP:FB PPU: 80,206 CYC:9162
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda68, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf7, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA68  E8        INX                             A:00 X:F7 Y:00 P:27 SP:FB PPU: 80,215 CYC:9165
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda69, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA69  24 01     BIT $01 = FF                    A:00 X:F8 Y:00 P:A5 SP:FB PPU: 80,221 CYC:9167
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda6b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA6B  A9 40     LDA #$40                        A:00 X:F8 Y:00 P:E7 SP:FB PPU: 80,230 CYC:9170
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda6d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA6D  8D 00 04  STA $0400 = 80                  A:40 X:F8 Y:00 P:65 SP:FB PPU: 80,236 CYC:9172
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xda70, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA70  D1 33     CMP ($33),Y = 0400 @ 0400 = 40  A:40 X:F8 Y:00 P:65 SP:FB PPU: 80,248 CYC:9176
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda72, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA72  30 06     BMI $DA7A                       A:40 X:F8 Y:00 P:67 SP:FB PPU: 80,263 CYC:9181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda74, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA74  90 04     BCC $DA7A                       A:40 X:F8 Y:00 P:67 SP:FB PPU: 80,269 CYC:9183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda76, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA76  D0 02     BNE $DA7A                       A:40 X:F8 Y:00 P:67 SP:FB PPU: 80,275 CYC:9185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda78, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA78  70 02     BVS $DA7C                       A:40 X:F8 Y:00 P:67 SP:FB PPU: 80,281 CYC:9187
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda7c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf8, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA7C  E8        INX                             A:40 X:F8 Y:00 P:67 SP:FB PPU: 80,290 CYC:9190
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda7d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA7D  B8        CLV                             A:40 X:F9 Y:00 P:E5 SP:FB PPU: 80,296 CYC:9192
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda7e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA7E  CE 00 04  DEC $0400 = 40                  A:40 X:F9 Y:00 P:A5 SP:FB PPU: 80,302 CYC:9194
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xda81, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA81  D1 33     CMP ($33),Y = 0400 @ 0400 = 3F  A:40 X:F9 Y:00 P:25 SP:FB PPU: 80,320 CYC:9200
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda83, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA83  F0 06     BEQ $DA8B                       A:40 X:F9 Y:00 P:25 SP:FB PPU: 80,335 CYC:9205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda85, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA85  30 04     BMI $DA8B                       A:40 X:F9 Y:00 P:25 SP:FB PPU: 81,  0 CYC:9207
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda87, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA87  90 02     BCC $DA8B                       A:40 X:F9 Y:00 P:25 SP:FB PPU: 81,  6 CYC:9209
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda89, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA89  50 02     BVC $DA8D                       A:40 X:F9 Y:00 P:25 SP:FB PPU: 81, 12 CYC:9211
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda8d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xf9, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA8D  E8        INX                             A:40 X:F9 Y:00 P:25 SP:FB PPU: 81, 21 CYC:9214
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda8e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xfa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA8E  EE 00 04  INC $0400 = 3F                  A:40 X:FA Y:00 P:A5 SP:FB PPU: 81, 27 CYC:9216
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xda91, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xfa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA91  EE 00 04  INC $0400 = 40                  A:40 X:FA Y:00 P:25 SP:FB PPU: 81, 45 CYC:9222
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xda94, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xfa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA94  D1 33     CMP ($33),Y = 0400 @ 0400 = 41  A:40 X:FA Y:00 P:25 SP:FB PPU: 81, 63 CYC:9228
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xda96, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xfa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA96  F0 02     BEQ $DA9A                       A:40 X:FA Y:00 P:A4 SP:FB PPU: 81, 78 CYC:9233
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda98, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xfa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA98  30 02     BMI $DA9C                       A:40 X:FA Y:00 P:A4 SP:FB PPU: 81, 84 CYC:9235
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xda9c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xfa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA9C  E8        INX                             A:40 X:FA Y:00 P:A4 SP:FB PPU: 81, 93 CYC:9238
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda9d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA9D  A9 00     LDA #$00                        A:40 X:FB Y:00 P:A4 SP:FB PPU: 81, 99 CYC:9240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xda9f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DA9F  8D 00 04  STA $0400 = 41                  A:00 X:FB Y:00 P:26 SP:FB PPU: 81,105 CYC:9242
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdaa2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAA2  A9 80     LDA #$80                        A:00 X:FB Y:00 P:26 SP:FB PPU: 81,117 CYC:9246
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaa4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAA4  D1 33     CMP ($33),Y = 0400 @ 0400 = 00  A:80 X:FB Y:00 P:A4 SP:FB PPU: 81,123 CYC:9248
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdaa6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAA6  F0 04     BEQ $DAAC                       A:80 X:FB Y:00 P:A5 SP:FB PPU: 81,138 CYC:9253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaa8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAA8  10 02     BPL $DAAC                       A:80 X:FB Y:00 P:A5 SP:FB PPU: 81,144 CYC:9255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaaa, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAAA  B0 02     BCS $DAAE                       A:80 X:FB Y:00 P:A5 SP:FB PPU: 81,150 CYC:9257
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdaae, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfb, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAAE  E8        INX                             A:80 X:FB Y:00 P:A5 SP:FB PPU: 81,159 CYC:9260
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaaf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAAF  A0 80     LDY #$80                        A:80 X:FC Y:00 P:A5 SP:FB PPU: 81,165 CYC:9262
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdab1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAB1  8C 00 04  STY $0400 = 00                  A:80 X:FC Y:80 P:A5 SP:FB PPU: 81,171 CYC:9264
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdab4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAB4  A0 00     LDY #$00                        A:80 X:FC Y:80 P:A5 SP:FB PPU: 81,183 CYC:9268
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdab6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAB6  D1 33     CMP ($33),Y = 0400 @ 0400 = 80  A:80 X:FC Y:00 P:27 SP:FB PPU: 81,189 CYC:9270
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdab8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAB8  D0 04     BNE $DABE                       A:80 X:FC Y:00 P:27 SP:FB PPU: 81,204 CYC:9275
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaba, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DABA  30 02     BMI $DABE                       A:80 X:FC Y:00 P:27 SP:FB PPU: 81,210 CYC:9277
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdabc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DABC  B0 02     BCS $DAC0                       A:80 X:FC Y:00 P:27 SP:FB PPU: 81,216 CYC:9279
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdac0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfc, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAC0  E8        INX                             A:80 X:FC Y:00 P:27 SP:FB PPU: 81,225 CYC:9282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdac1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfd, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAC1  EE 00 04  INC $0400 = 80                  A:80 X:FD Y:00 P:A5 SP:FB PPU: 81,231 CYC:9284
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdac4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfd, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAC4  D1 33     CMP ($33),Y = 0400 @ 0400 = 81  A:80 X:FD Y:00 P:A5 SP:FB PPU: 81,249 CYC:9290
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdac6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfd, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAC6  B0 04     BCS $DACC                       A:80 X:FD Y:00 P:A4 SP:FB PPU: 81,264 CYC:9295
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdac8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfd, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAC8  F0 02     BEQ $DACC                       A:80 X:FD Y:00 P:A4 SP:FB PPU: 81,270 CYC:9297
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaca, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfd, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DACA  30 02     BMI $DACE                       A:80 X:FD Y:00 P:A4 SP:FB PPU: 81,276 CYC:9299
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdace, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfd, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DACE  E8        INX                             A:80 X:FD Y:00 P:A4 SP:FB PPU: 81,285 CYC:9302
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdacf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DACF  CE 00 04  DEC $0400 = 81                  A:80 X:FE Y:00 P:A4 SP:FB PPU: 81,291 CYC:9304
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdad2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAD2  CE 00 04  DEC $0400 = 80                  A:80 X:FE Y:00 P:A4 SP:FB PPU: 81,309 CYC:9310
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdad5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAD5  D1 33     CMP ($33),Y = 0400 @ 0400 = 7F  A:80 X:FE Y:00 P:24 SP:FB PPU: 81,327 CYC:9316
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdad7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAD7  90 04     BCC $DADD                       A:80 X:FE Y:00 P:25 SP:FB PPU: 82,  1 CYC:9321
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdad9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAD9  F0 02     BEQ $DADD                       A:80 X:FE Y:00 P:25 SP:FB PPU: 82,  7 CYC:9323
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdadb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DADB  10 02     BPL $DADF                       A:80 X:FE Y:00 P:25 SP:FB PPU: 82, 13 CYC:9325
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdadf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DADF  60        RTS                             A:80 X:FE Y:00 P:25 SP:FB PPU: 82, 22 CYC:9328
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc61b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C61B  A5 00     LDA $00 = 00                    A:80 X:FE Y:00 P:25 SP:FD PPU: 82, 40 CYC:9334
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc61d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C61D  85 10     STA $10 = 00                    A:00 X:FE Y:00 P:27 SP:FD PPU: 82, 49 CYC:9337
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc61f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C61F  A9 00     LDA #$00                        A:00 X:FE Y:00 P:27 SP:FD PPU: 82, 58 CYC:9340
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc621, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C621  85 00     STA $00 = 00                    A:00 X:FE Y:00 P:27 SP:FD PPU: 82, 64 CYC:9342
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc623, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C623  20 E0 DA  JSR $DAE0                       A:00 X:FE Y:00 P:27 SP:FD PPU: 82, 73 CYC:9345
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdae0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAE0  A9 00     LDA #$00                        A:00 X:FE Y:00 P:27 SP:FB PPU: 82, 91 CYC:9351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdae2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAE2  85 33     STA $33 = 00                    A:00 X:FE Y:00 P:27 SP:FB PPU: 82, 97 CYC:9353
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdae4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAE4  A9 04     LDA #$04                        A:00 X:FE Y:00 P:27 SP:FB PPU: 82,106 CYC:9356
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdae6, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAE6  85 34     STA $34 = 04                    A:04 X:FE Y:00 P:25 SP:FB PPU: 82,112 CYC:9358
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdae8, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAE8  A0 00     LDY #$00                        A:04 X:FE Y:00 P:25 SP:FB PPU: 82,121 CYC:9361
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaea, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0xfe, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAEA  A2 01     LDX #$01                        A:04 X:FE Y:00 P:27 SP:FB PPU: 82,127 CYC:9363
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaec, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAEC  24 01     BIT $01 = FF                    A:04 X:01 Y:00 P:25 SP:FB PPU: 82,133 CYC:9365
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdaee, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAEE  A9 40     LDA #$40                        A:04 X:01 Y:00 P:E5 SP:FB PPU: 82,142 CYC:9368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaf0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAF0  8D 00 04  STA $0400 = 7F                  A:40 X:01 Y:00 P:65 SP:FB PPU: 82,148 CYC:9370
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdaf3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAF3  38        SEC                             A:40 X:01 Y:00 P:65 SP:FB PPU: 82,160 CYC:9374
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaf4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAF4  F1 33     SBC ($33),Y = 0400 @ 0400 = 40  A:40 X:01 Y:00 P:65 SP:FB PPU: 82,166 CYC:9376
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdaf6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAF6  30 0A     BMI $DB02                       A:00 X:01 Y:00 P:27 SP:FB PPU: 82,181 CYC:9381
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdaf8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAF8  90 08     BCC $DB02                       A:00 X:01 Y:00 P:27 SP:FB PPU: 82,187 CYC:9383
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdafa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAFA  D0 06     BNE $DB02                       A:00 X:01 Y:00 P:27 SP:FB PPU: 82,193 CYC:9385
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdafc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAFC  70 04     BVS $DB02                       A:00 X:01 Y:00 P:27 SP:FB PPU: 82,199 CYC:9387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdafe, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DAFE  C9 00     CMP #$00                        A:00 X:01 Y:00 P:27 SP:FB PPU: 82,205 CYC:9389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb00, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB00  F0 02     BEQ $DB04                       A:00 X:01 Y:00 P:27 SP:FB PPU: 82,211 CYC:9391
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdb04, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB04  E8        INX                             A:00 X:01 Y:00 P:27 SP:FB PPU: 82,220 CYC:9394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb05, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB05  B8        CLV                             A:00 X:02 Y:00 P:25 SP:FB PPU: 82,226 CYC:9396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb06, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB06  38        SEC                             A:00 X:02 Y:00 P:25 SP:FB PPU: 82,232 CYC:9398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb07, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB07  A9 40     LDA #$40                        A:00 X:02 Y:00 P:25 SP:FB PPU: 82,238 CYC:9400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb09, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB09  CE 00 04  DEC $0400 = 40                  A:40 X:02 Y:00 P:25 SP:FB PPU: 82,244 CYC:9402
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdb0c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB0C  F1 33     SBC ($33),Y = 0400 @ 0400 = 3F  A:40 X:02 Y:00 P:25 SP:FB PPU: 82,262 CYC:9408
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdb0e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB0E  F0 0A     BEQ $DB1A                       A:01 X:02 Y:00 P:25 SP:FB PPU: 82,277 CYC:9413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb10, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB10  30 08     BMI $DB1A                       A:01 X:02 Y:00 P:25 SP:FB PPU: 82,283 CYC:9415
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb12, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB12  90 06     BCC $DB1A                       A:01 X:02 Y:00 P:25 SP:FB PPU: 82,289 CYC:9417
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb14, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB14  70 04     BVS $DB1A                       A:01 X:02 Y:00 P:25 SP:FB PPU: 82,295 CYC:9419
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb16, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB16  C9 01     CMP #$01                        A:01 X:02 Y:00 P:25 SP:FB PPU: 82,301 CYC:9421
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb18, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB18  F0 02     BEQ $DB1C                       A:01 X:02 Y:00 P:27 SP:FB PPU: 82,307 CYC:9423
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdb1c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB1C  E8        INX                             A:01 X:02 Y:00 P:27 SP:FB PPU: 82,316 CYC:9426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb1d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB1D  A9 40     LDA #$40                        A:01 X:03 Y:00 P:25 SP:FB PPU: 82,322 CYC:9428
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb1f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB1F  38        SEC                             A:40 X:03 Y:00 P:25 SP:FB PPU: 82,328 CYC:9430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb20, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB20  24 01     BIT $01 = FF                    A:40 X:03 Y:00 P:25 SP:FB PPU: 82,334 CYC:9432
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdb22, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB22  EE 00 04  INC $0400 = 3F                  A:40 X:03 Y:00 P:E5 SP:FB PPU: 83,  2 CYC:9435
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdb25, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB25  EE 00 04  INC $0400 = 40                  A:40 X:03 Y:00 P:65 SP:FB PPU: 83, 20 CYC:9441
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdb28, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB28  F1 33     SBC ($33),Y = 0400 @ 0400 = 41  A:40 X:03 Y:00 P:65 SP:FB PPU: 83, 38 CYC:9447
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdb2a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB2A  B0 0A     BCS $DB36                       A:FF X:03 Y:00 P:A4 SP:FB PPU: 83, 53 CYC:9452
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb2c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB2C  F0 08     BEQ $DB36                       A:FF X:03 Y:00 P:A4 SP:FB PPU: 83, 59 CYC:9454
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb2e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB2E  10 06     BPL $DB36                       A:FF X:03 Y:00 P:A4 SP:FB PPU: 83, 65 CYC:9456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb30, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB30  70 04     BVS $DB36                       A:FF X:03 Y:00 P:A4 SP:FB PPU: 83, 71 CYC:9458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb32, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB32  C9 FF     CMP #$FF                        A:FF X:03 Y:00 P:A4 SP:FB PPU: 83, 77 CYC:9460
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb34, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB34  F0 02     BEQ $DB38                       A:FF X:03 Y:00 P:27 SP:FB PPU: 83, 83 CYC:9462
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdb38, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB38  E8        INX                             A:FF X:03 Y:00 P:27 SP:FB PPU: 83, 92 CYC:9465
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb39, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB39  18        CLC                             A:FF X:04 Y:00 P:25 SP:FB PPU: 83, 98 CYC:9467
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb3a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB3A  A9 00     LDA #$00                        A:FF X:04 Y:00 P:24 SP:FB PPU: 83,104 CYC:9469
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb3c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB3C  8D 00 04  STA $0400 = 41                  A:00 X:04 Y:00 P:26 SP:FB PPU: 83,110 CYC:9471
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb3f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB3F  A9 80     LDA #$80                        A:00 X:04 Y:00 P:26 SP:FB PPU: 83,122 CYC:9475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb41, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB41  F1 33     SBC ($33),Y = 0400 @ 0400 = 00  A:80 X:04 Y:00 P:A4 SP:FB PPU: 83,128 CYC:9477
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdb43, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB43  90 04     BCC $DB49                       A:7F X:04 Y:00 P:65 SP:FB PPU: 83,143 CYC:9482
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb45, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB45  C9 7F     CMP #$7F                        A:7F X:04 Y:00 P:65 SP:FB PPU: 83,149 CYC:9484
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb47, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB47  F0 02     BEQ $DB4B                       A:7F X:04 Y:00 P:67 SP:FB PPU: 83,155 CYC:9486
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdb4b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB4B  E8        INX                             A:7F X:04 Y:00 P:67 SP:FB PPU: 83,164 CYC:9489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb4c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB4C  38        SEC                             A:7F X:05 Y:00 P:65 SP:FB PPU: 83,170 CYC:9491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb4d, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB4D  A9 7F     LDA #$7F                        A:7F X:05 Y:00 P:65 SP:FB PPU: 83,176 CYC:9493
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb4f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB4F  8D 00 04  STA $0400 = 00                  A:7F X:05 Y:00 P:65 SP:FB PPU: 83,182 CYC:9495
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb52, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB52  A9 81     LDA #$81                        A:7F X:05 Y:00 P:65 SP:FB PPU: 83,194 CYC:9499
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb54, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB54  F1 33     SBC ($33),Y = 0400 @ 0400 = 7F  A:81 X:05 Y:00 P:E5 SP:FB PPU: 83,200 CYC:9501
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdb56, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB56  50 06     BVC $DB5E                       A:02 X:05 Y:00 P:65 SP:FB PPU: 83,215 CYC:9506
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb58, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB58  90 04     BCC $DB5E                       A:02 X:05 Y:00 P:65 SP:FB PPU: 83,221 CYC:9508
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb5a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB5A  C9 02     CMP #$02                        A:02 X:05 Y:00 P:65 SP:FB PPU: 83,227 CYC:9510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb5c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB5C  F0 02     BEQ $DB60                       A:02 X:05 Y:00 P:67 SP:FB PPU: 83,233 CYC:9512
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdb60, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB60  E8        INX                             A:02 X:05 Y:00 P:67 SP:FB PPU: 83,242 CYC:9515
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x06, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB61  A9 00     LDA #$00                        A:02 X:06 Y:00 P:65 SP:FB PPU: 83,248 CYC:9517
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb63, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x06, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB63  A9 87     LDA #$87                        A:00 X:06 Y:00 P:67 SP:FB PPU: 83,254 CYC:9519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb65, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x06, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB65  91 33     STA ($33),Y = 0400 @ 0400 = 7F  A:87 X:06 Y:00 P:E5 SP:FB PPU: 83,260 CYC:9521
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdb67, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x06, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB67  AD 00 04  LDA $0400 = 87                  A:87 X:06 Y:00 P:E5 SP:FB PPU: 83,278 CYC:9527
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb6a, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x06, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB6A  C9 87     CMP #$87                        A:87 X:06 Y:00 P:E5 SP:FB PPU: 83,290 CYC:9531
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb6c, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x06, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB6C  F0 02     BEQ $DB70                       A:87 X:06 Y:00 P:67 SP:FB PPU: 83,296 CYC:9533
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdb70, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x06, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB70  E8        INX                             A:87 X:06 Y:00 P:67 SP:FB PPU: 83,305 CYC:9536
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb71, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB71  A9 7E     LDA #$7E                        A:87 X:07 Y:00 P:65 SP:FB PPU: 83,311 CYC:9538
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb73, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB73  8D 00 02  STA $0200 = 7F                  A:7E X:07 Y:00 P:65 SP:FB PPU: 83,317 CYC:9540
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb76, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB76  A9 DB     LDA #$DB                        A:7E X:07 Y:00 P:65 SP:FB PPU: 83,329 CYC:9544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb78, cpu.pc);
    try expectEqual(0xdb, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB78  8D 01 02  STA $0201 = 00                  A:DB X:07 Y:00 P:E5 SP:FB PPU: 83,335 CYC:9546
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb7b, cpu.pc);
    try expectEqual(0xdb, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB7B  6C 00 02  JMP ($0200) = DB7E              A:DB X:07 Y:00 P:E5 SP:FB PPU: 84,  6 CYC:9550
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdb7e, cpu.pc);
    try expectEqual(0xdb, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB7E  A9 00     LDA #$00                        A:DB X:07 Y:00 P:E5 SP:FB PPU: 84, 21 CYC:9555
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb80, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB80  8D FF 02  STA $02FF = 00                  A:00 X:07 Y:00 P:67 SP:FB PPU: 84, 27 CYC:9557
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb83, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB83  A9 01     LDA #$01                        A:00 X:07 Y:00 P:67 SP:FB PPU: 84, 39 CYC:9561
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb85, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB85  8D 00 03  STA $0300 = 89                  A:01 X:07 Y:00 P:65 SP:FB PPU: 84, 45 CYC:9563
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb88, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB88  A9 03     LDA #$03                        A:01 X:07 Y:00 P:65 SP:FB PPU: 84, 57 CYC:9567
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb8a, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB8A  8D 00 02  STA $0200 = 7E                  A:03 X:07 Y:00 P:65 SP:FB PPU: 84, 63 CYC:9569
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb8d, cpu.pc);
    try expectEqual(0x03, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB8D  A9 A9     LDA #$A9                        A:03 X:07 Y:00 P:65 SP:FB PPU: 84, 75 CYC:9573
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb8f, cpu.pc);
    try expectEqual(0xa9, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB8F  8D 00 01  STA $0100 = 00                  A:A9 X:07 Y:00 P:E5 SP:FB PPU: 84, 81 CYC:9575
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb92, cpu.pc);
    try expectEqual(0xa9, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB92  A9 55     LDA #$55                        A:A9 X:07 Y:00 P:E5 SP:FB PPU: 84, 93 CYC:9579
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb94, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB94  8D 01 01  STA $0101 = 00                  A:55 X:07 Y:00 P:65 SP:FB PPU: 84, 99 CYC:9581
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb97, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB97  A9 60     LDA #$60                        A:55 X:07 Y:00 P:65 SP:FB PPU: 84,111 CYC:9585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb99, cpu.pc);
    try expectEqual(0x60, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB99  8D 02 01  STA $0102 = 00                  A:60 X:07 Y:00 P:65 SP:FB PPU: 84,117 CYC:9587
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdb9c, cpu.pc);
    try expectEqual(0x60, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB9C  A9 A9     LDA #$A9                        A:60 X:07 Y:00 P:65 SP:FB PPU: 84,129 CYC:9591
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdb9e, cpu.pc);
    try expectEqual(0xa9, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DB9E  8D 00 03  STA $0300 = 01                  A:A9 X:07 Y:00 P:E5 SP:FB PPU: 84,135 CYC:9593
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdba1, cpu.pc);
    try expectEqual(0xa9, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBA1  A9 AA     LDA #$AA                        A:A9 X:07 Y:00 P:E5 SP:FB PPU: 84,147 CYC:9597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdba3, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBA3  8D 01 03  STA $0301 = 00                  A:AA X:07 Y:00 P:E5 SP:FB PPU: 84,153 CYC:9599
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdba6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBA6  A9 60     LDA #$60                        A:AA X:07 Y:00 P:E5 SP:FB PPU: 84,165 CYC:9603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdba8, cpu.pc);
    try expectEqual(0x60, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBA8  8D 02 03  STA $0302 = 00                  A:60 X:07 Y:00 P:65 SP:FB PPU: 84,171 CYC:9605
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdbab, cpu.pc);
    try expectEqual(0x60, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBAB  20 B5 DB  JSR $DBB5                       A:60 X:07 Y:00 P:65 SP:FB PPU: 84,183 CYC:9609
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdbb5, cpu.pc);
    try expectEqual(0x60, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // DBB5  6C FF 02  JMP ($02FF) = 0300              A:60 X:07 Y:00 P:65 SP:F9 PPU: 84,201 CYC:9615
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0x0300, cpu.pc);
    try expectEqual(0x60, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // 0300  A9 AA     LDA #$AA                        A:60 X:07 Y:00 P:65 SP:F9 PPU: 84,216 CYC:9620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0x0302, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // 0302  60        RTS                             A:AA X:07 Y:00 P:E5 SP:F9 PPU: 84,222 CYC:9622
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdbae, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBAE  C9 AA     CMP #$AA                        A:AA X:07 Y:00 P:E5 SP:FB PPU: 84,240 CYC:9628
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbb0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBB0  F0 02     BEQ $DBB4                       A:AA X:07 Y:00 P:67 SP:FB PPU: 84,246 CYC:9630
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdbb4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBB4  60        RTS                             A:AA X:07 Y:00 P:67 SP:FB PPU: 84,255 CYC:9633
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc626, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C626  20 4A DF  JSR $DF4A                       A:AA X:07 Y:00 P:67 SP:FD PPU: 84,273 CYC:9639
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdf4a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF4A  A9 89     LDA #$89                        A:AA X:07 Y:00 P:67 SP:FB PPU: 84,291 CYC:9645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf4c, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF4C  8D 00 03  STA $0300 = A9                  A:89 X:07 Y:00 P:E5 SP:FB PPU: 84,297 CYC:9647
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdf4f, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF4F  A9 A3     LDA #$A3                        A:89 X:07 Y:00 P:E5 SP:FB PPU: 84,309 CYC:9651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf51, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF51  85 33     STA $33 = 00                    A:A3 X:07 Y:00 P:E5 SP:FB PPU: 84,315 CYC:9653
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf53, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF53  A9 12     LDA #$12                        A:A3 X:07 Y:00 P:E5 SP:FB PPU: 84,324 CYC:9656
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf55, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF55  8D 45 02  STA $0245 = 12                  A:12 X:07 Y:00 P:65 SP:FB PPU: 84,330 CYC:9658
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdf58, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x07, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF58  A2 65     LDX #$65                        A:12 X:07 Y:00 P:65 SP:FB PPU: 85,  1 CYC:9662
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf5a, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF5A  A0 00     LDY #$00                        A:12 X:65 Y:00 P:65 SP:FB PPU: 85,  7 CYC:9664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf5c, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF5C  38        SEC                             A:12 X:65 Y:00 P:67 SP:FB PPU: 85, 13 CYC:9666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf5d, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF5D  A9 00     LDA #$00                        A:12 X:65 Y:00 P:67 SP:FB PPU: 85, 19 CYC:9668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf5f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF5F  B8        CLV                             A:00 X:65 Y:00 P:67 SP:FB PPU: 85, 25 CYC:9670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf60, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF60  B9 00 03  LDA $0300,Y @ 0300 = 89         A:00 X:65 Y:00 P:27 SP:FB PPU: 85, 31 CYC:9672
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdf63, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF63  F0 0C     BEQ $DF71                       A:89 X:65 Y:00 P:A5 SP:FB PPU: 85, 43 CYC:9676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf65, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF65  90 0A     BCC $DF71                       A:89 X:65 Y:00 P:A5 SP:FB PPU: 85, 49 CYC:9678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf67, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF67  70 08     BVS $DF71                       A:89 X:65 Y:00 P:A5 SP:FB PPU: 85, 55 CYC:9680
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf69, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF69  C9 89     CMP #$89                        A:89 X:65 Y:00 P:A5 SP:FB PPU: 85, 61 CYC:9682
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf6b, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF6B  D0 04     BNE $DF71                       A:89 X:65 Y:00 P:27 SP:FB PPU: 85, 67 CYC:9684
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf6d, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF6D  E0 65     CPX #$65                        A:89 X:65 Y:00 P:27 SP:FB PPU: 85, 73 CYC:9686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf6f, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF6F  F0 04     BEQ $DF75                       A:89 X:65 Y:00 P:27 SP:FB PPU: 85, 79 CYC:9688
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf75, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF75  A9 FF     LDA #$FF                        A:89 X:65 Y:00 P:27 SP:FB PPU: 85, 88 CYC:9691
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf77, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF77  85 01     STA $01 = FF                    A:FF X:65 Y:00 P:A5 SP:FB PPU: 85, 94 CYC:9693
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf79, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF79  24 01     BIT $01 = FF                    A:FF X:65 Y:00 P:A5 SP:FB PPU: 85,103 CYC:9696
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf7b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF7B  A0 34     LDY #$34                        A:FF X:65 Y:00 P:E5 SP:FB PPU: 85,112 CYC:9699
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf7d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF7D  B9 FF FF  LDA $FFFF,Y @ 0033 = A3         A:FF X:65 Y:34 P:65 SP:FB PPU: 85,118 CYC:9701
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdf80, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF80  C9 A3     CMP #$A3                        A:A3 X:65 Y:34 P:E5 SP:FB PPU: 85,133 CYC:9706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf82, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF82  D0 02     BNE $DF86                       A:A3 X:65 Y:34 P:67 SP:FB PPU: 85,139 CYC:9708
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf84, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF84  B0 04     BCS $DF8A                       A:A3 X:65 Y:34 P:67 SP:FB PPU: 85,145 CYC:9710
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf8a, cpu.pc);
    try expectEqual(0xa3, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF8A  A9 46     LDA #$46                        A:A3 X:65 Y:34 P:67 SP:FB PPU: 85,154 CYC:9713
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf8c, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF8C  85 FF     STA $FF = 46                    A:46 X:65 Y:34 P:65 SP:FB PPU: 85,160 CYC:9715
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf8e, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0x34, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF8E  A0 FF     LDY #$FF                        A:46 X:65 Y:34 P:65 SP:FB PPU: 85,169 CYC:9718
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf90, cpu.pc);
    try expectEqual(0x46, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF90  B9 46 01  LDA $0146,Y @ 0245 = 12         A:46 X:65 Y:FF P:E5 SP:FB PPU: 85,175 CYC:9720
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xdf93, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF93  C9 12     CMP #$12                        A:12 X:65 Y:FF P:65 SP:FB PPU: 85,190 CYC:9725
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf95, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF95  F0 04     BEQ $DF9B                       A:12 X:65 Y:FF P:67 SP:FB PPU: 85,196 CYC:9727
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf9b, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x65, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF9B  A2 39     LDX #$39                        A:12 X:65 Y:FF P:67 SP:FB PPU: 85,205 CYC:9730
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf9d, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF9D  18        CLC                             A:12 X:39 Y:FF P:65 SP:FB PPU: 85,211 CYC:9732
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf9e, cpu.pc);
    try expectEqual(0x12, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF9E  A9 FF     LDA #$FF                        A:12 X:39 Y:FF P:64 SP:FB PPU: 85,217 CYC:9734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfa0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFA0  85 01     STA $01 = FF                    A:FF X:39 Y:FF P:E4 SP:FB PPU: 85,223 CYC:9736
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdfa2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFA2  24 01     BIT $01 = FF                    A:FF X:39 Y:FF P:E4 SP:FB PPU: 85,232 CYC:9739
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdfa4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFA4  A9 AA     LDA #$AA                        A:FF X:39 Y:FF P:E4 SP:FB PPU: 85,241 CYC:9742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfa6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFA6  8D 00 04  STA $0400 = 87                  A:AA X:39 Y:FF P:E4 SP:FB PPU: 85,247 CYC:9744
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdfa9, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFA9  A9 55     LDA #$55                        A:AA X:39 Y:FF P:E4 SP:FB PPU: 85,259 CYC:9748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfab, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFAB  A0 00     LDY #$00                        A:55 X:39 Y:FF P:64 SP:FB PPU: 85,265 CYC:9750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfad, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFAD  19 00 04  ORA $0400,Y @ 0400 = AA         A:55 X:39 Y:00 P:66 SP:FB PPU: 85,271 CYC:9752
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdfb0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFB0  B0 08     BCS $DFBA                       A:FF X:39 Y:00 P:E4 SP:FB PPU: 85,283 CYC:9756
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfb2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFB2  10 06     BPL $DFBA                       A:FF X:39 Y:00 P:E4 SP:FB PPU: 85,289 CYC:9758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfb4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFB4  C9 FF     CMP #$FF                        A:FF X:39 Y:00 P:E4 SP:FB PPU: 85,295 CYC:9760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfb6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFB6  D0 02     BNE $DFBA                       A:FF X:39 Y:00 P:67 SP:FB PPU: 85,301 CYC:9762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfb8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFB8  70 02     BVS $DFBC                       A:FF X:39 Y:00 P:67 SP:FB PPU: 85,307 CYC:9764
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdfbc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x39, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFBC  E8        INX                             A:FF X:39 Y:00 P:67 SP:FB PPU: 85,316 CYC:9767
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfbd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFBD  38        SEC                             A:FF X:3A Y:00 P:65 SP:FB PPU: 85,322 CYC:9769
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfbe, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFBE  B8        CLV                             A:FF X:3A Y:00 P:65 SP:FB PPU: 85,328 CYC:9771
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfbf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFBF  A9 00     LDA #$00                        A:FF X:3A Y:00 P:25 SP:FB PPU: 85,334 CYC:9773
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfc1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFC1  19 00 04  ORA $0400,Y @ 0400 = AA         A:00 X:3A Y:00 P:27 SP:FB PPU: 85,340 CYC:9775
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdfc4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFC4  F0 06     BEQ $DFCC                       A:AA X:3A Y:00 P:A5 SP:FB PPU: 86, 11 CYC:9779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfc6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFC6  70 04     BVS $DFCC                       A:AA X:3A Y:00 P:A5 SP:FB PPU: 86, 17 CYC:9781
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfc8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFC8  90 02     BCC $DFCC                       A:AA X:3A Y:00 P:A5 SP:FB PPU: 86, 23 CYC:9783
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfca, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFCA  30 02     BMI $DFCE                       A:AA X:3A Y:00 P:A5 SP:FB PPU: 86, 29 CYC:9785
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdfce, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFCE  E8        INX                             A:AA X:3A Y:00 P:A5 SP:FB PPU: 86, 38 CYC:9788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfcf, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFCF  18        CLC                             A:AA X:3B Y:00 P:25 SP:FB PPU: 86, 44 CYC:9790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfd0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFD0  24 01     BIT $01 = FF                    A:AA X:3B Y:00 P:24 SP:FB PPU: 86, 50 CYC:9792
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdfd2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFD2  A9 55     LDA #$55                        A:AA X:3B Y:00 P:E4 SP:FB PPU: 86, 59 CYC:9795
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfd4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFD4  39 00 04  AND $0400,Y @ 0400 = AA         A:55 X:3B Y:00 P:64 SP:FB PPU: 86, 65 CYC:9797
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdfd7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFD7  D0 06     BNE $DFDF                       A:00 X:3B Y:00 P:66 SP:FB PPU: 86, 77 CYC:9801
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfd9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFD9  50 04     BVC $DFDF                       A:00 X:3B Y:00 P:66 SP:FB PPU: 86, 83 CYC:9803
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfdb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFDB  B0 02     BCS $DFDF                       A:00 X:3B Y:00 P:66 SP:FB PPU: 86, 89 CYC:9805
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfdd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFDD  10 02     BPL $DFE1                       A:00 X:3B Y:00 P:66 SP:FB PPU: 86, 95 CYC:9807
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdfe1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFE1  E8        INX                             A:00 X:3B Y:00 P:66 SP:FB PPU: 86,104 CYC:9810
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfe2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFE2  38        SEC                             A:00 X:3C Y:00 P:64 SP:FB PPU: 86,110 CYC:9812
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfe3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFE3  B8        CLV                             A:00 X:3C Y:00 P:65 SP:FB PPU: 86,116 CYC:9814
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfe4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFE4  A9 EF     LDA #$EF                        A:00 X:3C Y:00 P:25 SP:FB PPU: 86,122 CYC:9816
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfe6, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFE6  8D 00 04  STA $0400 = AA                  A:EF X:3C Y:00 P:A5 SP:FB PPU: 86,128 CYC:9818
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdfe9, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFE9  A9 F8     LDA #$F8                        A:EF X:3C Y:00 P:A5 SP:FB PPU: 86,140 CYC:9822
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdfeb, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFEB  39 00 04  AND $0400,Y @ 0400 = EF         A:F8 X:3C Y:00 P:A5 SP:FB PPU: 86,146 CYC:9824
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdfee, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFEE  90 08     BCC $DFF8                       A:E8 X:3C Y:00 P:A5 SP:FB PPU: 86,158 CYC:9828
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdff0, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFF0  10 06     BPL $DFF8                       A:E8 X:3C Y:00 P:A5 SP:FB PPU: 86,164 CYC:9830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdff2, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFF2  C9 E8     CMP #$E8                        A:E8 X:3C Y:00 P:A5 SP:FB PPU: 86,170 CYC:9832
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdff4, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFF4  D0 02     BNE $DFF8                       A:E8 X:3C Y:00 P:27 SP:FB PPU: 86,176 CYC:9834
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdff6, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFF6  50 02     BVC $DFFA                       A:E8 X:3C Y:00 P:27 SP:FB PPU: 86,182 CYC:9836
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdffa, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFFA  E8        INX                             A:E8 X:3C Y:00 P:27 SP:FB PPU: 86,191 CYC:9839
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdffb, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFFB  18        CLC                             A:E8 X:3D Y:00 P:25 SP:FB PPU: 86,197 CYC:9841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdffc, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFFC  24 01     BIT $01 = FF                    A:E8 X:3D Y:00 P:24 SP:FB PPU: 86,203 CYC:9843
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdffe, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DFFE  A9 AA     LDA #$AA                        A:E8 X:3D Y:00 P:E4 SP:FB PPU: 86,212 CYC:9846
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe000, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E000  8D 00 04  STA $0400 = EF                  A:AA X:3D Y:00 P:E4 SP:FB PPU: 86,218 CYC:9848
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe003, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E003  A9 5F     LDA #$5F                        A:AA X:3D Y:00 P:E4 SP:FB PPU: 86,230 CYC:9852
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe005, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E005  59 00 04  EOR $0400,Y @ 0400 = AA         A:5F X:3D Y:00 P:64 SP:FB PPU: 86,236 CYC:9854
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe008, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E008  B0 08     BCS $E012                       A:F5 X:3D Y:00 P:E4 SP:FB PPU: 86,248 CYC:9858
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe00a, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E00A  10 06     BPL $E012                       A:F5 X:3D Y:00 P:E4 SP:FB PPU: 86,254 CYC:9860
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe00c, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E00C  C9 F5     CMP #$F5                        A:F5 X:3D Y:00 P:E4 SP:FB PPU: 86,260 CYC:9862
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe00e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E00E  D0 02     BNE $E012                       A:F5 X:3D Y:00 P:67 SP:FB PPU: 86,266 CYC:9864
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe010, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E010  70 02     BVS $E014                       A:F5 X:3D Y:00 P:67 SP:FB PPU: 86,272 CYC:9866
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe014, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E014  E8        INX                             A:F5 X:3D Y:00 P:67 SP:FB PPU: 86,281 CYC:9869
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe015, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E015  38        SEC                             A:F5 X:3E Y:00 P:65 SP:FB PPU: 86,287 CYC:9871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe016, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E016  B8        CLV                             A:F5 X:3E Y:00 P:65 SP:FB PPU: 86,293 CYC:9873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe017, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E017  A9 70     LDA #$70                        A:F5 X:3E Y:00 P:25 SP:FB PPU: 86,299 CYC:9875
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe019, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E019  8D 00 04  STA $0400 = AA                  A:70 X:3E Y:00 P:25 SP:FB PPU: 86,305 CYC:9877
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe01c, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E01C  59 00 04  EOR $0400,Y @ 0400 = 70         A:70 X:3E Y:00 P:25 SP:FB PPU: 86,317 CYC:9881
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe01f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E01F  D0 06     BNE $E027                       A:00 X:3E Y:00 P:27 SP:FB PPU: 86,329 CYC:9885
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe021, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E021  70 04     BVS $E027                       A:00 X:3E Y:00 P:27 SP:FB PPU: 86,335 CYC:9887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe023, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E023  90 02     BCC $E027                       A:00 X:3E Y:00 P:27 SP:FB PPU: 87,  0 CYC:9889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe025, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E025  10 02     BPL $E029                       A:00 X:3E Y:00 P:27 SP:FB PPU: 87,  6 CYC:9891
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe029, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E029  E8        INX                             A:00 X:3E Y:00 P:27 SP:FB PPU: 87, 15 CYC:9894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe02a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E02A  18        CLC                             A:00 X:3F Y:00 P:25 SP:FB PPU: 87, 21 CYC:9896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe02b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E02B  24 01     BIT $01 = FF                    A:00 X:3F Y:00 P:24 SP:FB PPU: 87, 27 CYC:9898
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe02d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E02D  A9 69     LDA #$69                        A:00 X:3F Y:00 P:E6 SP:FB PPU: 87, 36 CYC:9901
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe02f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E02F  8D 00 04  STA $0400 = 70                  A:69 X:3F Y:00 P:64 SP:FB PPU: 87, 42 CYC:9903
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe032, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E032  A9 00     LDA #$00                        A:69 X:3F Y:00 P:64 SP:FB PPU: 87, 54 CYC:9907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe034, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E034  79 00 04  ADC $0400,Y @ 0400 = 69         A:00 X:3F Y:00 P:66 SP:FB PPU: 87, 60 CYC:9909
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe037, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E037  30 08     BMI $E041                       A:69 X:3F Y:00 P:24 SP:FB PPU: 87, 72 CYC:9913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe039, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E039  B0 06     BCS $E041                       A:69 X:3F Y:00 P:24 SP:FB PPU: 87, 78 CYC:9915
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe03b, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E03B  C9 69     CMP #$69                        A:69 X:3F Y:00 P:24 SP:FB PPU: 87, 84 CYC:9917
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe03d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E03D  D0 02     BNE $E041                       A:69 X:3F Y:00 P:27 SP:FB PPU: 87, 90 CYC:9919
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe03f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E03F  50 02     BVC $E043                       A:69 X:3F Y:00 P:27 SP:FB PPU: 87, 96 CYC:9921
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe043, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x3f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E043  E8        INX                             A:69 X:3F Y:00 P:27 SP:FB PPU: 87,105 CYC:9924
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe044, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E044  38        SEC                             A:69 X:40 Y:00 P:25 SP:FB PPU: 87,111 CYC:9926
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe045, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E045  24 01     BIT $01 = FF                    A:69 X:40 Y:00 P:25 SP:FB PPU: 87,117 CYC:9928
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe047, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E047  A9 00     LDA #$00                        A:69 X:40 Y:00 P:E5 SP:FB PPU: 87,126 CYC:9931
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe049, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E049  79 00 04  ADC $0400,Y @ 0400 = 69         A:00 X:40 Y:00 P:67 SP:FB PPU: 87,132 CYC:9933
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe04c, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E04C  30 08     BMI $E056                       A:6A X:40 Y:00 P:24 SP:FB PPU: 87,144 CYC:9937
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe04e, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E04E  B0 06     BCS $E056                       A:6A X:40 Y:00 P:24 SP:FB PPU: 87,150 CYC:9939
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe050, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E050  C9 6A     CMP #$6A                        A:6A X:40 Y:00 P:24 SP:FB PPU: 87,156 CYC:9941
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe052, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E052  D0 02     BNE $E056                       A:6A X:40 Y:00 P:27 SP:FB PPU: 87,162 CYC:9943
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe054, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E054  50 02     BVC $E058                       A:6A X:40 Y:00 P:27 SP:FB PPU: 87,168 CYC:9945
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe058, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x40, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E058  E8        INX                             A:6A X:40 Y:00 P:27 SP:FB PPU: 87,177 CYC:9948
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe059, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E059  38        SEC                             A:6A X:41 Y:00 P:25 SP:FB PPU: 87,183 CYC:9950
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe05a, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E05A  B8        CLV                             A:6A X:41 Y:00 P:25 SP:FB PPU: 87,189 CYC:9952
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe05b, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E05B  A9 7F     LDA #$7F                        A:6A X:41 Y:00 P:25 SP:FB PPU: 87,195 CYC:9954
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe05d, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E05D  8D 00 04  STA $0400 = 69                  A:7F X:41 Y:00 P:25 SP:FB PPU: 87,201 CYC:9956
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe060, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E060  79 00 04  ADC $0400,Y @ 0400 = 7F         A:7F X:41 Y:00 P:25 SP:FB PPU: 87,213 CYC:9960
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe063, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E063  10 08     BPL $E06D                       A:FF X:41 Y:00 P:E4 SP:FB PPU: 87,225 CYC:9964
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe065, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E065  B0 06     BCS $E06D                       A:FF X:41 Y:00 P:E4 SP:FB PPU: 87,231 CYC:9966
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe067, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E067  C9 FF     CMP #$FF                        A:FF X:41 Y:00 P:E4 SP:FB PPU: 87,237 CYC:9968
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe069, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E069  D0 02     BNE $E06D                       A:FF X:41 Y:00 P:67 SP:FB PPU: 87,243 CYC:9970
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe06b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E06B  70 02     BVS $E06F                       A:FF X:41 Y:00 P:67 SP:FB PPU: 87,249 CYC:9972
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe06f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x41, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E06F  E8        INX                             A:FF X:41 Y:00 P:67 SP:FB PPU: 87,258 CYC:9975
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe070, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E070  18        CLC                             A:FF X:42 Y:00 P:65 SP:FB PPU: 87,264 CYC:9977
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe071, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E071  24 01     BIT $01 = FF                    A:FF X:42 Y:00 P:64 SP:FB PPU: 87,270 CYC:9979
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe073, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E073  A9 80     LDA #$80                        A:FF X:42 Y:00 P:E4 SP:FB PPU: 87,279 CYC:9982
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe075, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E075  8D 00 04  STA $0400 = 7F                  A:80 X:42 Y:00 P:E4 SP:FB PPU: 87,285 CYC:9984
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe078, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E078  A9 7F     LDA #$7F                        A:80 X:42 Y:00 P:E4 SP:FB PPU: 87,297 CYC:9988
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe07a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E07A  79 00 04  ADC $0400,Y @ 0400 = 80         A:7F X:42 Y:00 P:64 SP:FB PPU: 87,303 CYC:9990
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe07d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E07D  10 08     BPL $E087                       A:FF X:42 Y:00 P:A4 SP:FB PPU: 87,315 CYC:9994
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe07f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E07F  B0 06     BCS $E087                       A:FF X:42 Y:00 P:A4 SP:FB PPU: 87,321 CYC:9996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe081, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E081  C9 FF     CMP #$FF                        A:FF X:42 Y:00 P:A4 SP:FB PPU: 87,327 CYC:9998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe083, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E083  D0 02     BNE $E087                       A:FF X:42 Y:00 P:27 SP:FB PPU: 87,333 CYC:10000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe085, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E085  50 02     BVC $E089                       A:FF X:42 Y:00 P:27 SP:FB PPU: 87,339 CYC:10002
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe089, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x42, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E089  E8        INX                             A:FF X:42 Y:00 P:27 SP:FB PPU: 88,  7 CYC:10005
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe08a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E08A  38        SEC                             A:FF X:43 Y:00 P:25 SP:FB PPU: 88, 13 CYC:10007
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe08b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E08B  B8        CLV                             A:FF X:43 Y:00 P:25 SP:FB PPU: 88, 19 CYC:10009
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe08c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E08C  A9 80     LDA #$80                        A:FF X:43 Y:00 P:25 SP:FB PPU: 88, 25 CYC:10011
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe08e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E08E  8D 00 04  STA $0400 = 80                  A:80 X:43 Y:00 P:A5 SP:FB PPU: 88, 31 CYC:10013
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe091, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E091  A9 7F     LDA #$7F                        A:80 X:43 Y:00 P:A5 SP:FB PPU: 88, 43 CYC:10017
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe093, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E093  79 00 04  ADC $0400,Y @ 0400 = 80         A:7F X:43 Y:00 P:25 SP:FB PPU: 88, 49 CYC:10019
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe096, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E096  D0 06     BNE $E09E                       A:00 X:43 Y:00 P:27 SP:FB PPU: 88, 61 CYC:10023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe098, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E098  30 04     BMI $E09E                       A:00 X:43 Y:00 P:27 SP:FB PPU: 88, 67 CYC:10025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe09a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E09A  70 02     BVS $E09E                       A:00 X:43 Y:00 P:27 SP:FB PPU: 88, 73 CYC:10027
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe09c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E09C  B0 02     BCS $E0A0                       A:00 X:43 Y:00 P:27 SP:FB PPU: 88, 79 CYC:10029
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe0a0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x43, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0A0  E8        INX                             A:00 X:43 Y:00 P:27 SP:FB PPU: 88, 88 CYC:10032
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0a1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0A1  24 01     BIT $01 = FF                    A:00 X:44 Y:00 P:25 SP:FB PPU: 88, 94 CYC:10034
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe0a3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0A3  A9 40     LDA #$40                        A:00 X:44 Y:00 P:E7 SP:FB PPU: 88,103 CYC:10037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0a5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0A5  8D 00 04  STA $0400 = 80                  A:40 X:44 Y:00 P:65 SP:FB PPU: 88,109 CYC:10039
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0a8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0A8  D9 00 04  CMP $0400,Y @ 0400 = 40         A:40 X:44 Y:00 P:65 SP:FB PPU: 88,121 CYC:10043
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0ab, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0AB  30 06     BMI $E0B3                       A:40 X:44 Y:00 P:67 SP:FB PPU: 88,133 CYC:10047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0ad, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0AD  90 04     BCC $E0B3                       A:40 X:44 Y:00 P:67 SP:FB PPU: 88,139 CYC:10049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0af, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0AF  D0 02     BNE $E0B3                       A:40 X:44 Y:00 P:67 SP:FB PPU: 88,145 CYC:10051
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0b1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0B1  70 02     BVS $E0B5                       A:40 X:44 Y:00 P:67 SP:FB PPU: 88,151 CYC:10053
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe0b5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x44, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0B5  E8        INX                             A:40 X:44 Y:00 P:67 SP:FB PPU: 88,160 CYC:10056
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0b6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0B6  B8        CLV                             A:40 X:45 Y:00 P:65 SP:FB PPU: 88,166 CYC:10058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0b7, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0B7  CE 00 04  DEC $0400 = 40                  A:40 X:45 Y:00 P:25 SP:FB PPU: 88,172 CYC:10060
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe0ba, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0BA  D9 00 04  CMP $0400,Y @ 0400 = 3F         A:40 X:45 Y:00 P:25 SP:FB PPU: 88,190 CYC:10066
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0bd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0BD  F0 06     BEQ $E0C5                       A:40 X:45 Y:00 P:25 SP:FB PPU: 88,202 CYC:10070
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0bf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0BF  30 04     BMI $E0C5                       A:40 X:45 Y:00 P:25 SP:FB PPU: 88,208 CYC:10072
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0c1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0C1  90 02     BCC $E0C5                       A:40 X:45 Y:00 P:25 SP:FB PPU: 88,214 CYC:10074
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0c3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0C3  50 02     BVC $E0C7                       A:40 X:45 Y:00 P:25 SP:FB PPU: 88,220 CYC:10076
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe0c7, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x45, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0C7  E8        INX                             A:40 X:45 Y:00 P:25 SP:FB PPU: 88,229 CYC:10079
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0c8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0C8  EE 00 04  INC $0400 = 3F                  A:40 X:46 Y:00 P:25 SP:FB PPU: 88,235 CYC:10081
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe0cb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0CB  EE 00 04  INC $0400 = 40                  A:40 X:46 Y:00 P:25 SP:FB PPU: 88,253 CYC:10087
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe0ce, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0CE  D9 00 04  CMP $0400,Y @ 0400 = 41         A:40 X:46 Y:00 P:25 SP:FB PPU: 88,271 CYC:10093
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0d1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0D1  F0 02     BEQ $E0D5                       A:40 X:46 Y:00 P:A4 SP:FB PPU: 88,283 CYC:10097
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0d3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0D3  30 02     BMI $E0D7                       A:40 X:46 Y:00 P:A4 SP:FB PPU: 88,289 CYC:10099
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe0d7, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x46, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0D7  E8        INX                             A:40 X:46 Y:00 P:A4 SP:FB PPU: 88,298 CYC:10102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0d8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0D8  A9 00     LDA #$00                        A:40 X:47 Y:00 P:24 SP:FB PPU: 88,304 CYC:10104
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0da, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0DA  8D 00 04  STA $0400 = 41                  A:00 X:47 Y:00 P:26 SP:FB PPU: 88,310 CYC:10106
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0dd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0DD  A9 80     LDA #$80                        A:00 X:47 Y:00 P:26 SP:FB PPU: 88,322 CYC:10110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0df, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0DF  D9 00 04  CMP $0400,Y @ 0400 = 00         A:80 X:47 Y:00 P:A4 SP:FB PPU: 88,328 CYC:10112
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0e2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0E2  F0 04     BEQ $E0E8                       A:80 X:47 Y:00 P:A5 SP:FB PPU: 88,340 CYC:10116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0e4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0E4  10 02     BPL $E0E8                       A:80 X:47 Y:00 P:A5 SP:FB PPU: 89,  5 CYC:10118
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0e6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0E6  B0 02     BCS $E0EA                       A:80 X:47 Y:00 P:A5 SP:FB PPU: 89, 11 CYC:10120
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe0ea, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x47, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0EA  E8        INX                             A:80 X:47 Y:00 P:A5 SP:FB PPU: 89, 20 CYC:10123
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0eb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0EB  A0 80     LDY #$80                        A:80 X:48 Y:00 P:25 SP:FB PPU: 89, 26 CYC:10125
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0ed, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0ED  8C 00 04  STY $0400 = 00                  A:80 X:48 Y:80 P:A5 SP:FB PPU: 89, 32 CYC:10127
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0f0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x80, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0F0  A0 00     LDY #$00                        A:80 X:48 Y:80 P:A5 SP:FB PPU: 89, 44 CYC:10131
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0f2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0F2  D9 00 04  CMP $0400,Y @ 0400 = 80         A:80 X:48 Y:00 P:27 SP:FB PPU: 89, 50 CYC:10133
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe0f5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0F5  D0 04     BNE $E0FB                       A:80 X:48 Y:00 P:27 SP:FB PPU: 89, 62 CYC:10137
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0f7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0F7  30 02     BMI $E0FB                       A:80 X:48 Y:00 P:27 SP:FB PPU: 89, 68 CYC:10139
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0f9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0F9  B0 02     BCS $E0FD                       A:80 X:48 Y:00 P:27 SP:FB PPU: 89, 74 CYC:10141
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe0fd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x48, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0FD  E8        INX                             A:80 X:48 Y:00 P:27 SP:FB PPU: 89, 83 CYC:10144
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe0fe, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x49, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E0FE  EE 00 04  INC $0400 = 80                  A:80 X:49 Y:00 P:25 SP:FB PPU: 89, 89 CYC:10146
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe101, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x49, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E101  D9 00 04  CMP $0400,Y @ 0400 = 81         A:80 X:49 Y:00 P:A5 SP:FB PPU: 89,107 CYC:10152
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe104, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x49, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E104  B0 04     BCS $E10A                       A:80 X:49 Y:00 P:A4 SP:FB PPU: 89,119 CYC:10156
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe106, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x49, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E106  F0 02     BEQ $E10A                       A:80 X:49 Y:00 P:A4 SP:FB PPU: 89,125 CYC:10158
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe108, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x49, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E108  30 02     BMI $E10C                       A:80 X:49 Y:00 P:A4 SP:FB PPU: 89,131 CYC:10160
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe10c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x49, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E10C  E8        INX                             A:80 X:49 Y:00 P:A4 SP:FB PPU: 89,140 CYC:10163
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe10d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E10D  CE 00 04  DEC $0400 = 81                  A:80 X:4A Y:00 P:24 SP:FB PPU: 89,146 CYC:10165
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe110, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E110  CE 00 04  DEC $0400 = 80                  A:80 X:4A Y:00 P:A4 SP:FB PPU: 89,164 CYC:10171
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe113, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E113  D9 00 04  CMP $0400,Y @ 0400 = 7F         A:80 X:4A Y:00 P:24 SP:FB PPU: 89,182 CYC:10177
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe116, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E116  90 04     BCC $E11C                       A:80 X:4A Y:00 P:25 SP:FB PPU: 89,194 CYC:10181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe118, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E118  F0 02     BEQ $E11C                       A:80 X:4A Y:00 P:25 SP:FB PPU: 89,200 CYC:10183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe11a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E11A  10 02     BPL $E11E                       A:80 X:4A Y:00 P:25 SP:FB PPU: 89,206 CYC:10185
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe11e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E11E  E8        INX                             A:80 X:4A Y:00 P:25 SP:FB PPU: 89,215 CYC:10188
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe11f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E11F  24 01     BIT $01 = FF                    A:80 X:4B Y:00 P:25 SP:FB PPU: 89,221 CYC:10190
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe121, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E121  A9 40     LDA #$40                        A:80 X:4B Y:00 P:E5 SP:FB PPU: 89,230 CYC:10193
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe123, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E123  8D 00 04  STA $0400 = 7F                  A:40 X:4B Y:00 P:65 SP:FB PPU: 89,236 CYC:10195
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe126, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E126  38        SEC                             A:40 X:4B Y:00 P:65 SP:FB PPU: 89,248 CYC:10199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe127, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E127  F9 00 04  SBC $0400,Y @ 0400 = 40         A:40 X:4B Y:00 P:65 SP:FB PPU: 89,254 CYC:10201
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe12a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E12A  30 0A     BMI $E136                       A:00 X:4B Y:00 P:27 SP:FB PPU: 89,266 CYC:10205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe12c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E12C  90 08     BCC $E136                       A:00 X:4B Y:00 P:27 SP:FB PPU: 89,272 CYC:10207
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe12e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E12E  D0 06     BNE $E136                       A:00 X:4B Y:00 P:27 SP:FB PPU: 89,278 CYC:10209
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe130, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E130  70 04     BVS $E136                       A:00 X:4B Y:00 P:27 SP:FB PPU: 89,284 CYC:10211
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe132, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E132  C9 00     CMP #$00                        A:00 X:4B Y:00 P:27 SP:FB PPU: 89,290 CYC:10213
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe134, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E134  F0 02     BEQ $E138                       A:00 X:4B Y:00 P:27 SP:FB PPU: 89,296 CYC:10215
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe138, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4b, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E138  E8        INX                             A:00 X:4B Y:00 P:27 SP:FB PPU: 89,305 CYC:10218
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe139, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E139  B8        CLV                             A:00 X:4C Y:00 P:25 SP:FB PPU: 89,311 CYC:10220
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe13a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E13A  38        SEC                             A:00 X:4C Y:00 P:25 SP:FB PPU: 89,317 CYC:10222
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe13b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E13B  A9 40     LDA #$40                        A:00 X:4C Y:00 P:25 SP:FB PPU: 89,323 CYC:10224
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe13d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E13D  CE 00 04  DEC $0400 = 40                  A:40 X:4C Y:00 P:25 SP:FB PPU: 89,329 CYC:10226
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe140, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E140  F9 00 04  SBC $0400,Y @ 0400 = 3F         A:40 X:4C Y:00 P:25 SP:FB PPU: 90,  6 CYC:10232
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe143, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E143  F0 0A     BEQ $E14F                       A:01 X:4C Y:00 P:25 SP:FB PPU: 90, 18 CYC:10236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe145, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E145  30 08     BMI $E14F                       A:01 X:4C Y:00 P:25 SP:FB PPU: 90, 24 CYC:10238
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe147, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E147  90 06     BCC $E14F                       A:01 X:4C Y:00 P:25 SP:FB PPU: 90, 30 CYC:10240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe149, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E149  70 04     BVS $E14F                       A:01 X:4C Y:00 P:25 SP:FB PPU: 90, 36 CYC:10242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe14b, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E14B  C9 01     CMP #$01                        A:01 X:4C Y:00 P:25 SP:FB PPU: 90, 42 CYC:10244
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe14d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E14D  F0 02     BEQ $E151                       A:01 X:4C Y:00 P:27 SP:FB PPU: 90, 48 CYC:10246
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe151, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4c, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E151  E8        INX                             A:01 X:4C Y:00 P:27 SP:FB PPU: 90, 57 CYC:10249
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe152, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E152  A9 40     LDA #$40                        A:01 X:4D Y:00 P:25 SP:FB PPU: 90, 63 CYC:10251
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe154, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E154  38        SEC                             A:40 X:4D Y:00 P:25 SP:FB PPU: 90, 69 CYC:10253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe155, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E155  24 01     BIT $01 = FF                    A:40 X:4D Y:00 P:25 SP:FB PPU: 90, 75 CYC:10255
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe157, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E157  EE 00 04  INC $0400 = 3F                  A:40 X:4D Y:00 P:E5 SP:FB PPU: 90, 84 CYC:10258
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe15a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E15A  EE 00 04  INC $0400 = 40                  A:40 X:4D Y:00 P:65 SP:FB PPU: 90,102 CYC:10264
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe15d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E15D  F9 00 04  SBC $0400,Y @ 0400 = 41         A:40 X:4D Y:00 P:65 SP:FB PPU: 90,120 CYC:10270
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe160, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E160  B0 0A     BCS $E16C                       A:FF X:4D Y:00 P:A4 SP:FB PPU: 90,132 CYC:10274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe162, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E162  F0 08     BEQ $E16C                       A:FF X:4D Y:00 P:A4 SP:FB PPU: 90,138 CYC:10276
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe164, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E164  10 06     BPL $E16C                       A:FF X:4D Y:00 P:A4 SP:FB PPU: 90,144 CYC:10278
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe166, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E166  70 04     BVS $E16C                       A:FF X:4D Y:00 P:A4 SP:FB PPU: 90,150 CYC:10280
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe168, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E168  C9 FF     CMP #$FF                        A:FF X:4D Y:00 P:A4 SP:FB PPU: 90,156 CYC:10282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe16a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E16A  F0 02     BEQ $E16E                       A:FF X:4D Y:00 P:27 SP:FB PPU: 90,162 CYC:10284
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe16e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4d, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E16E  E8        INX                             A:FF X:4D Y:00 P:27 SP:FB PPU: 90,171 CYC:10287
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe16f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E16F  18        CLC                             A:FF X:4E Y:00 P:25 SP:FB PPU: 90,177 CYC:10289
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe170, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E170  A9 00     LDA #$00                        A:FF X:4E Y:00 P:24 SP:FB PPU: 90,183 CYC:10291
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe172, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E172  8D 00 04  STA $0400 = 41                  A:00 X:4E Y:00 P:26 SP:FB PPU: 90,189 CYC:10293
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe175, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E175  A9 80     LDA #$80                        A:00 X:4E Y:00 P:26 SP:FB PPU: 90,201 CYC:10297
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe177, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E177  F9 00 04  SBC $0400,Y @ 0400 = 00         A:80 X:4E Y:00 P:A4 SP:FB PPU: 90,207 CYC:10299
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe17a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E17A  90 04     BCC $E180                       A:7F X:4E Y:00 P:65 SP:FB PPU: 90,219 CYC:10303
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe17c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E17C  C9 7F     CMP #$7F                        A:7F X:4E Y:00 P:65 SP:FB PPU: 90,225 CYC:10305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe17e, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E17E  F0 02     BEQ $E182                       A:7F X:4E Y:00 P:67 SP:FB PPU: 90,231 CYC:10307
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe182, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4e, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E182  E8        INX                             A:7F X:4E Y:00 P:67 SP:FB PPU: 90,240 CYC:10310
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe183, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E183  38        SEC                             A:7F X:4F Y:00 P:65 SP:FB PPU: 90,246 CYC:10312
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe184, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E184  A9 7F     LDA #$7F                        A:7F X:4F Y:00 P:65 SP:FB PPU: 90,252 CYC:10314
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe186, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E186  8D 00 04  STA $0400 = 00                  A:7F X:4F Y:00 P:65 SP:FB PPU: 90,258 CYC:10316
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe189, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E189  A9 81     LDA #$81                        A:7F X:4F Y:00 P:65 SP:FB PPU: 90,270 CYC:10320
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe18b, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E18B  F9 00 04  SBC $0400,Y @ 0400 = 7F         A:81 X:4F Y:00 P:E5 SP:FB PPU: 90,276 CYC:10322
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe18e, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E18E  50 06     BVC $E196                       A:02 X:4F Y:00 P:65 SP:FB PPU: 90,288 CYC:10326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe190, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E190  90 04     BCC $E196                       A:02 X:4F Y:00 P:65 SP:FB PPU: 90,294 CYC:10328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe192, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E192  C9 02     CMP #$02                        A:02 X:4F Y:00 P:65 SP:FB PPU: 90,300 CYC:10330
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe194, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E194  F0 02     BEQ $E198                       A:02 X:4F Y:00 P:67 SP:FB PPU: 90,306 CYC:10332
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe198, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x4f, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E198  E8        INX                             A:02 X:4F Y:00 P:67 SP:FB PPU: 90,315 CYC:10335
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe199, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E199  A9 00     LDA #$00                        A:02 X:50 Y:00 P:65 SP:FB PPU: 90,321 CYC:10337
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe19b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E19B  A9 87     LDA #$87                        A:00 X:50 Y:00 P:67 SP:FB PPU: 90,327 CYC:10339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe19d, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E19D  99 00 04  STA $0400,Y @ 0400 = 7F         A:87 X:50 Y:00 P:E5 SP:FB PPU: 90,333 CYC:10341
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe1a0, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1A0  AD 00 04  LDA $0400 = 87                  A:87 X:50 Y:00 P:E5 SP:FB PPU: 91,  7 CYC:10346
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe1a3, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1A3  C9 87     CMP #$87                        A:87 X:50 Y:00 P:E5 SP:FB PPU: 91, 19 CYC:10350
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1a5, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1A5  F0 02     BEQ $E1A9                       A:87 X:50 Y:00 P:67 SP:FB PPU: 91, 25 CYC:10352
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe1a9, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1A9  60        RTS                             A:87 X:50 Y:00 P:67 SP:FB PPU: 91, 34 CYC:10355
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc629, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C629  20 B8 DB  JSR $DBB8                       A:87 X:50 Y:00 P:67 SP:FD PPU: 91, 52 CYC:10361
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdbb8, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBB8  A9 FF     LDA #$FF                        A:87 X:50 Y:00 P:67 SP:FB PPU: 91, 70 CYC:10367
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbba, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBBA  85 01     STA $01 = FF                    A:FF X:50 Y:00 P:E5 SP:FB PPU: 91, 76 CYC:10369
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdbbc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBBC  A9 AA     LDA #$AA                        A:FF X:50 Y:00 P:E5 SP:FB PPU: 91, 85 CYC:10372
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbbe, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBBE  85 33     STA $33 = A3                    A:AA X:50 Y:00 P:E5 SP:FB PPU: 91, 91 CYC:10374
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdbc0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBC0  A9 BB     LDA #$BB                        A:AA X:50 Y:00 P:E5 SP:FB PPU: 91,100 CYC:10377
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbc2, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBC2  85 89     STA $89 = 00                    A:BB X:50 Y:00 P:E5 SP:FB PPU: 91,106 CYC:10379
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdbc4, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x50, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBC4  A2 00     LDX #$00                        A:BB X:50 Y:00 P:E5 SP:FB PPU: 91,115 CYC:10382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbc6, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBC6  A9 66     LDA #$66                        A:BB X:00 Y:00 P:67 SP:FB PPU: 91,121 CYC:10384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbc8, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBC8  24 01     BIT $01 = FF                    A:66 X:00 Y:00 P:65 SP:FB PPU: 91,127 CYC:10386
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdbca, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBCA  38        SEC                             A:66 X:00 Y:00 P:E5 SP:FB PPU: 91,136 CYC:10389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbcb, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBCB  A0 00     LDY #$00                        A:66 X:00 Y:00 P:E5 SP:FB PPU: 91,142 CYC:10391
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbcd, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBCD  B4 33     LDY $33,X @ 33 = AA             A:66 X:00 Y:00 P:67 SP:FB PPU: 91,148 CYC:10393
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdbcf, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBCF  10 12     BPL $DBE3                       A:66 X:00 Y:AA P:E5 SP:FB PPU: 91,160 CYC:10397
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbd1, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBD1  F0 10     BEQ $DBE3                       A:66 X:00 Y:AA P:E5 SP:FB PPU: 91,166 CYC:10399
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbd3, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBD3  50 0E     BVC $DBE3                       A:66 X:00 Y:AA P:E5 SP:FB PPU: 91,172 CYC:10401
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbd5, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBD5  90 0C     BCC $DBE3                       A:66 X:00 Y:AA P:E5 SP:FB PPU: 91,178 CYC:10403
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbd7, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBD7  C9 66     CMP #$66                        A:66 X:00 Y:AA P:E5 SP:FB PPU: 91,184 CYC:10405
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbd9, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBD9  D0 08     BNE $DBE3                       A:66 X:00 Y:AA P:67 SP:FB PPU: 91,190 CYC:10407
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbdb, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBDB  E0 00     CPX #$00                        A:66 X:00 Y:AA P:67 SP:FB PPU: 91,196 CYC:10409
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbdd, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBDD  D0 04     BNE $DBE3                       A:66 X:00 Y:AA P:67 SP:FB PPU: 91,202 CYC:10411
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbdf, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBDF  C0 AA     CPY #$AA                        A:66 X:00 Y:AA P:67 SP:FB PPU: 91,208 CYC:10413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbe1, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBE1  F0 04     BEQ $DBE7                       A:66 X:00 Y:AA P:67 SP:FB PPU: 91,214 CYC:10415
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdbe7, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBE7  A2 8A     LDX #$8A                        A:66 X:00 Y:AA P:67 SP:FB PPU: 91,223 CYC:10418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbe9, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBE9  A9 66     LDA #$66                        A:66 X:8A Y:AA P:E5 SP:FB PPU: 91,229 CYC:10420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbeb, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBEB  B8        CLV                             A:66 X:8A Y:AA P:65 SP:FB PPU: 91,235 CYC:10422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbec, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBEC  18        CLC                             A:66 X:8A Y:AA P:25 SP:FB PPU: 91,241 CYC:10424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbed, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBED  A0 00     LDY #$00                        A:66 X:8A Y:AA P:24 SP:FB PPU: 91,247 CYC:10426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbef, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBEF  B4 FF     LDY $FF,X @ 89 = BB             A:66 X:8A Y:00 P:26 SP:FB PPU: 91,253 CYC:10428
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdbf1, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBF1  10 12     BPL $DC05                       A:66 X:8A Y:BB P:A4 SP:FB PPU: 91,265 CYC:10432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbf3, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBF3  F0 10     BEQ $DC05                       A:66 X:8A Y:BB P:A4 SP:FB PPU: 91,271 CYC:10434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbf5, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBF5  70 0E     BVS $DC05                       A:66 X:8A Y:BB P:A4 SP:FB PPU: 91,277 CYC:10436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbf7, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBF7  B0 0C     BCS $DC05                       A:66 X:8A Y:BB P:A4 SP:FB PPU: 91,283 CYC:10438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbf9, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBF9  C0 BB     CPY #$BB                        A:66 X:8A Y:BB P:A4 SP:FB PPU: 91,289 CYC:10440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbfb, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBFB  D0 08     BNE $DC05                       A:66 X:8A Y:BB P:27 SP:FB PPU: 91,295 CYC:10442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbfd, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBFD  C9 66     CMP #$66                        A:66 X:8A Y:BB P:27 SP:FB PPU: 91,301 CYC:10444
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdbff, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DBFF  D0 04     BNE $DC05                       A:66 X:8A Y:BB P:27 SP:FB PPU: 91,307 CYC:10446
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc01, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC01  E0 8A     CPX #$8A                        A:66 X:8A Y:BB P:27 SP:FB PPU: 91,313 CYC:10448
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc03, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC03  F0 04     BEQ $DC09                       A:66 X:8A Y:BB P:27 SP:FB PPU: 91,319 CYC:10450
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc09, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC09  24 01     BIT $01 = FF                    A:66 X:8A Y:BB P:27 SP:FB PPU: 91,328 CYC:10453
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc0b, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC0B  38        SEC                             A:66 X:8A Y:BB P:E5 SP:FB PPU: 91,337 CYC:10456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc0c, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC0C  A0 44     LDY #$44                        A:66 X:8A Y:BB P:E5 SP:FB PPU: 92,  2 CYC:10458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc0e, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC0E  A2 00     LDX #$00                        A:66 X:8A Y:44 P:65 SP:FB PPU: 92,  8 CYC:10460
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc10, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC10  94 33     STY $33,X @ 33 = AA             A:66 X:00 Y:44 P:67 SP:FB PPU: 92, 14 CYC:10462
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc12, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC12  A5 33     LDA $33 = 44                    A:66 X:00 Y:44 P:67 SP:FB PPU: 92, 26 CYC:10466
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc14, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC14  90 18     BCC $DC2E                       A:44 X:00 Y:44 P:65 SP:FB PPU: 92, 35 CYC:10469
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc16, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC16  C9 44     CMP #$44                        A:44 X:00 Y:44 P:65 SP:FB PPU: 92, 41 CYC:10471
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc18, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC18  D0 14     BNE $DC2E                       A:44 X:00 Y:44 P:67 SP:FB PPU: 92, 47 CYC:10473
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc1a, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC1A  50 12     BVC $DC2E                       A:44 X:00 Y:44 P:67 SP:FB PPU: 92, 53 CYC:10475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc1c, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC1C  18        CLC                             A:44 X:00 Y:44 P:67 SP:FB PPU: 92, 59 CYC:10477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc1d, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC1D  B8        CLV                             A:44 X:00 Y:44 P:66 SP:FB PPU: 92, 65 CYC:10479
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc1e, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC1E  A0 99     LDY #$99                        A:44 X:00 Y:44 P:26 SP:FB PPU: 92, 71 CYC:10481
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc20, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC20  A2 80     LDX #$80                        A:44 X:00 Y:99 P:A4 SP:FB PPU: 92, 77 CYC:10483
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc22, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC22  94 85     STY $85,X @ 05 = 00             A:44 X:80 Y:99 P:A4 SP:FB PPU: 92, 83 CYC:10485
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc24, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC24  A5 05     LDA $05 = 99                    A:44 X:80 Y:99 P:A4 SP:FB PPU: 92, 95 CYC:10489
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc26, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC26  B0 06     BCS $DC2E                       A:99 X:80 Y:99 P:A4 SP:FB PPU: 92,104 CYC:10492
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc28, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC28  C9 99     CMP #$99                        A:99 X:80 Y:99 P:A4 SP:FB PPU: 92,110 CYC:10494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc2a, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC2A  D0 02     BNE $DC2E                       A:99 X:80 Y:99 P:27 SP:FB PPU: 92,116 CYC:10496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc2c, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC2C  50 04     BVC $DC32                       A:99 X:80 Y:99 P:27 SP:FB PPU: 92,122 CYC:10498
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc32, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC32  A0 0B     LDY #$0B                        A:99 X:80 Y:99 P:27 SP:FB PPU: 92,131 CYC:10501
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc34, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC34  A9 AA     LDA #$AA                        A:99 X:80 Y:0B P:25 SP:FB PPU: 92,137 CYC:10503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc36, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC36  A2 78     LDX #$78                        A:AA X:80 Y:0B P:A5 SP:FB PPU: 92,143 CYC:10505
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc38, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC38  85 78     STA $78 = 00                    A:AA X:78 Y:0B P:25 SP:FB PPU: 92,149 CYC:10507
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc3a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC3A  20 B6 F7  JSR $F7B6                       A:AA X:78 Y:0B P:25 SP:FB PPU: 92,158 CYC:10510
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B6  18        CLC                             A:AA X:78 Y:0B P:25 SP:F9 PPU: 92,176 CYC:10516
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B7  A9 FF     LDA #$FF                        A:AA X:78 Y:0B P:24 SP:F9 PPU: 92,182 CYC:10518
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B9  85 01     STA $01 = FF                    A:FF X:78 Y:0B P:A4 SP:F9 PPU: 92,188 CYC:10520
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BB  24 01     BIT $01 = FF                    A:FF X:78 Y:0B P:A4 SP:F9 PPU: 92,197 CYC:10523
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BD  A9 55     LDA #$55                        A:FF X:78 Y:0B P:E4 SP:F9 PPU: 92,206 CYC:10526
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BF  60        RTS                             A:55 X:78 Y:0B P:64 SP:F9 PPU: 92,212 CYC:10528
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc3d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC3D  15 00     ORA $00,X @ 78 = AA             A:55 X:78 Y:0B P:64 SP:FB PPU: 92,230 CYC:10534
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc3f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC3F  20 C0 F7  JSR $F7C0                       A:FF X:78 Y:0B P:E4 SP:FB PPU: 92,242 CYC:10538
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C0  B0 09     BCS $F7CB                       A:FF X:78 Y:0B P:E4 SP:F9 PPU: 92,260 CYC:10544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C2  10 07     BPL $F7CB                       A:FF X:78 Y:0B P:E4 SP:F9 PPU: 92,266 CYC:10546
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C4  C9 FF     CMP #$FF                        A:FF X:78 Y:0B P:E4 SP:F9 PPU: 92,272 CYC:10548
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C6  D0 03     BNE $F7CB                       A:FF X:78 Y:0B P:67 SP:F9 PPU: 92,278 CYC:10550
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C8  50 01     BVC $F7CB                       A:FF X:78 Y:0B P:67 SP:F9 PPU: 92,284 CYC:10552
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ca, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CA  60        RTS                             A:FF X:78 Y:0B P:67 SP:F9 PPU: 92,290 CYC:10554
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc42, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC42  C8        INY                             A:FF X:78 Y:0B P:67 SP:FB PPU: 92,308 CYC:10560
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc43, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC43  A9 00     LDA #$00                        A:FF X:78 Y:0C P:65 SP:FB PPU: 92,314 CYC:10562
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc45, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC45  85 78     STA $78 = AA                    A:00 X:78 Y:0C P:67 SP:FB PPU: 92,320 CYC:10564
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc47, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC47  20 CE F7  JSR $F7CE                       A:00 X:78 Y:0C P:67 SP:FB PPU: 92,329 CYC:10567
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ce, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CE  38        SEC                             A:00 X:78 Y:0C P:67 SP:F9 PPU: 93,  6 CYC:10573
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CF  B8        CLV                             A:00 X:78 Y:0C P:67 SP:F9 PPU: 93, 12 CYC:10575
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D0  A9 00     LDA #$00                        A:00 X:78 Y:0C P:27 SP:F9 PPU: 93, 18 CYC:10577
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D2  60        RTS                             A:00 X:78 Y:0C P:27 SP:F9 PPU: 93, 24 CYC:10579
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc4a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC4A  15 00     ORA $00,X @ 78 = 00             A:00 X:78 Y:0C P:27 SP:FB PPU: 93, 42 CYC:10585
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc4c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC4C  20 D3 F7  JSR $F7D3                       A:00 X:78 Y:0C P:27 SP:FB PPU: 93, 54 CYC:10589
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D3  D0 07     BNE $F7DC                       A:00 X:78 Y:0C P:27 SP:F9 PPU: 93, 72 CYC:10595
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D5  70 05     BVS $F7DC                       A:00 X:78 Y:0C P:27 SP:F9 PPU: 93, 78 CYC:10597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D7  90 03     BCC $F7DC                       A:00 X:78 Y:0C P:27 SP:F9 PPU: 93, 84 CYC:10599
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D9  30 01     BMI $F7DC                       A:00 X:78 Y:0C P:27 SP:F9 PPU: 93, 90 CYC:10601
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7db, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DB  60        RTS                             A:00 X:78 Y:0C P:27 SP:F9 PPU: 93, 96 CYC:10603
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc4f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC4F  C8        INY                             A:00 X:78 Y:0C P:27 SP:FB PPU: 93,114 CYC:10609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc50, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC50  A9 AA     LDA #$AA                        A:00 X:78 Y:0D P:25 SP:FB PPU: 93,120 CYC:10611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc52, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC52  85 78     STA $78 = 00                    A:AA X:78 Y:0D P:A5 SP:FB PPU: 93,126 CYC:10613
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc54, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC54  20 DF F7  JSR $F7DF                       A:AA X:78 Y:0D P:A5 SP:FB PPU: 93,135 CYC:10616
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7df, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DF  18        CLC                             A:AA X:78 Y:0D P:A5 SP:F9 PPU: 93,153 CYC:10622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E0  24 01     BIT $01 = FF                    A:AA X:78 Y:0D P:A4 SP:F9 PPU: 93,159 CYC:10624
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E2  A9 55     LDA #$55                        A:AA X:78 Y:0D P:E4 SP:F9 PPU: 93,168 CYC:10627
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E4  60        RTS                             A:55 X:78 Y:0D P:64 SP:F9 PPU: 93,174 CYC:10629
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc57, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC57  35 00     AND $00,X @ 78 = AA             A:55 X:78 Y:0D P:64 SP:FB PPU: 93,192 CYC:10635
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc59, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC59  20 E5 F7  JSR $F7E5                       A:00 X:78 Y:0D P:66 SP:FB PPU: 93,204 CYC:10639
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E5  D0 07     BNE $F7EE                       A:00 X:78 Y:0D P:66 SP:F9 PPU: 93,222 CYC:10645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E7  50 05     BVC $F7EE                       A:00 X:78 Y:0D P:66 SP:F9 PPU: 93,228 CYC:10647
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E9  B0 03     BCS $F7EE                       A:00 X:78 Y:0D P:66 SP:F9 PPU: 93,234 CYC:10649
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7eb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7EB  30 01     BMI $F7EE                       A:00 X:78 Y:0D P:66 SP:F9 PPU: 93,240 CYC:10651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ed, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7ED  60        RTS                             A:00 X:78 Y:0D P:66 SP:F9 PPU: 93,246 CYC:10653
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc5c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC5C  C8        INY                             A:00 X:78 Y:0D P:66 SP:FB PPU: 93,264 CYC:10659
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc5d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC5D  A9 EF     LDA #$EF                        A:00 X:78 Y:0E P:64 SP:FB PPU: 93,270 CYC:10661
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc5f, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC5F  85 78     STA $78 = AA                    A:EF X:78 Y:0E P:E4 SP:FB PPU: 93,276 CYC:10663
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc61, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC61  20 F1 F7  JSR $F7F1                       A:EF X:78 Y:0E P:E4 SP:FB PPU: 93,285 CYC:10666
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f1, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F1  38        SEC                             A:EF X:78 Y:0E P:E4 SP:F9 PPU: 93,303 CYC:10672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f2, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F2  B8        CLV                             A:EF X:78 Y:0E P:E5 SP:F9 PPU: 93,309 CYC:10674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f3, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F3  A9 F8     LDA #$F8                        A:EF X:78 Y:0E P:A5 SP:F9 PPU: 93,315 CYC:10676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f5, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F5  60        RTS                             A:F8 X:78 Y:0E P:A5 SP:F9 PPU: 93,321 CYC:10678
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc64, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC64  35 00     AND $00,X @ 78 = EF             A:F8 X:78 Y:0E P:A5 SP:FB PPU: 93,339 CYC:10684
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc66, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC66  20 F6 F7  JSR $F7F6                       A:E8 X:78 Y:0E P:A5 SP:FB PPU: 94, 10 CYC:10688
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f6, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F6  90 09     BCC $F801                       A:E8 X:78 Y:0E P:A5 SP:F9 PPU: 94, 28 CYC:10694
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f8, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F8  10 07     BPL $F801                       A:E8 X:78 Y:0E P:A5 SP:F9 PPU: 94, 34 CYC:10696
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fa, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FA  C9 E8     CMP #$E8                        A:E8 X:78 Y:0E P:A5 SP:F9 PPU: 94, 40 CYC:10698
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fc, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FC  D0 03     BNE $F801                       A:E8 X:78 Y:0E P:27 SP:F9 PPU: 94, 46 CYC:10700
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fe, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FE  70 01     BVS $F801                       A:E8 X:78 Y:0E P:27 SP:F9 PPU: 94, 52 CYC:10702
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf800, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F800  60        RTS                             A:E8 X:78 Y:0E P:27 SP:F9 PPU: 94, 58 CYC:10704
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc69, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC69  C8        INY                             A:E8 X:78 Y:0E P:27 SP:FB PPU: 94, 76 CYC:10710
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc6a, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC6A  A9 AA     LDA #$AA                        A:E8 X:78 Y:0F P:25 SP:FB PPU: 94, 82 CYC:10712
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc6c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC6C  85 78     STA $78 = EF                    A:AA X:78 Y:0F P:A5 SP:FB PPU: 94, 88 CYC:10714
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc6e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC6E  20 04 F8  JSR $F804                       A:AA X:78 Y:0F P:A5 SP:FB PPU: 94, 97 CYC:10717
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf804, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F804  18        CLC                             A:AA X:78 Y:0F P:A5 SP:F9 PPU: 94,115 CYC:10723
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf805, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F805  24 01     BIT $01 = FF                    A:AA X:78 Y:0F P:A4 SP:F9 PPU: 94,121 CYC:10725
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf807, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F807  A9 5F     LDA #$5F                        A:AA X:78 Y:0F P:E4 SP:F9 PPU: 94,130 CYC:10728
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf809, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F809  60        RTS                             A:5F X:78 Y:0F P:64 SP:F9 PPU: 94,136 CYC:10730
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc71, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC71  55 00     EOR $00,X @ 78 = AA             A:5F X:78 Y:0F P:64 SP:FB PPU: 94,154 CYC:10736
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc73, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC73  20 0A F8  JSR $F80A                       A:F5 X:78 Y:0F P:E4 SP:FB PPU: 94,166 CYC:10740
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf80a, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80A  B0 09     BCS $F815                       A:F5 X:78 Y:0F P:E4 SP:F9 PPU: 94,184 CYC:10746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80c, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80C  10 07     BPL $F815                       A:F5 X:78 Y:0F P:E4 SP:F9 PPU: 94,190 CYC:10748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80E  C9 F5     CMP #$F5                        A:F5 X:78 Y:0F P:E4 SP:F9 PPU: 94,196 CYC:10750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf810, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F810  D0 03     BNE $F815                       A:F5 X:78 Y:0F P:67 SP:F9 PPU: 94,202 CYC:10752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf812, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F812  50 01     BVC $F815                       A:F5 X:78 Y:0F P:67 SP:F9 PPU: 94,208 CYC:10754
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf814, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F814  60        RTS                             A:F5 X:78 Y:0F P:67 SP:F9 PPU: 94,214 CYC:10756
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc76, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC76  C8        INY                             A:F5 X:78 Y:0F P:67 SP:FB PPU: 94,232 CYC:10762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc77, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC77  A9 70     LDA #$70                        A:F5 X:78 Y:10 P:65 SP:FB PPU: 94,238 CYC:10764
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc79, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC79  85 78     STA $78 = AA                    A:70 X:78 Y:10 P:65 SP:FB PPU: 94,244 CYC:10766
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc7b, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC7B  20 18 F8  JSR $F818                       A:70 X:78 Y:10 P:65 SP:FB PPU: 94,253 CYC:10769
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf818, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F818  38        SEC                             A:70 X:78 Y:10 P:65 SP:F9 PPU: 94,271 CYC:10775
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf819, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F819  B8        CLV                             A:70 X:78 Y:10 P:65 SP:F9 PPU: 94,277 CYC:10777
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81a, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81A  A9 70     LDA #$70                        A:70 X:78 Y:10 P:25 SP:F9 PPU: 94,283 CYC:10779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81c, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81C  60        RTS                             A:70 X:78 Y:10 P:25 SP:F9 PPU: 94,289 CYC:10781
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc7e, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC7E  55 00     EOR $00,X @ 78 = 70             A:70 X:78 Y:10 P:25 SP:FB PPU: 94,307 CYC:10787
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc80, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC80  20 1D F8  JSR $F81D                       A:00 X:78 Y:10 P:27 SP:FB PPU: 94,319 CYC:10791
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf81d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81D  D0 07     BNE $F826                       A:00 X:78 Y:10 P:27 SP:F9 PPU: 94,337 CYC:10797
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81F  70 05     BVS $F826                       A:00 X:78 Y:10 P:27 SP:F9 PPU: 95,  2 CYC:10799
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf821, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F821  90 03     BCC $F826                       A:00 X:78 Y:10 P:27 SP:F9 PPU: 95,  8 CYC:10801
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf823, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F823  30 01     BMI $F826                       A:00 X:78 Y:10 P:27 SP:F9 PPU: 95, 14 CYC:10803
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf825, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F825  60        RTS                             A:00 X:78 Y:10 P:27 SP:F9 PPU: 95, 20 CYC:10805
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc83, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC83  C8        INY                             A:00 X:78 Y:10 P:27 SP:FB PPU: 95, 38 CYC:10811
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc84, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC84  A9 69     LDA #$69                        A:00 X:78 Y:11 P:25 SP:FB PPU: 95, 44 CYC:10813
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc86, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC86  85 78     STA $78 = 70                    A:69 X:78 Y:11 P:25 SP:FB PPU: 95, 50 CYC:10815
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc88, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC88  20 29 F8  JSR $F829                       A:69 X:78 Y:11 P:25 SP:FB PPU: 95, 59 CYC:10818
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf829, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F829  18        CLC                             A:69 X:78 Y:11 P:25 SP:F9 PPU: 95, 77 CYC:10824
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82A  24 01     BIT $01 = FF                    A:69 X:78 Y:11 P:24 SP:F9 PPU: 95, 83 CYC:10826
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf82c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82C  A9 00     LDA #$00                        A:69 X:78 Y:11 P:E4 SP:F9 PPU: 95, 92 CYC:10829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82E  60        RTS                             A:00 X:78 Y:11 P:66 SP:F9 PPU: 95, 98 CYC:10831
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc8b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC8B  75 00     ADC $00,X @ 78 = 69             A:00 X:78 Y:11 P:66 SP:FB PPU: 95,116 CYC:10837
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc8d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC8D  20 2F F8  JSR $F82F                       A:69 X:78 Y:11 P:24 SP:FB PPU: 95,128 CYC:10841
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf82f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82F  30 09     BMI $F83A                       A:69 X:78 Y:11 P:24 SP:F9 PPU: 95,146 CYC:10847
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf831, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F831  B0 07     BCS $F83A                       A:69 X:78 Y:11 P:24 SP:F9 PPU: 95,152 CYC:10849
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf833, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F833  C9 69     CMP #$69                        A:69 X:78 Y:11 P:24 SP:F9 PPU: 95,158 CYC:10851
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf835, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F835  D0 03     BNE $F83A                       A:69 X:78 Y:11 P:27 SP:F9 PPU: 95,164 CYC:10853
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf837, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F837  70 01     BVS $F83A                       A:69 X:78 Y:11 P:27 SP:F9 PPU: 95,170 CYC:10855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf839, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F839  60        RTS                             A:69 X:78 Y:11 P:27 SP:F9 PPU: 95,176 CYC:10857
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc90, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC90  C8        INY                             A:69 X:78 Y:11 P:27 SP:FB PPU: 95,194 CYC:10863
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc91, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC91  20 3D F8  JSR $F83D                       A:69 X:78 Y:12 P:25 SP:FB PPU: 95,200 CYC:10865
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf83d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83D  38        SEC                             A:69 X:78 Y:12 P:25 SP:F9 PPU: 95,218 CYC:10871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf83e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83E  24 01     BIT $01 = FF                    A:69 X:78 Y:12 P:25 SP:F9 PPU: 95,224 CYC:10873
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf840, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F840  A9 00     LDA #$00                        A:69 X:78 Y:12 P:E5 SP:F9 PPU: 95,233 CYC:10876
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf842, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F842  60        RTS                             A:00 X:78 Y:12 P:67 SP:F9 PPU: 95,239 CYC:10878
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc94, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC94  75 00     ADC $00,X @ 78 = 69             A:00 X:78 Y:12 P:67 SP:FB PPU: 95,257 CYC:10884
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdc96, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC96  20 43 F8  JSR $F843                       A:6A X:78 Y:12 P:24 SP:FB PPU: 95,269 CYC:10888
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf843, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F843  30 09     BMI $F84E                       A:6A X:78 Y:12 P:24 SP:F9 PPU: 95,287 CYC:10894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf845, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F845  B0 07     BCS $F84E                       A:6A X:78 Y:12 P:24 SP:F9 PPU: 95,293 CYC:10896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf847, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F847  C9 6A     CMP #$6A                        A:6A X:78 Y:12 P:24 SP:F9 PPU: 95,299 CYC:10898
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf849, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F849  D0 03     BNE $F84E                       A:6A X:78 Y:12 P:27 SP:F9 PPU: 95,305 CYC:10900
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84b, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84B  70 01     BVS $F84E                       A:6A X:78 Y:12 P:27 SP:F9 PPU: 95,311 CYC:10902
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84d, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84D  60        RTS                             A:6A X:78 Y:12 P:27 SP:F9 PPU: 95,317 CYC:10904
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdc99, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC99  C8        INY                             A:6A X:78 Y:12 P:27 SP:FB PPU: 95,335 CYC:10910
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc9a, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC9A  A9 7F     LDA #$7F                        A:6A X:78 Y:13 P:25 SP:FB PPU: 96,  0 CYC:10912
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdc9c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC9C  85 78     STA $78 = 69                    A:7F X:78 Y:13 P:25 SP:FB PPU: 96,  6 CYC:10914
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdc9e, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DC9E  20 51 F8  JSR $F851                       A:7F X:78 Y:13 P:25 SP:FB PPU: 96, 15 CYC:10917
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf851, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F851  38        SEC                             A:7F X:78 Y:13 P:25 SP:F9 PPU: 96, 33 CYC:10923
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf852, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F852  B8        CLV                             A:7F X:78 Y:13 P:25 SP:F9 PPU: 96, 39 CYC:10925
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf853, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F853  A9 7F     LDA #$7F                        A:7F X:78 Y:13 P:25 SP:F9 PPU: 96, 45 CYC:10927
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf855, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F855  60        RTS                             A:7F X:78 Y:13 P:25 SP:F9 PPU: 96, 51 CYC:10929
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdca1, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCA1  75 00     ADC $00,X @ 78 = 7F             A:7F X:78 Y:13 P:25 SP:FB PPU: 96, 69 CYC:10935
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdca3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCA3  20 56 F8  JSR $F856                       A:FF X:78 Y:13 P:E4 SP:FB PPU: 96, 81 CYC:10939
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf856, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F856  10 09     BPL $F861                       A:FF X:78 Y:13 P:E4 SP:F9 PPU: 96, 99 CYC:10945
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf858, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F858  B0 07     BCS $F861                       A:FF X:78 Y:13 P:E4 SP:F9 PPU: 96,105 CYC:10947
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85A  C9 FF     CMP #$FF                        A:FF X:78 Y:13 P:E4 SP:F9 PPU: 96,111 CYC:10949
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85C  D0 03     BNE $F861                       A:FF X:78 Y:13 P:67 SP:F9 PPU: 96,117 CYC:10951
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85E  50 01     BVC $F861                       A:FF X:78 Y:13 P:67 SP:F9 PPU: 96,123 CYC:10953
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf860, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F860  60        RTS                             A:FF X:78 Y:13 P:67 SP:F9 PPU: 96,129 CYC:10955
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdca6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCA6  C8        INY                             A:FF X:78 Y:13 P:67 SP:FB PPU: 96,147 CYC:10961
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdca7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCA7  A9 80     LDA #$80                        A:FF X:78 Y:14 P:65 SP:FB PPU: 96,153 CYC:10963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdca9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCA9  85 78     STA $78 = 7F                    A:80 X:78 Y:14 P:E5 SP:FB PPU: 96,159 CYC:10965
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdcab, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCAB  20 64 F8  JSR $F864                       A:80 X:78 Y:14 P:E5 SP:FB PPU: 96,168 CYC:10968
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf864, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F864  18        CLC                             A:80 X:78 Y:14 P:E5 SP:F9 PPU: 96,186 CYC:10974
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf865, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F865  24 01     BIT $01 = FF                    A:80 X:78 Y:14 P:E4 SP:F9 PPU: 96,192 CYC:10976
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf867, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F867  A9 7F     LDA #$7F                        A:80 X:78 Y:14 P:E4 SP:F9 PPU: 96,201 CYC:10979
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf869, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F869  60        RTS                             A:7F X:78 Y:14 P:64 SP:F9 PPU: 96,207 CYC:10981
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcae, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCAE  75 00     ADC $00,X @ 78 = 80             A:7F X:78 Y:14 P:64 SP:FB PPU: 96,225 CYC:10987
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcb0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCB0  20 6A F8  JSR $F86A                       A:FF X:78 Y:14 P:A4 SP:FB PPU: 96,237 CYC:10991
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf86a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86A  10 09     BPL $F875                       A:FF X:78 Y:14 P:A4 SP:F9 PPU: 96,255 CYC:10997
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86C  B0 07     BCS $F875                       A:FF X:78 Y:14 P:A4 SP:F9 PPU: 96,261 CYC:10999
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86E  C9 FF     CMP #$FF                        A:FF X:78 Y:14 P:A4 SP:F9 PPU: 96,267 CYC:11001
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf870, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F870  D0 03     BNE $F875                       A:FF X:78 Y:14 P:27 SP:F9 PPU: 96,273 CYC:11003
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf872, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F872  70 01     BVS $F875                       A:FF X:78 Y:14 P:27 SP:F9 PPU: 96,279 CYC:11005
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf874, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F874  60        RTS                             A:FF X:78 Y:14 P:27 SP:F9 PPU: 96,285 CYC:11007
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcb3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCB3  C8        INY                             A:FF X:78 Y:14 P:27 SP:FB PPU: 96,303 CYC:11013
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcb4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCB4  20 78 F8  JSR $F878                       A:FF X:78 Y:15 P:25 SP:FB PPU: 96,309 CYC:11015
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf878, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F878  38        SEC                             A:FF X:78 Y:15 P:25 SP:F9 PPU: 96,327 CYC:11021
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf879, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F879  B8        CLV                             A:FF X:78 Y:15 P:25 SP:F9 PPU: 96,333 CYC:11023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87A  A9 7F     LDA #$7F                        A:FF X:78 Y:15 P:25 SP:F9 PPU: 96,339 CYC:11025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87C  60        RTS                             A:7F X:78 Y:15 P:25 SP:F9 PPU: 97,  4 CYC:11027
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcb7, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCB7  75 00     ADC $00,X @ 78 = 80             A:7F X:78 Y:15 P:25 SP:FB PPU: 97, 22 CYC:11033
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcb9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCB9  20 7D F8  JSR $F87D                       A:00 X:78 Y:15 P:27 SP:FB PPU: 97, 34 CYC:11037
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf87d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87D  D0 07     BNE $F886                       A:00 X:78 Y:15 P:27 SP:F9 PPU: 97, 52 CYC:11043
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87F  30 05     BMI $F886                       A:00 X:78 Y:15 P:27 SP:F9 PPU: 97, 58 CYC:11045
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf881, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F881  70 03     BVS $F886                       A:00 X:78 Y:15 P:27 SP:F9 PPU: 97, 64 CYC:11047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf883, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F883  90 01     BCC $F886                       A:00 X:78 Y:15 P:27 SP:F9 PPU: 97, 70 CYC:11049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf885, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F885  60        RTS                             A:00 X:78 Y:15 P:27 SP:F9 PPU: 97, 76 CYC:11051
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcbc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCBC  C8        INY                             A:00 X:78 Y:15 P:27 SP:FB PPU: 97, 94 CYC:11057
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcbd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCBD  A9 40     LDA #$40                        A:00 X:78 Y:16 P:25 SP:FB PPU: 97,100 CYC:11059
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcbf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCBF  85 78     STA $78 = 80                    A:40 X:78 Y:16 P:25 SP:FB PPU: 97,106 CYC:11061
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdcc1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCC1  20 89 F8  JSR $F889                       A:40 X:78 Y:16 P:25 SP:FB PPU: 97,115 CYC:11064
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf889, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F889  24 01     BIT $01 = FF                    A:40 X:78 Y:16 P:25 SP:F9 PPU: 97,133 CYC:11070
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf88b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88B  A9 40     LDA #$40                        A:40 X:78 Y:16 P:E5 SP:F9 PPU: 97,142 CYC:11073
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf88d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88D  60        RTS                             A:40 X:78 Y:16 P:65 SP:F9 PPU: 97,148 CYC:11075
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcc4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCC4  D5 00     CMP $00,X @ 78 = 40             A:40 X:78 Y:16 P:65 SP:FB PPU: 97,166 CYC:11081
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcc6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCC6  20 8E F8  JSR $F88E                       A:40 X:78 Y:16 P:67 SP:FB PPU: 97,178 CYC:11085
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf88e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88E  30 07     BMI $F897                       A:40 X:78 Y:16 P:67 SP:F9 PPU: 97,196 CYC:11091
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf890, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F890  90 05     BCC $F897                       A:40 X:78 Y:16 P:67 SP:F9 PPU: 97,202 CYC:11093
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf892, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F892  D0 03     BNE $F897                       A:40 X:78 Y:16 P:67 SP:F9 PPU: 97,208 CYC:11095
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf894, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F894  50 01     BVC $F897                       A:40 X:78 Y:16 P:67 SP:F9 PPU: 97,214 CYC:11097
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf896, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F896  60        RTS                             A:40 X:78 Y:16 P:67 SP:F9 PPU: 97,220 CYC:11099
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcc9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x16, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCC9  C8        INY                             A:40 X:78 Y:16 P:67 SP:FB PPU: 97,238 CYC:11105
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcca, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCCA  48        PHA                             A:40 X:78 Y:17 P:65 SP:FB PPU: 97,244 CYC:11107
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdccb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCCB  A9 3F     LDA #$3F                        A:40 X:78 Y:17 P:65 SP:FA PPU: 97,253 CYC:11110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdccd, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCCD  85 78     STA $78 = 40                    A:3F X:78 Y:17 P:65 SP:FA PPU: 97,259 CYC:11112
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdccf, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCCF  68        PLA                             A:3F X:78 Y:17 P:65 SP:FA PPU: 97,268 CYC:11115
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcd0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCD0  20 9A F8  JSR $F89A                       A:40 X:78 Y:17 P:65 SP:FB PPU: 97,280 CYC:11119
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89A  B8        CLV                             A:40 X:78 Y:17 P:65 SP:F9 PPU: 97,298 CYC:11125
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89B  60        RTS                             A:40 X:78 Y:17 P:25 SP:F9 PPU: 97,304 CYC:11127
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcd3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCD3  D5 00     CMP $00,X @ 78 = 3F             A:40 X:78 Y:17 P:25 SP:FB PPU: 97,322 CYC:11133
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcd5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCD5  20 9C F8  JSR $F89C                       A:40 X:78 Y:17 P:25 SP:FB PPU: 97,334 CYC:11137
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89C  F0 07     BEQ $F8A5                       A:40 X:78 Y:17 P:25 SP:F9 PPU: 98, 11 CYC:11143
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89E  30 05     BMI $F8A5                       A:40 X:78 Y:17 P:25 SP:F9 PPU: 98, 17 CYC:11145
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A0  90 03     BCC $F8A5                       A:40 X:78 Y:17 P:25 SP:F9 PPU: 98, 23 CYC:11147
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A2  70 01     BVS $F8A5                       A:40 X:78 Y:17 P:25 SP:F9 PPU: 98, 29 CYC:11149
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A4  60        RTS                             A:40 X:78 Y:17 P:25 SP:F9 PPU: 98, 35 CYC:11151
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcd8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x17, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCD8  C8        INY                             A:40 X:78 Y:17 P:25 SP:FB PPU: 98, 53 CYC:11157
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcd9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCD9  48        PHA                             A:40 X:78 Y:18 P:25 SP:FB PPU: 98, 59 CYC:11159
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdcda, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCDA  A9 41     LDA #$41                        A:40 X:78 Y:18 P:25 SP:FA PPU: 98, 68 CYC:11162
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcdc, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCDC  85 78     STA $78 = 3F                    A:41 X:78 Y:18 P:25 SP:FA PPU: 98, 74 CYC:11164
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdcde, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCDE  68        PLA                             A:41 X:78 Y:18 P:25 SP:FA PPU: 98, 83 CYC:11167
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcdf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCDF  D5 00     CMP $00,X @ 78 = 41             A:40 X:78 Y:18 P:25 SP:FB PPU: 98, 95 CYC:11171
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdce1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCE1  20 A8 F8  JSR $F8A8                       A:40 X:78 Y:18 P:A4 SP:FB PPU: 98,107 CYC:11175
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A8  F0 05     BEQ $F8AF                       A:40 X:78 Y:18 P:A4 SP:F9 PPU: 98,125 CYC:11181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8aa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AA  10 03     BPL $F8AF                       A:40 X:78 Y:18 P:A4 SP:F9 PPU: 98,131 CYC:11183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ac, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AC  10 01     BPL $F8AF                       A:40 X:78 Y:18 P:A4 SP:F9 PPU: 98,137 CYC:11185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ae, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AE  60        RTS                             A:40 X:78 Y:18 P:A4 SP:F9 PPU: 98,143 CYC:11187
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdce4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x18, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCE4  C8        INY                             A:40 X:78 Y:18 P:A4 SP:FB PPU: 98,161 CYC:11193
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdce5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCE5  48        PHA                             A:40 X:78 Y:19 P:24 SP:FB PPU: 98,167 CYC:11195
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdce6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCE6  A9 00     LDA #$00                        A:40 X:78 Y:19 P:24 SP:FA PPU: 98,176 CYC:11198
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdce8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCE8  85 78     STA $78 = 41                    A:00 X:78 Y:19 P:26 SP:FA PPU: 98,182 CYC:11200
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdcea, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCEA  68        PLA                             A:00 X:78 Y:19 P:26 SP:FA PPU: 98,191 CYC:11203
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdceb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCEB  20 B2 F8  JSR $F8B2                       A:40 X:78 Y:19 P:24 SP:FB PPU: 98,203 CYC:11207
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B2  A9 80     LDA #$80                        A:40 X:78 Y:19 P:24 SP:F9 PPU: 98,221 CYC:11213
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B4  60        RTS                             A:80 X:78 Y:19 P:A4 SP:F9 PPU: 98,227 CYC:11215
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCEE  D5 00     CMP $00,X @ 78 = 00             A:80 X:78 Y:19 P:A4 SP:FB PPU: 98,245 CYC:11221
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcf0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCF0  20 B5 F8  JSR $F8B5                       A:80 X:78 Y:19 P:A5 SP:FB PPU: 98,257 CYC:11225
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B5  F0 05     BEQ $F8BC                       A:80 X:78 Y:19 P:A5 SP:F9 PPU: 98,275 CYC:11231
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B7  10 03     BPL $F8BC                       A:80 X:78 Y:19 P:A5 SP:F9 PPU: 98,281 CYC:11233
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B9  90 01     BCC $F8BC                       A:80 X:78 Y:19 P:A5 SP:F9 PPU: 98,287 CYC:11235
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BB  60        RTS                             A:80 X:78 Y:19 P:A5 SP:F9 PPU: 98,293 CYC:11237
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcf3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x19, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCF3  C8        INY                             A:80 X:78 Y:19 P:A5 SP:FB PPU: 98,311 CYC:11243
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcf4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCF4  48        PHA                             A:80 X:78 Y:1A P:25 SP:FB PPU: 98,317 CYC:11245
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdcf5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCF5  A9 80     LDA #$80                        A:80 X:78 Y:1A P:25 SP:FA PPU: 98,326 CYC:11248
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdcf7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCF7  85 78     STA $78 = 00                    A:80 X:78 Y:1A P:A5 SP:FA PPU: 98,332 CYC:11250
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdcf9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DCF9  68        PLA                             A:80 X:78 Y:1A P:A5 SP:FA PPU: 99,  0 CYC:11253
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcfa, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCFA  D5 00     CMP $00,X @ 78 = 80             A:80 X:78 Y:1A P:A5 SP:FB PPU: 99, 12 CYC:11257
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdcfc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCFC  20 BF F8  JSR $F8BF                       A:80 X:78 Y:1A P:27 SP:FB PPU: 99, 24 CYC:11261
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BF  D0 05     BNE $F8C6                       A:80 X:78 Y:1A P:27 SP:F9 PPU: 99, 42 CYC:11267
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C1  30 03     BMI $F8C6                       A:80 X:78 Y:1A P:27 SP:F9 PPU: 99, 48 CYC:11269
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C3  90 01     BCC $F8C6                       A:80 X:78 Y:1A P:27 SP:F9 PPU: 99, 54 CYC:11271
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C5  60        RTS                             A:80 X:78 Y:1A P:27 SP:F9 PPU: 99, 60 CYC:11273
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdcff, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DCFF  C8        INY                             A:80 X:78 Y:1A P:27 SP:FB PPU: 99, 78 CYC:11279
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd00, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD00  48        PHA                             A:80 X:78 Y:1B P:25 SP:FB PPU: 99, 84 CYC:11281
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd01, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DD01  A9 81     LDA #$81                        A:80 X:78 Y:1B P:25 SP:FA PPU: 99, 93 CYC:11284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd03, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DD03  85 78     STA $78 = 80                    A:81 X:78 Y:1B P:A5 SP:FA PPU: 99, 99 CYC:11286
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd05, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DD05  68        PLA                             A:81 X:78 Y:1B P:A5 SP:FA PPU: 99,108 CYC:11289
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd06, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD06  D5 00     CMP $00,X @ 78 = 81             A:80 X:78 Y:1B P:A5 SP:FB PPU: 99,120 CYC:11293
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd08, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD08  20 C9 F8  JSR $F8C9                       A:80 X:78 Y:1B P:A4 SP:FB PPU: 99,132 CYC:11297
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C9  B0 05     BCS $F8D0                       A:80 X:78 Y:1B P:A4 SP:F9 PPU: 99,150 CYC:11303
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CB  F0 03     BEQ $F8D0                       A:80 X:78 Y:1B P:A4 SP:F9 PPU: 99,156 CYC:11305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CD  10 01     BPL $F8D0                       A:80 X:78 Y:1B P:A4 SP:F9 PPU: 99,162 CYC:11307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CF  60        RTS                             A:80 X:78 Y:1B P:A4 SP:F9 PPU: 99,168 CYC:11309
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd0b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1b, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD0B  C8        INY                             A:80 X:78 Y:1B P:A4 SP:FB PPU: 99,186 CYC:11315
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd0c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD0C  48        PHA                             A:80 X:78 Y:1C P:24 SP:FB PPU: 99,192 CYC:11317
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd0d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DD0D  A9 7F     LDA #$7F                        A:80 X:78 Y:1C P:24 SP:FA PPU: 99,201 CYC:11320
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd0f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DD0F  85 78     STA $78 = 81                    A:7F X:78 Y:1C P:24 SP:FA PPU: 99,207 CYC:11322
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd11, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // DD11  68        PLA                             A:7F X:78 Y:1C P:24 SP:FA PPU: 99,216 CYC:11325
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd12, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD12  D5 00     CMP $00,X @ 78 = 7F             A:80 X:78 Y:1C P:A4 SP:FB PPU: 99,228 CYC:11329
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd14, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD14  20 D3 F8  JSR $F8D3                       A:80 X:78 Y:1C P:25 SP:FB PPU: 99,240 CYC:11333
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D3  90 05     BCC $F8DA                       A:80 X:78 Y:1C P:25 SP:F9 PPU: 99,258 CYC:11339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D5  F0 03     BEQ $F8DA                       A:80 X:78 Y:1C P:25 SP:F9 PPU: 99,264 CYC:11341
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D7  30 01     BMI $F8DA                       A:80 X:78 Y:1C P:25 SP:F9 PPU: 99,270 CYC:11343
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D9  60        RTS                             A:80 X:78 Y:1C P:25 SP:F9 PPU: 99,276 CYC:11345
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd17, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD17  C8        INY                             A:80 X:78 Y:1C P:25 SP:FB PPU: 99,294 CYC:11351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd18, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD18  A9 40     LDA #$40                        A:80 X:78 Y:1D P:25 SP:FB PPU: 99,300 CYC:11353
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd1a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD1A  85 78     STA $78 = 7F                    A:40 X:78 Y:1D P:25 SP:FB PPU: 99,306 CYC:11355
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd1c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD1C  20 31 F9  JSR $F931                       A:40 X:78 Y:1D P:25 SP:FB PPU: 99,315 CYC:11358
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf931, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F931  24 01     BIT $01 = FF                    A:40 X:78 Y:1D P:25 SP:F9 PPU: 99,333 CYC:11364
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf933, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F933  A9 40     LDA #$40                        A:40 X:78 Y:1D P:E5 SP:F9 PPU:100,  1 CYC:11367
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf935, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F935  38        SEC                             A:40 X:78 Y:1D P:65 SP:F9 PPU:100,  7 CYC:11369
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf936, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F936  60        RTS                             A:40 X:78 Y:1D P:65 SP:F9 PPU:100, 13 CYC:11371
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd1f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD1F  F5 00     SBC $00,X @ 78 = 40             A:40 X:78 Y:1D P:65 SP:FB PPU:100, 31 CYC:11377
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd21, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD21  20 37 F9  JSR $F937                       A:00 X:78 Y:1D P:27 SP:FB PPU:100, 43 CYC:11381
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf937, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F937  30 0B     BMI $F944                       A:00 X:78 Y:1D P:27 SP:F9 PPU:100, 61 CYC:11387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf939, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F939  90 09     BCC $F944                       A:00 X:78 Y:1D P:27 SP:F9 PPU:100, 67 CYC:11389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93B  D0 07     BNE $F944                       A:00 X:78 Y:1D P:27 SP:F9 PPU:100, 73 CYC:11391
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93D  70 05     BVS $F944                       A:00 X:78 Y:1D P:27 SP:F9 PPU:100, 79 CYC:11393
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93F  C9 00     CMP #$00                        A:00 X:78 Y:1D P:27 SP:F9 PPU:100, 85 CYC:11395
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf941, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F941  D0 01     BNE $F944                       A:00 X:78 Y:1D P:27 SP:F9 PPU:100, 91 CYC:11397
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F943  60        RTS                             A:00 X:78 Y:1D P:27 SP:F9 PPU:100, 97 CYC:11399
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd24, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD24  C8        INY                             A:00 X:78 Y:1D P:27 SP:FB PPU:100,115 CYC:11405
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd25, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD25  A9 3F     LDA #$3F                        A:00 X:78 Y:1E P:25 SP:FB PPU:100,121 CYC:11407
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd27, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD27  85 78     STA $78 = 40                    A:3F X:78 Y:1E P:25 SP:FB PPU:100,127 CYC:11409
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd29, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD29  20 47 F9  JSR $F947                       A:3F X:78 Y:1E P:25 SP:FB PPU:100,136 CYC:11412
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf947, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F947  B8        CLV                             A:3F X:78 Y:1E P:25 SP:F9 PPU:100,154 CYC:11418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf948, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F948  38        SEC                             A:3F X:78 Y:1E P:25 SP:F9 PPU:100,160 CYC:11420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf949, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F949  A9 40     LDA #$40                        A:3F X:78 Y:1E P:25 SP:F9 PPU:100,166 CYC:11422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94B  60        RTS                             A:40 X:78 Y:1E P:25 SP:F9 PPU:100,172 CYC:11424
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd2c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD2C  F5 00     SBC $00,X @ 78 = 3F             A:40 X:78 Y:1E P:25 SP:FB PPU:100,190 CYC:11430
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd2e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD2E  20 4C F9  JSR $F94C                       A:01 X:78 Y:1E P:25 SP:FB PPU:100,202 CYC:11434
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf94c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94C  F0 0B     BEQ $F959                       A:01 X:78 Y:1E P:25 SP:F9 PPU:100,220 CYC:11440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94E  30 09     BMI $F959                       A:01 X:78 Y:1E P:25 SP:F9 PPU:100,226 CYC:11442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf950, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F950  90 07     BCC $F959                       A:01 X:78 Y:1E P:25 SP:F9 PPU:100,232 CYC:11444
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf952, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F952  70 05     BVS $F959                       A:01 X:78 Y:1E P:25 SP:F9 PPU:100,238 CYC:11446
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf954, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F954  C9 01     CMP #$01                        A:01 X:78 Y:1E P:25 SP:F9 PPU:100,244 CYC:11448
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf956, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F956  D0 01     BNE $F959                       A:01 X:78 Y:1E P:27 SP:F9 PPU:100,250 CYC:11450
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf958, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F958  60        RTS                             A:01 X:78 Y:1E P:27 SP:F9 PPU:100,256 CYC:11452
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd31, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD31  C8        INY                             A:01 X:78 Y:1E P:27 SP:FB PPU:100,274 CYC:11458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd32, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD32  A9 41     LDA #$41                        A:01 X:78 Y:1F P:25 SP:FB PPU:100,280 CYC:11460
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd34, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD34  85 78     STA $78 = 3F                    A:41 X:78 Y:1F P:25 SP:FB PPU:100,286 CYC:11462
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd36, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD36  20 5C F9  JSR $F95C                       A:41 X:78 Y:1F P:25 SP:FB PPU:100,295 CYC:11465
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf95c, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95C  A9 40     LDA #$40                        A:41 X:78 Y:1F P:25 SP:F9 PPU:100,313 CYC:11471
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95E  38        SEC                             A:40 X:78 Y:1F P:25 SP:F9 PPU:100,319 CYC:11473
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95F  24 01     BIT $01 = FF                    A:40 X:78 Y:1F P:25 SP:F9 PPU:100,325 CYC:11475
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf961, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F961  60        RTS                             A:40 X:78 Y:1F P:E5 SP:F9 PPU:100,334 CYC:11478
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD39  F5 00     SBC $00,X @ 78 = 41             A:40 X:78 Y:1F P:E5 SP:FB PPU:101, 11 CYC:11484
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd3b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD3B  20 62 F9  JSR $F962                       A:FF X:78 Y:1F P:A4 SP:FB PPU:101, 23 CYC:11488
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F962  B0 0B     BCS $F96F                       A:FF X:78 Y:1F P:A4 SP:F9 PPU:101, 41 CYC:11494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F964  F0 09     BEQ $F96F                       A:FF X:78 Y:1F P:A4 SP:F9 PPU:101, 47 CYC:11496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F966  10 07     BPL $F96F                       A:FF X:78 Y:1F P:A4 SP:F9 PPU:101, 53 CYC:11498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf968, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F968  70 05     BVS $F96F                       A:FF X:78 Y:1F P:A4 SP:F9 PPU:101, 59 CYC:11500
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96A  C9 FF     CMP #$FF                        A:FF X:78 Y:1F P:A4 SP:F9 PPU:101, 65 CYC:11502
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96C  D0 01     BNE $F96F                       A:FF X:78 Y:1F P:27 SP:F9 PPU:101, 71 CYC:11504
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96E  60        RTS                             A:FF X:78 Y:1F P:27 SP:F9 PPU:101, 77 CYC:11506
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd3e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x1f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD3E  C8        INY                             A:FF X:78 Y:1F P:27 SP:FB PPU:101, 95 CYC:11512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd3f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD3F  A9 00     LDA #$00                        A:FF X:78 Y:20 P:25 SP:FB PPU:101,101 CYC:11514
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd41, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD41  85 78     STA $78 = 41                    A:00 X:78 Y:20 P:27 SP:FB PPU:101,107 CYC:11516
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD43  20 72 F9  JSR $F972                       A:00 X:78 Y:20 P:27 SP:FB PPU:101,116 CYC:11519
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf972, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F972  18        CLC                             A:00 X:78 Y:20 P:27 SP:F9 PPU:101,134 CYC:11525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf973, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F973  A9 80     LDA #$80                        A:00 X:78 Y:20 P:26 SP:F9 PPU:101,140 CYC:11527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf975, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F975  60        RTS                             A:80 X:78 Y:20 P:A4 SP:F9 PPU:101,146 CYC:11529
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd46, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD46  F5 00     SBC $00,X @ 78 = 00             A:80 X:78 Y:20 P:A4 SP:FB PPU:101,164 CYC:11535
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd48, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD48  20 76 F9  JSR $F976                       A:7F X:78 Y:20 P:65 SP:FB PPU:101,176 CYC:11539
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf976, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F976  90 05     BCC $F97D                       A:7F X:78 Y:20 P:65 SP:F9 PPU:101,194 CYC:11545
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf978, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F978  C9 7F     CMP #$7F                        A:7F X:78 Y:20 P:65 SP:F9 PPU:101,200 CYC:11547
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97A  D0 01     BNE $F97D                       A:7F X:78 Y:20 P:67 SP:F9 PPU:101,206 CYC:11549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97C  60        RTS                             A:7F X:78 Y:20 P:67 SP:F9 PPU:101,212 CYC:11551
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd4b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x20, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD4B  C8        INY                             A:7F X:78 Y:20 P:67 SP:FB PPU:101,230 CYC:11557
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd4c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD4C  A9 7F     LDA #$7F                        A:7F X:78 Y:21 P:65 SP:FB PPU:101,236 CYC:11559
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd4e, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD4E  85 78     STA $78 = 00                    A:7F X:78 Y:21 P:65 SP:FB PPU:101,242 CYC:11561
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd50, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD50  20 80 F9  JSR $F980                       A:7F X:78 Y:21 P:65 SP:FB PPU:101,251 CYC:11564
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F980  38        SEC                             A:7F X:78 Y:21 P:65 SP:F9 PPU:101,269 CYC:11570
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf981, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F981  A9 81     LDA #$81                        A:7F X:78 Y:21 P:65 SP:F9 PPU:101,275 CYC:11572
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf983, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F983  60        RTS                             A:81 X:78 Y:21 P:E5 SP:F9 PPU:101,281 CYC:11574
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd53, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD53  F5 00     SBC $00,X @ 78 = 7F             A:81 X:78 Y:21 P:E5 SP:FB PPU:101,299 CYC:11580
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd55, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD55  20 84 F9  JSR $F984                       A:02 X:78 Y:21 P:65 SP:FB PPU:101,311 CYC:11584
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf984, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F984  50 07     BVC $F98D                       A:02 X:78 Y:21 P:65 SP:F9 PPU:101,329 CYC:11590
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf986, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F986  90 05     BCC $F98D                       A:02 X:78 Y:21 P:65 SP:F9 PPU:101,335 CYC:11592
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf988, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F988  C9 02     CMP #$02                        A:02 X:78 Y:21 P:65 SP:F9 PPU:102,  0 CYC:11594
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98A  D0 01     BNE $F98D                       A:02 X:78 Y:21 P:67 SP:F9 PPU:102,  6 CYC:11596
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98C  60        RTS                             A:02 X:78 Y:21 P:67 SP:F9 PPU:102, 12 CYC:11598
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdd58, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD58  A9 AA     LDA #$AA                        A:02 X:78 Y:21 P:67 SP:FB PPU:102, 30 CYC:11604
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd5a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD5A  85 33     STA $33 = 44                    A:AA X:78 Y:21 P:E5 SP:FB PPU:102, 36 CYC:11606
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd5c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD5C  A9 BB     LDA #$BB                        A:AA X:78 Y:21 P:E5 SP:FB PPU:102, 45 CYC:11609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd5e, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD5E  85 89     STA $89 = BB                    A:BB X:78 Y:21 P:E5 SP:FB PPU:102, 51 CYC:11611
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd60, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD60  A2 00     LDX #$00                        A:BB X:78 Y:21 P:E5 SP:FB PPU:102, 60 CYC:11614
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd62, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x21, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD62  A0 66     LDY #$66                        A:BB X:00 Y:21 P:67 SP:FB PPU:102, 66 CYC:11616
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd64, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD64  24 01     BIT $01 = FF                    A:BB X:00 Y:66 P:65 SP:FB PPU:102, 72 CYC:11618
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd66, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD66  38        SEC                             A:BB X:00 Y:66 P:E5 SP:FB PPU:102, 81 CYC:11621
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd67, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD67  A9 00     LDA #$00                        A:BB X:00 Y:66 P:E5 SP:FB PPU:102, 87 CYC:11623
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd69, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD69  B5 33     LDA $33,X @ 33 = AA             A:00 X:00 Y:66 P:67 SP:FB PPU:102, 93 CYC:11625
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd6b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD6B  10 12     BPL $DD7F                       A:AA X:00 Y:66 P:E5 SP:FB PPU:102,105 CYC:11629
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd6d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD6D  F0 10     BEQ $DD7F                       A:AA X:00 Y:66 P:E5 SP:FB PPU:102,111 CYC:11631
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd6f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD6F  50 0E     BVC $DD7F                       A:AA X:00 Y:66 P:E5 SP:FB PPU:102,117 CYC:11633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd71, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD71  90 0C     BCC $DD7F                       A:AA X:00 Y:66 P:E5 SP:FB PPU:102,123 CYC:11635
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd73, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD73  C0 66     CPY #$66                        A:AA X:00 Y:66 P:E5 SP:FB PPU:102,129 CYC:11637
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd75, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD75  D0 08     BNE $DD7F                       A:AA X:00 Y:66 P:67 SP:FB PPU:102,135 CYC:11639
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd77, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD77  E0 00     CPX #$00                        A:AA X:00 Y:66 P:67 SP:FB PPU:102,141 CYC:11641
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd79, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD79  D0 04     BNE $DD7F                       A:AA X:00 Y:66 P:67 SP:FB PPU:102,147 CYC:11643
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd7b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD7B  C9 AA     CMP #$AA                        A:AA X:00 Y:66 P:67 SP:FB PPU:102,153 CYC:11645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd7d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD7D  F0 04     BEQ $DD83                       A:AA X:00 Y:66 P:67 SP:FB PPU:102,159 CYC:11647
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdd83, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD83  A2 8A     LDX #$8A                        A:AA X:00 Y:66 P:67 SP:FB PPU:102,168 CYC:11650
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd85, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD85  A0 66     LDY #$66                        A:AA X:8A Y:66 P:E5 SP:FB PPU:102,174 CYC:11652
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd87, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD87  B8        CLV                             A:AA X:8A Y:66 P:65 SP:FB PPU:102,180 CYC:11654
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd88, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD88  18        CLC                             A:AA X:8A Y:66 P:25 SP:FB PPU:102,186 CYC:11656
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd89, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD89  A9 00     LDA #$00                        A:AA X:8A Y:66 P:24 SP:FB PPU:102,192 CYC:11658
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd8b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD8B  B5 FF     LDA $FF,X @ 89 = BB             A:00 X:8A Y:66 P:26 SP:FB PPU:102,198 CYC:11660
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdd8d, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD8D  10 12     BPL $DDA1                       A:BB X:8A Y:66 P:A4 SP:FB PPU:102,210 CYC:11664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd8f, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD8F  F0 10     BEQ $DDA1                       A:BB X:8A Y:66 P:A4 SP:FB PPU:102,216 CYC:11666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd91, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD91  70 0E     BVS $DDA1                       A:BB X:8A Y:66 P:A4 SP:FB PPU:102,222 CYC:11668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd93, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD93  B0 0C     BCS $DDA1                       A:BB X:8A Y:66 P:A4 SP:FB PPU:102,228 CYC:11670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd95, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD95  C9 BB     CMP #$BB                        A:BB X:8A Y:66 P:A4 SP:FB PPU:102,234 CYC:11672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd97, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD97  D0 08     BNE $DDA1                       A:BB X:8A Y:66 P:27 SP:FB PPU:102,240 CYC:11674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd99, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD99  C0 66     CPY #$66                        A:BB X:8A Y:66 P:27 SP:FB PPU:102,246 CYC:11676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd9b, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD9B  D0 04     BNE $DDA1                       A:BB X:8A Y:66 P:27 SP:FB PPU:102,252 CYC:11678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd9d, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD9D  E0 8A     CPX #$8A                        A:BB X:8A Y:66 P:27 SP:FB PPU:102,258 CYC:11680
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdd9f, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DD9F  F0 04     BEQ $DDA5                       A:BB X:8A Y:66 P:27 SP:FB PPU:102,264 CYC:11682
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdda5, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDA5  24 01     BIT $01 = FF                    A:BB X:8A Y:66 P:27 SP:FB PPU:102,273 CYC:11685
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdda7, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDA7  38        SEC                             A:BB X:8A Y:66 P:E5 SP:FB PPU:102,282 CYC:11688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdda8, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDA8  A9 44     LDA #$44                        A:BB X:8A Y:66 P:E5 SP:FB PPU:102,288 CYC:11690
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddaa, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDAA  A2 00     LDX #$00                        A:44 X:8A Y:66 P:65 SP:FB PPU:102,294 CYC:11692
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddac, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDAC  95 33     STA $33,X @ 33 = AA             A:44 X:00 Y:66 P:67 SP:FB PPU:102,300 CYC:11694
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xddae, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDAE  A5 33     LDA $33 = 44                    A:44 X:00 Y:66 P:67 SP:FB PPU:102,312 CYC:11698
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xddb0, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDB0  90 18     BCC $DDCA                       A:44 X:00 Y:66 P:65 SP:FB PPU:102,321 CYC:11701
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddb2, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDB2  C9 44     CMP #$44                        A:44 X:00 Y:66 P:65 SP:FB PPU:102,327 CYC:11703
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddb4, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDB4  D0 14     BNE $DDCA                       A:44 X:00 Y:66 P:67 SP:FB PPU:102,333 CYC:11705
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddb6, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDB6  50 12     BVC $DDCA                       A:44 X:00 Y:66 P:67 SP:FB PPU:102,339 CYC:11707
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddb8, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDB8  18        CLC                             A:44 X:00 Y:66 P:67 SP:FB PPU:103,  4 CYC:11709
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddb9, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDB9  B8        CLV                             A:44 X:00 Y:66 P:66 SP:FB PPU:103, 10 CYC:11711
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddba, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDBA  A9 99     LDA #$99                        A:44 X:00 Y:66 P:26 SP:FB PPU:103, 16 CYC:11713
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddbc, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDBC  A2 80     LDX #$80                        A:99 X:00 Y:66 P:A4 SP:FB PPU:103, 22 CYC:11715
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddbe, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDBE  95 85     STA $85,X @ 05 = 99             A:99 X:80 Y:66 P:A4 SP:FB PPU:103, 28 CYC:11717
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xddc0, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDC0  A5 05     LDA $05 = 99                    A:99 X:80 Y:66 P:A4 SP:FB PPU:103, 40 CYC:11721
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xddc2, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDC2  B0 06     BCS $DDCA                       A:99 X:80 Y:66 P:A4 SP:FB PPU:103, 49 CYC:11724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddc4, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDC4  C9 99     CMP #$99                        A:99 X:80 Y:66 P:A4 SP:FB PPU:103, 55 CYC:11726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddc6, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDC6  D0 02     BNE $DDCA                       A:99 X:80 Y:66 P:27 SP:FB PPU:103, 61 CYC:11728
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddc8, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDC8  50 04     BVC $DDCE                       A:99 X:80 Y:66 P:27 SP:FB PPU:103, 67 CYC:11730
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xddce, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDCE  A0 25     LDY #$25                        A:99 X:80 Y:66 P:27 SP:FB PPU:103, 76 CYC:11733
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddd0, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDD0  A2 78     LDX #$78                        A:99 X:80 Y:25 P:25 SP:FB PPU:103, 82 CYC:11735
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddd2, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDD2  20 90 F9  JSR $F990                       A:99 X:78 Y:25 P:25 SP:FB PPU:103, 88 CYC:11737
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf990, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F990  A2 55     LDX #$55                        A:99 X:78 Y:25 P:25 SP:F9 PPU:103,106 CYC:11743
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf992, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F992  A9 FF     LDA #$FF                        A:99 X:55 Y:25 P:25 SP:F9 PPU:103,112 CYC:11745
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf994, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F994  85 01     STA $01 = FF                    A:FF X:55 Y:25 P:A5 SP:F9 PPU:103,118 CYC:11747
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf996, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F996  EA        NOP                             A:FF X:55 Y:25 P:A5 SP:F9 PPU:103,127 CYC:11750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf997, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F997  24 01     BIT $01 = FF                    A:FF X:55 Y:25 P:A5 SP:F9 PPU:103,133 CYC:11752
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf999, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F999  38        SEC                             A:FF X:55 Y:25 P:E5 SP:F9 PPU:103,142 CYC:11755
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99A  A9 01     LDA #$01                        A:FF X:55 Y:25 P:E5 SP:F9 PPU:103,148 CYC:11757
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99C  60        RTS                             A:01 X:55 Y:25 P:65 SP:F9 PPU:103,154 CYC:11759
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddd5, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDD5  95 00     STA $00,X @ 55 = 00             A:01 X:55 Y:25 P:65 SP:FB PPU:103,172 CYC:11765
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xddd7, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDD7  56 00     LSR $00,X @ 55 = 01             A:01 X:55 Y:25 P:65 SP:FB PPU:103,184 CYC:11769
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddd9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDD9  B5 00     LDA $00,X @ 55 = 00             A:01 X:55 Y:25 P:67 SP:FB PPU:103,202 CYC:11775
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdddb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDDB  20 9D F9  JSR $F99D                       A:00 X:55 Y:25 P:67 SP:FB PPU:103,214 CYC:11779
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf99d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99D  90 1B     BCC $F9BA                       A:00 X:55 Y:25 P:67 SP:F9 PPU:103,232 CYC:11785
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99F  D0 19     BNE $F9BA                       A:00 X:55 Y:25 P:67 SP:F9 PPU:103,238 CYC:11787
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A1  30 17     BMI $F9BA                       A:00 X:55 Y:25 P:67 SP:F9 PPU:103,244 CYC:11789
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A3  50 15     BVC $F9BA                       A:00 X:55 Y:25 P:67 SP:F9 PPU:103,250 CYC:11791
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A5  C9 00     CMP #$00                        A:00 X:55 Y:25 P:67 SP:F9 PPU:103,256 CYC:11793
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A7  D0 11     BNE $F9BA                       A:00 X:55 Y:25 P:67 SP:F9 PPU:103,262 CYC:11795
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A9  B8        CLV                             A:00 X:55 Y:25 P:67 SP:F9 PPU:103,268 CYC:11797
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AA  A9 AA     LDA #$AA                        A:00 X:55 Y:25 P:27 SP:F9 PPU:103,274 CYC:11799
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ac, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AC  60        RTS                             A:AA X:55 Y:25 P:A5 SP:F9 PPU:103,280 CYC:11801
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddde, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x25, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDDE  C8        INY                             A:AA X:55 Y:25 P:A5 SP:FB PPU:103,298 CYC:11807
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdddf, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDDF  95 00     STA $00,X @ 55 = 00             A:AA X:55 Y:26 P:25 SP:FB PPU:103,304 CYC:11809
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdde1, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDE1  56 00     LSR $00,X @ 55 = AA             A:AA X:55 Y:26 P:25 SP:FB PPU:103,316 CYC:11813
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdde3, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDE3  B5 00     LDA $00,X @ 55 = 55             A:AA X:55 Y:26 P:24 SP:FB PPU:103,334 CYC:11819
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdde5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDE5  20 AD F9  JSR $F9AD                       A:55 X:55 Y:26 P:24 SP:FB PPU:104,  5 CYC:11823
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ad, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AD  B0 0B     BCS $F9BA                       A:55 X:55 Y:26 P:24 SP:F9 PPU:104, 23 CYC:11829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9af, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AF  F0 09     BEQ $F9BA                       A:55 X:55 Y:26 P:24 SP:F9 PPU:104, 29 CYC:11831
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B1  30 07     BMI $F9BA                       A:55 X:55 Y:26 P:24 SP:F9 PPU:104, 35 CYC:11833
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B3  70 05     BVS $F9BA                       A:55 X:55 Y:26 P:24 SP:F9 PPU:104, 41 CYC:11835
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B5  C9 55     CMP #$55                        A:55 X:55 Y:26 P:24 SP:F9 PPU:104, 47 CYC:11837
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b7, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B7  D0 01     BNE $F9BA                       A:55 X:55 Y:26 P:27 SP:F9 PPU:104, 53 CYC:11839
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B9  60        RTS                             A:55 X:55 Y:26 P:27 SP:F9 PPU:104, 59 CYC:11841
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xdde8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x26, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDE8  C8        INY                             A:55 X:55 Y:26 P:27 SP:FB PPU:104, 77 CYC:11847
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdde9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDE9  20 BD F9  JSR $F9BD                       A:55 X:55 Y:27 P:25 SP:FB PPU:104, 83 CYC:11849
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BD  24 01     BIT $01 = FF                    A:55 X:55 Y:27 P:25 SP:F9 PPU:104,101 CYC:11855
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BF  38        SEC                             A:55 X:55 Y:27 P:E5 SP:F9 PPU:104,110 CYC:11858
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C0  A9 80     LDA #$80                        A:55 X:55 Y:27 P:E5 SP:F9 PPU:104,116 CYC:11860
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C2  60        RTS                             A:80 X:55 Y:27 P:E5 SP:F9 PPU:104,122 CYC:11862
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDEC  95 00     STA $00,X @ 55 = 55             A:80 X:55 Y:27 P:E5 SP:FB PPU:104,140 CYC:11868
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xddee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDEE  16 00     ASL $00,X @ 55 = 80             A:80 X:55 Y:27 P:E5 SP:FB PPU:104,152 CYC:11872
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddf0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDF0  B5 00     LDA $00,X @ 55 = 00             A:80 X:55 Y:27 P:67 SP:FB PPU:104,170 CYC:11878
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xddf2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDF2  20 C3 F9  JSR $F9C3                       A:00 X:55 Y:27 P:67 SP:FB PPU:104,182 CYC:11882
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C3  90 1C     BCC $F9E1                       A:00 X:55 Y:27 P:67 SP:F9 PPU:104,200 CYC:11888
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C5  D0 1A     BNE $F9E1                       A:00 X:55 Y:27 P:67 SP:F9 PPU:104,206 CYC:11890
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C7  30 18     BMI $F9E1                       A:00 X:55 Y:27 P:67 SP:F9 PPU:104,212 CYC:11892
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C9  50 16     BVC $F9E1                       A:00 X:55 Y:27 P:67 SP:F9 PPU:104,218 CYC:11894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CB  C9 00     CMP #$00                        A:00 X:55 Y:27 P:67 SP:F9 PPU:104,224 CYC:11896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CD  D0 12     BNE $F9E1                       A:00 X:55 Y:27 P:67 SP:F9 PPU:104,230 CYC:11898
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CF  B8        CLV                             A:00 X:55 Y:27 P:67 SP:F9 PPU:104,236 CYC:11900
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D0  A9 55     LDA #$55                        A:00 X:55 Y:27 P:27 SP:F9 PPU:104,242 CYC:11902
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D2  38        SEC                             A:55 X:55 Y:27 P:25 SP:F9 PPU:104,248 CYC:11904
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D3  60        RTS                             A:55 X:55 Y:27 P:25 SP:F9 PPU:104,254 CYC:11906
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddf5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x27, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDF5  C8        INY                             A:55 X:55 Y:27 P:25 SP:FB PPU:104,272 CYC:11912
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xddf6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDF6  95 00     STA $00,X @ 55 = 00             A:55 X:55 Y:28 P:25 SP:FB PPU:104,278 CYC:11914
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xddf8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDF8  16 00     ASL $00,X @ 55 = 55             A:55 X:55 Y:28 P:25 SP:FB PPU:104,290 CYC:11918
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddfa, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDFA  B5 00     LDA $00,X @ 55 = AA             A:55 X:55 Y:28 P:A4 SP:FB PPU:104,308 CYC:11924
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xddfc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDFC  20 D4 F9  JSR $F9D4                       A:AA X:55 Y:28 P:A4 SP:FB PPU:104,320 CYC:11928
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D4  B0 0B     BCS $F9E1                       A:AA X:55 Y:28 P:A4 SP:F9 PPU:104,338 CYC:11934
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D6  F0 09     BEQ $F9E1                       A:AA X:55 Y:28 P:A4 SP:F9 PPU:105,  3 CYC:11936
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D8  10 07     BPL $F9E1                       A:AA X:55 Y:28 P:A4 SP:F9 PPU:105,  9 CYC:11938
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9da, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DA  70 05     BVS $F9E1                       A:AA X:55 Y:28 P:A4 SP:F9 PPU:105, 15 CYC:11940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9dc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DC  C9 AA     CMP #$AA                        A:AA X:55 Y:28 P:A4 SP:F9 PPU:105, 21 CYC:11942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9de, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DE  D0 01     BNE $F9E1                       A:AA X:55 Y:28 P:27 SP:F9 PPU:105, 27 CYC:11944
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E0  60        RTS                             A:AA X:55 Y:28 P:27 SP:F9 PPU:105, 33 CYC:11946
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xddff, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x28, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DDFF  C8        INY                             A:AA X:55 Y:28 P:27 SP:FB PPU:105, 51 CYC:11952
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde00, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE00  20 E4 F9  JSR $F9E4                       A:AA X:55 Y:29 P:25 SP:FB PPU:105, 57 CYC:11954
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E4  24 01     BIT $01 = FF                    A:AA X:55 Y:29 P:25 SP:F9 PPU:105, 75 CYC:11960
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E6  38        SEC                             A:AA X:55 Y:29 P:E5 SP:F9 PPU:105, 84 CYC:11963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E7  A9 01     LDA #$01                        A:AA X:55 Y:29 P:E5 SP:F9 PPU:105, 90 CYC:11965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E9  60        RTS                             A:01 X:55 Y:29 P:65 SP:F9 PPU:105, 96 CYC:11967
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde03, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE03  95 00     STA $00,X @ 55 = AA             A:01 X:55 Y:29 P:65 SP:FB PPU:105,114 CYC:11973
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde05, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE05  76 00     ROR $00,X @ 55 = 01             A:01 X:55 Y:29 P:65 SP:FB PPU:105,126 CYC:11977
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde07, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE07  B5 00     LDA $00,X @ 55 = 80             A:01 X:55 Y:29 P:E5 SP:FB PPU:105,144 CYC:11983
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde09, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE09  20 EA F9  JSR $F9EA                       A:80 X:55 Y:29 P:E5 SP:FB PPU:105,156 CYC:11987
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ea, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EA  90 1C     BCC $FA08                       A:80 X:55 Y:29 P:E5 SP:F9 PPU:105,174 CYC:11993
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EC  F0 1A     BEQ $FA08                       A:80 X:55 Y:29 P:E5 SP:F9 PPU:105,180 CYC:11995
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EE  10 18     BPL $FA08                       A:80 X:55 Y:29 P:E5 SP:F9 PPU:105,186 CYC:11997
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F0  50 16     BVC $FA08                       A:80 X:55 Y:29 P:E5 SP:F9 PPU:105,192 CYC:11999
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F2  C9 80     CMP #$80                        A:80 X:55 Y:29 P:E5 SP:F9 PPU:105,198 CYC:12001
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F4  D0 12     BNE $FA08                       A:80 X:55 Y:29 P:67 SP:F9 PPU:105,204 CYC:12003
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F6  B8        CLV                             A:80 X:55 Y:29 P:67 SP:F9 PPU:105,210 CYC:12005
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F7  18        CLC                             A:80 X:55 Y:29 P:27 SP:F9 PPU:105,216 CYC:12007
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F8  A9 55     LDA #$55                        A:80 X:55 Y:29 P:26 SP:F9 PPU:105,222 CYC:12009
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fa, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FA  60        RTS                             A:55 X:55 Y:29 P:24 SP:F9 PPU:105,228 CYC:12011
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde0c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x29, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE0C  C8        INY                             A:55 X:55 Y:29 P:24 SP:FB PPU:105,246 CYC:12017
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde0d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE0D  95 00     STA $00,X @ 55 = 80             A:55 X:55 Y:2A P:24 SP:FB PPU:105,252 CYC:12019
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde0f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE0F  76 00     ROR $00,X @ 55 = 55             A:55 X:55 Y:2A P:24 SP:FB PPU:105,264 CYC:12023
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde11, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE11  B5 00     LDA $00,X @ 55 = 2A             A:55 X:55 Y:2A P:25 SP:FB PPU:105,282 CYC:12029
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde13, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE13  20 FB F9  JSR $F9FB                       A:2A X:55 Y:2A P:25 SP:FB PPU:105,294 CYC:12033
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fb, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FB  90 0B     BCC $FA08                       A:2A X:55 Y:2A P:25 SP:F9 PPU:105,312 CYC:12039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fd, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FD  F0 09     BEQ $FA08                       A:2A X:55 Y:2A P:25 SP:F9 PPU:105,318 CYC:12041
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ff, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FF  30 07     BMI $FA08                       A:2A X:55 Y:2A P:25 SP:F9 PPU:105,324 CYC:12043
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa01, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA01  70 05     BVS $FA08                       A:2A X:55 Y:2A P:25 SP:F9 PPU:105,330 CYC:12045
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa03, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA03  C9 2A     CMP #$2A                        A:2A X:55 Y:2A P:25 SP:F9 PPU:105,336 CYC:12047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa05, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA05  D0 01     BNE $FA08                       A:2A X:55 Y:2A P:27 SP:F9 PPU:106,  1 CYC:12049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa07, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA07  60        RTS                             A:2A X:55 Y:2A P:27 SP:F9 PPU:106,  7 CYC:12051
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde16, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE16  C8        INY                             A:2A X:55 Y:2A P:27 SP:FB PPU:106, 25 CYC:12057
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde17, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE17  20 0A FA  JSR $FA0A                       A:2A X:55 Y:2B P:25 SP:FB PPU:106, 31 CYC:12059
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0a, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0A  24 01     BIT $01 = FF                    A:2A X:55 Y:2B P:25 SP:F9 PPU:106, 49 CYC:12065
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0c, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0C  38        SEC                             A:2A X:55 Y:2B P:E5 SP:F9 PPU:106, 58 CYC:12068
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0d, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0D  A9 80     LDA #$80                        A:2A X:55 Y:2B P:E5 SP:F9 PPU:106, 64 CYC:12070
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0F  60        RTS                             A:80 X:55 Y:2B P:E5 SP:F9 PPU:106, 70 CYC:12072
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde1a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE1A  95 00     STA $00,X @ 55 = 2A             A:80 X:55 Y:2B P:E5 SP:FB PPU:106, 88 CYC:12078
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde1c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE1C  36 00     ROL $00,X @ 55 = 80             A:80 X:55 Y:2B P:E5 SP:FB PPU:106,100 CYC:12082
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde1e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE1E  B5 00     LDA $00,X @ 55 = 01             A:80 X:55 Y:2B P:65 SP:FB PPU:106,118 CYC:12088
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde20, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE20  20 10 FA  JSR $FA10                       A:01 X:55 Y:2B P:65 SP:FB PPU:106,130 CYC:12092
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa10, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA10  90 1C     BCC $FA2E                       A:01 X:55 Y:2B P:65 SP:F9 PPU:106,148 CYC:12098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa12, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA12  F0 1A     BEQ $FA2E                       A:01 X:55 Y:2B P:65 SP:F9 PPU:106,154 CYC:12100
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa14, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA14  30 18     BMI $FA2E                       A:01 X:55 Y:2B P:65 SP:F9 PPU:106,160 CYC:12102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa16, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA16  50 16     BVC $FA2E                       A:01 X:55 Y:2B P:65 SP:F9 PPU:106,166 CYC:12104
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa18, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA18  C9 01     CMP #$01                        A:01 X:55 Y:2B P:65 SP:F9 PPU:106,172 CYC:12106
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1A  D0 12     BNE $FA2E                       A:01 X:55 Y:2B P:67 SP:F9 PPU:106,178 CYC:12108
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1C  B8        CLV                             A:01 X:55 Y:2B P:67 SP:F9 PPU:106,184 CYC:12110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1D  18        CLC                             A:01 X:55 Y:2B P:27 SP:F9 PPU:106,190 CYC:12112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1E  A9 55     LDA #$55                        A:01 X:55 Y:2B P:26 SP:F9 PPU:106,196 CYC:12114
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa20, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA20  60        RTS                             A:55 X:55 Y:2B P:24 SP:F9 PPU:106,202 CYC:12116
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde23, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE23  C8        INY                             A:55 X:55 Y:2B P:24 SP:FB PPU:106,220 CYC:12122
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde24, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE24  95 00     STA $00,X @ 55 = 01             A:55 X:55 Y:2C P:24 SP:FB PPU:106,226 CYC:12124
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde26, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE26  36 00     ROL $00,X @ 55 = 55             A:55 X:55 Y:2C P:24 SP:FB PPU:106,238 CYC:12128
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde28, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE28  B5 00     LDA $00,X @ 55 = AA             A:55 X:55 Y:2C P:A4 SP:FB PPU:106,256 CYC:12134
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde2a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE2A  20 21 FA  JSR $FA21                       A:AA X:55 Y:2C P:A4 SP:FB PPU:106,268 CYC:12138
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa21, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA21  B0 0B     BCS $FA2E                       A:AA X:55 Y:2C P:A4 SP:F9 PPU:106,286 CYC:12144
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa23, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA23  F0 09     BEQ $FA2E                       A:AA X:55 Y:2C P:A4 SP:F9 PPU:106,292 CYC:12146
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa25, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA25  10 07     BPL $FA2E                       A:AA X:55 Y:2C P:A4 SP:F9 PPU:106,298 CYC:12148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa27, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA27  70 05     BVS $FA2E                       A:AA X:55 Y:2C P:A4 SP:F9 PPU:106,304 CYC:12150
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa29, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA29  C9 AA     CMP #$AA                        A:AA X:55 Y:2C P:A4 SP:F9 PPU:106,310 CYC:12152
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2B  D0 01     BNE $FA2E                       A:AA X:55 Y:2C P:27 SP:F9 PPU:106,316 CYC:12154
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2D  60        RTS                             A:AA X:55 Y:2C P:27 SP:F9 PPU:106,322 CYC:12156
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde2d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE2D  A9 FF     LDA #$FF                        A:AA X:55 Y:2C P:27 SP:FB PPU:106,340 CYC:12162
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde2f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE2F  95 00     STA $00,X @ 55 = AA             A:FF X:55 Y:2C P:A5 SP:FB PPU:107,  5 CYC:12164
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde31, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE31  85 01     STA $01 = FF                    A:FF X:55 Y:2C P:A5 SP:FB PPU:107, 17 CYC:12168
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xde33, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE33  24 01     BIT $01 = FF                    A:FF X:55 Y:2C P:A5 SP:FB PPU:107, 26 CYC:12171
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xde35, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE35  38        SEC                             A:FF X:55 Y:2C P:E5 SP:FB PPU:107, 35 CYC:12174
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde36, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE36  F6 00     INC $00,X @ 55 = FF             A:FF X:55 Y:2C P:E5 SP:FB PPU:107, 41 CYC:12176
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde38, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE38  D0 0C     BNE $DE46                       A:FF X:55 Y:2C P:67 SP:FB PPU:107, 59 CYC:12182
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde3a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE3A  30 0A     BMI $DE46                       A:FF X:55 Y:2C P:67 SP:FB PPU:107, 65 CYC:12184
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde3c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE3C  50 08     BVC $DE46                       A:FF X:55 Y:2C P:67 SP:FB PPU:107, 71 CYC:12186
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde3e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE3E  90 06     BCC $DE46                       A:FF X:55 Y:2C P:67 SP:FB PPU:107, 77 CYC:12188
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde40, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE40  B5 00     LDA $00,X @ 55 = 00             A:FF X:55 Y:2C P:67 SP:FB PPU:107, 83 CYC:12190
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE42  C9 00     CMP #$00                        A:00 X:55 Y:2C P:67 SP:FB PPU:107, 95 CYC:12194
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE44  F0 04     BEQ $DE4A                       A:00 X:55 Y:2C P:67 SP:FB PPU:107,101 CYC:12196
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xde4a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE4A  A9 7F     LDA #$7F                        A:00 X:55 Y:2C P:67 SP:FB PPU:107,110 CYC:12199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde4c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE4C  95 00     STA $00,X @ 55 = 00             A:7F X:55 Y:2C P:65 SP:FB PPU:107,116 CYC:12201
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde4e, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE4E  B8        CLV                             A:7F X:55 Y:2C P:65 SP:FB PPU:107,128 CYC:12205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde4f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE4F  18        CLC                             A:7F X:55 Y:2C P:25 SP:FB PPU:107,134 CYC:12207
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde50, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE50  F6 00     INC $00,X @ 55 = 7F             A:7F X:55 Y:2C P:24 SP:FB PPU:107,140 CYC:12209
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde52, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE52  F0 0C     BEQ $DE60                       A:7F X:55 Y:2C P:A4 SP:FB PPU:107,158 CYC:12215
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde54, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE54  10 0A     BPL $DE60                       A:7F X:55 Y:2C P:A4 SP:FB PPU:107,164 CYC:12217
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde56, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE56  70 08     BVS $DE60                       A:7F X:55 Y:2C P:A4 SP:FB PPU:107,170 CYC:12219
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde58, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE58  B0 06     BCS $DE60                       A:7F X:55 Y:2C P:A4 SP:FB PPU:107,176 CYC:12221
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde5a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE5A  B5 00     LDA $00,X @ 55 = 80             A:7F X:55 Y:2C P:A4 SP:FB PPU:107,182 CYC:12223
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde5c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE5C  C9 80     CMP #$80                        A:80 X:55 Y:2C P:A4 SP:FB PPU:107,194 CYC:12227
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde5e, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE5E  F0 04     BEQ $DE64                       A:80 X:55 Y:2C P:27 SP:FB PPU:107,200 CYC:12229
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xde64, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE64  A9 00     LDA #$00                        A:80 X:55 Y:2C P:27 SP:FB PPU:107,209 CYC:12232
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde66, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE66  95 00     STA $00,X @ 55 = 80             A:00 X:55 Y:2C P:27 SP:FB PPU:107,215 CYC:12234
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde68, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE68  24 01     BIT $01 = FF                    A:00 X:55 Y:2C P:27 SP:FB PPU:107,227 CYC:12238
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xde6a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE6A  38        SEC                             A:00 X:55 Y:2C P:E7 SP:FB PPU:107,236 CYC:12241
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde6b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE6B  D6 00     DEC $00,X @ 55 = 00             A:00 X:55 Y:2C P:E7 SP:FB PPU:107,242 CYC:12243
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde6d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE6D  F0 0C     BEQ $DE7B                       A:00 X:55 Y:2C P:E5 SP:FB PPU:107,260 CYC:12249
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde6f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE6F  10 0A     BPL $DE7B                       A:00 X:55 Y:2C P:E5 SP:FB PPU:107,266 CYC:12251
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde71, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE71  50 08     BVC $DE7B                       A:00 X:55 Y:2C P:E5 SP:FB PPU:107,272 CYC:12253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde73, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE73  90 06     BCC $DE7B                       A:00 X:55 Y:2C P:E5 SP:FB PPU:107,278 CYC:12255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde75, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE75  B5 00     LDA $00,X @ 55 = FF             A:00 X:55 Y:2C P:E5 SP:FB PPU:107,284 CYC:12257
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde77, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE77  C9 FF     CMP #$FF                        A:FF X:55 Y:2C P:E5 SP:FB PPU:107,296 CYC:12261
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde79, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE79  F0 04     BEQ $DE7F                       A:FF X:55 Y:2C P:67 SP:FB PPU:107,302 CYC:12263
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xde7f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE7F  A9 80     LDA #$80                        A:FF X:55 Y:2C P:67 SP:FB PPU:107,311 CYC:12266
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde81, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE81  95 00     STA $00,X @ 55 = FF             A:80 X:55 Y:2C P:E5 SP:FB PPU:107,317 CYC:12268
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde83, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE83  B8        CLV                             A:80 X:55 Y:2C P:E5 SP:FB PPU:107,329 CYC:12272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde84, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE84  18        CLC                             A:80 X:55 Y:2C P:A5 SP:FB PPU:107,335 CYC:12274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde85, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE85  D6 00     DEC $00,X @ 55 = 80             A:80 X:55 Y:2C P:A4 SP:FB PPU:108,  0 CYC:12276
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde87, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE87  F0 0C     BEQ $DE95                       A:80 X:55 Y:2C P:24 SP:FB PPU:108, 18 CYC:12282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde89, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE89  30 0A     BMI $DE95                       A:80 X:55 Y:2C P:24 SP:FB PPU:108, 24 CYC:12284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde8b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE8B  70 08     BVS $DE95                       A:80 X:55 Y:2C P:24 SP:FB PPU:108, 30 CYC:12286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde8d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE8D  B0 06     BCS $DE95                       A:80 X:55 Y:2C P:24 SP:FB PPU:108, 36 CYC:12288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde8f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE8F  B5 00     LDA $00,X @ 55 = 7F             A:80 X:55 Y:2C P:24 SP:FB PPU:108, 42 CYC:12290
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde91, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE91  C9 7F     CMP #$7F                        A:7F X:55 Y:2C P:24 SP:FB PPU:108, 54 CYC:12294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde93, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE93  F0 04     BEQ $DE99                       A:7F X:55 Y:2C P:27 SP:FB PPU:108, 60 CYC:12296
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xde99, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE99  A9 01     LDA #$01                        A:7F X:55 Y:2C P:27 SP:FB PPU:108, 69 CYC:12299
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xde9b, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE9B  95 00     STA $00,X @ 55 = 7F             A:01 X:55 Y:2C P:25 SP:FB PPU:108, 75 CYC:12301
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xde9d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE9D  D6 00     DEC $00,X @ 55 = 01             A:01 X:55 Y:2C P:25 SP:FB PPU:108, 87 CYC:12305
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xde9f, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DE9F  F0 04     BEQ $DEA5                       A:01 X:55 Y:2C P:27 SP:FB PPU:108,105 CYC:12311
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdea5, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEA5  A9 33     LDA #$33                        A:01 X:55 Y:2C P:27 SP:FB PPU:108,114 CYC:12314
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdea7, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEA7  85 78     STA $78 = 7F                    A:33 X:55 Y:2C P:25 SP:FB PPU:108,120 CYC:12316
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdea9, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEA9  A9 44     LDA #$44                        A:33 X:55 Y:2C P:25 SP:FB PPU:108,129 CYC:12319
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeab, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x2c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEAB  A0 78     LDY #$78                        A:44 X:55 Y:2C P:25 SP:FB PPU:108,135 CYC:12321
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdead, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEAD  A2 00     LDX #$00                        A:44 X:55 Y:78 P:25 SP:FB PPU:108,141 CYC:12323
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeaf, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEAF  38        SEC                             A:44 X:00 Y:78 P:27 SP:FB PPU:108,147 CYC:12325
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeb0, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEB0  24 01     BIT $01 = FF                    A:44 X:00 Y:78 P:27 SP:FB PPU:108,153 CYC:12327
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdeb2, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEB2  B6 00     LDX $00,Y @ 78 = 33             A:44 X:00 Y:78 P:E5 SP:FB PPU:108,162 CYC:12330
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdeb4, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEB4  90 12     BCC $DEC8                       A:44 X:33 Y:78 P:65 SP:FB PPU:108,174 CYC:12334
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeb6, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEB6  50 10     BVC $DEC8                       A:44 X:33 Y:78 P:65 SP:FB PPU:108,180 CYC:12336
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeb8, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEB8  30 0E     BMI $DEC8                       A:44 X:33 Y:78 P:65 SP:FB PPU:108,186 CYC:12338
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeba, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEBA  F0 0C     BEQ $DEC8                       A:44 X:33 Y:78 P:65 SP:FB PPU:108,192 CYC:12340
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdebc, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEBC  E0 33     CPX #$33                        A:44 X:33 Y:78 P:65 SP:FB PPU:108,198 CYC:12342
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdebe, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEBE  D0 08     BNE $DEC8                       A:44 X:33 Y:78 P:67 SP:FB PPU:108,204 CYC:12344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdec0, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEC0  C0 78     CPY #$78                        A:44 X:33 Y:78 P:67 SP:FB PPU:108,210 CYC:12346
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdec2, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEC2  D0 04     BNE $DEC8                       A:44 X:33 Y:78 P:67 SP:FB PPU:108,216 CYC:12348
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdec4, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEC4  C9 44     CMP #$44                        A:44 X:33 Y:78 P:67 SP:FB PPU:108,222 CYC:12350
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdec6, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEC6  F0 04     BEQ $DECC                       A:44 X:33 Y:78 P:67 SP:FB PPU:108,228 CYC:12352
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdecc, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DECC  A9 97     LDA #$97                        A:44 X:33 Y:78 P:67 SP:FB PPU:108,237 CYC:12355
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdece, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DECE  85 7F     STA $7F = 00                    A:97 X:33 Y:78 P:E5 SP:FB PPU:108,243 CYC:12357
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xded0, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DED0  A9 47     LDA #$47                        A:97 X:33 Y:78 P:E5 SP:FB PPU:108,252 CYC:12360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xded2, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DED2  A0 FF     LDY #$FF                        A:47 X:33 Y:78 P:65 SP:FB PPU:108,258 CYC:12362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xded4, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DED4  A2 00     LDX #$00                        A:47 X:33 Y:FF P:E5 SP:FB PPU:108,264 CYC:12364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xded6, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DED6  18        CLC                             A:47 X:00 Y:FF P:67 SP:FB PPU:108,270 CYC:12366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xded7, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DED7  B8        CLV                             A:47 X:00 Y:FF P:66 SP:FB PPU:108,276 CYC:12368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xded8, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DED8  B6 80     LDX $80,Y @ 7F = 97             A:47 X:00 Y:FF P:26 SP:FB PPU:108,282 CYC:12370
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdeda, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEDA  B0 12     BCS $DEEE                       A:47 X:97 Y:FF P:A4 SP:FB PPU:108,294 CYC:12374
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdedc, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEDC  70 10     BVS $DEEE                       A:47 X:97 Y:FF P:A4 SP:FB PPU:108,300 CYC:12376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdede, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEDE  10 0E     BPL $DEEE                       A:47 X:97 Y:FF P:A4 SP:FB PPU:108,306 CYC:12378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdee0, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEE0  F0 0C     BEQ $DEEE                       A:47 X:97 Y:FF P:A4 SP:FB PPU:108,312 CYC:12380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdee2, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEE2  E0 97     CPX #$97                        A:47 X:97 Y:FF P:A4 SP:FB PPU:108,318 CYC:12382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdee4, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEE4  D0 08     BNE $DEEE                       A:47 X:97 Y:FF P:27 SP:FB PPU:108,324 CYC:12384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdee6, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEE6  C0 FF     CPY #$FF                        A:47 X:97 Y:FF P:27 SP:FB PPU:108,330 CYC:12386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdee8, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEE8  D0 04     BNE $DEEE                       A:47 X:97 Y:FF P:27 SP:FB PPU:108,336 CYC:12388
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeea, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEEA  C9 47     CMP #$47                        A:47 X:97 Y:FF P:27 SP:FB PPU:109,  1 CYC:12390
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdeec, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEEC  F0 04     BEQ $DEF2                       A:47 X:97 Y:FF P:27 SP:FB PPU:109,  7 CYC:12392
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdef2, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEF2  A9 00     LDA #$00                        A:47 X:97 Y:FF P:27 SP:FB PPU:109, 16 CYC:12395
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdef4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEF4  85 7F     STA $7F = 97                    A:00 X:97 Y:FF P:27 SP:FB PPU:109, 22 CYC:12397
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdef6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEF6  A9 47     LDA #$47                        A:00 X:97 Y:FF P:27 SP:FB PPU:109, 31 CYC:12400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdef8, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEF8  A0 FF     LDY #$FF                        A:47 X:97 Y:FF P:25 SP:FB PPU:109, 37 CYC:12402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdefa, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEFA  A2 69     LDX #$69                        A:47 X:97 Y:FF P:A5 SP:FB PPU:109, 43 CYC:12404
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdefc, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEFC  18        CLC                             A:47 X:69 Y:FF P:25 SP:FB PPU:109, 49 CYC:12406
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdefd, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEFD  B8        CLV                             A:47 X:69 Y:FF P:24 SP:FB PPU:109, 55 CYC:12408
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdefe, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DEFE  96 80     STX $80,Y @ 7F = 00             A:47 X:69 Y:FF P:24 SP:FB PPU:109, 61 CYC:12410
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdf00, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF00  B0 18     BCS $DF1A                       A:47 X:69 Y:FF P:24 SP:FB PPU:109, 73 CYC:12414
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf02, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF02  70 16     BVS $DF1A                       A:47 X:69 Y:FF P:24 SP:FB PPU:109, 79 CYC:12416
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf04, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF04  30 14     BMI $DF1A                       A:47 X:69 Y:FF P:24 SP:FB PPU:109, 85 CYC:12418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf06, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF06  F0 12     BEQ $DF1A                       A:47 X:69 Y:FF P:24 SP:FB PPU:109, 91 CYC:12420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf08, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF08  E0 69     CPX #$69                        A:47 X:69 Y:FF P:24 SP:FB PPU:109, 97 CYC:12422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf0a, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF0A  D0 0E     BNE $DF1A                       A:47 X:69 Y:FF P:27 SP:FB PPU:109,103 CYC:12424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf0c, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF0C  C0 FF     CPY #$FF                        A:47 X:69 Y:FF P:27 SP:FB PPU:109,109 CYC:12426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf0e, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF0E  D0 0A     BNE $DF1A                       A:47 X:69 Y:FF P:27 SP:FB PPU:109,115 CYC:12428
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf10, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF10  C9 47     CMP #$47                        A:47 X:69 Y:FF P:27 SP:FB PPU:109,121 CYC:12430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf12, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF12  D0 06     BNE $DF1A                       A:47 X:69 Y:FF P:27 SP:FB PPU:109,127 CYC:12432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf14, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF14  A5 7F     LDA $7F = 69                    A:47 X:69 Y:FF P:27 SP:FB PPU:109,133 CYC:12434
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf16, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF16  C9 69     CMP #$69                        A:69 X:69 Y:FF P:25 SP:FB PPU:109,142 CYC:12437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf18, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF18  F0 04     BEQ $DF1E                       A:69 X:69 Y:FF P:27 SP:FB PPU:109,148 CYC:12439
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf1e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF1E  A9 F5     LDA #$F5                        A:69 X:69 Y:FF P:27 SP:FB PPU:109,157 CYC:12442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf20, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF20  85 4F     STA $4F = 00                    A:F5 X:69 Y:FF P:A5 SP:FB PPU:109,163 CYC:12444
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf22, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF22  A9 47     LDA #$47                        A:F5 X:69 Y:FF P:A5 SP:FB PPU:109,172 CYC:12447
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf24, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF24  A0 4F     LDY #$4F                        A:47 X:69 Y:FF P:25 SP:FB PPU:109,178 CYC:12449
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf26, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF26  24 01     BIT $01 = FF                    A:47 X:69 Y:4F P:25 SP:FB PPU:109,184 CYC:12451
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf28, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x69, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF28  A2 00     LDX #$00                        A:47 X:69 Y:4F P:E5 SP:FB PPU:109,193 CYC:12454
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf2a, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF2A  38        SEC                             A:47 X:00 Y:4F P:67 SP:FB PPU:109,199 CYC:12456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf2b, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF2B  96 00     STX $00,Y @ 4F = F5             A:47 X:00 Y:4F P:67 SP:FB PPU:109,205 CYC:12458
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xdf2d, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF2D  90 16     BCC $DF45                       A:47 X:00 Y:4F P:67 SP:FB PPU:109,217 CYC:12462
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf2f, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF2F  50 14     BVC $DF45                       A:47 X:00 Y:4F P:67 SP:FB PPU:109,223 CYC:12464
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf31, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF31  30 12     BMI $DF45                       A:47 X:00 Y:4F P:67 SP:FB PPU:109,229 CYC:12466
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf33, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF33  D0 10     BNE $DF45                       A:47 X:00 Y:4F P:67 SP:FB PPU:109,235 CYC:12468
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf35, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF35  E0 00     CPX #$00                        A:47 X:00 Y:4F P:67 SP:FB PPU:109,241 CYC:12470
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf37, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF37  D0 0C     BNE $DF45                       A:47 X:00 Y:4F P:67 SP:FB PPU:109,247 CYC:12472
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf39, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF39  C0 4F     CPY #$4F                        A:47 X:00 Y:4F P:67 SP:FB PPU:109,253 CYC:12474
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf3b, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF3B  D0 08     BNE $DF45                       A:47 X:00 Y:4F P:67 SP:FB PPU:109,259 CYC:12476
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf3d, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF3D  C9 47     CMP #$47                        A:47 X:00 Y:4F P:67 SP:FB PPU:109,265 CYC:12478
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf3f, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF3F  D0 04     BNE $DF45                       A:47 X:00 Y:4F P:67 SP:FB PPU:109,271 CYC:12480
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xdf41, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF41  A5 4F     LDA $4F = 00                    A:47 X:00 Y:4F P:67 SP:FB PPU:109,277 CYC:12482
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF43  F0 04     BEQ $DF49                       A:00 X:00 Y:4F P:67 SP:FB PPU:109,286 CYC:12485
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xdf49, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // DF49  60        RTS                             A:00 X:00 Y:4F P:67 SP:FB PPU:109,295 CYC:12488
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc62c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C62C  20 AA E1  JSR $E1AA                       A:00 X:00 Y:4F P:67 SP:FD PPU:109,313 CYC:12494
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe1aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1AA  A9 FF     LDA #$FF                        A:00 X:00 Y:4F P:67 SP:FB PPU:109,331 CYC:12500
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ac, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1AC  85 01     STA $01 = FF                    A:FF X:00 Y:4F P:E5 SP:FB PPU:109,337 CYC:12502
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ae, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1AE  A9 AA     LDA #$AA                        A:FF X:00 Y:4F P:E5 SP:FB PPU:110,  5 CYC:12505
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1b0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1B0  8D 33 06  STA $0633 = 00                  A:AA X:00 Y:4F P:E5 SP:FB PPU:110, 11 CYC:12507
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe1b3, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1B3  A9 BB     LDA #$BB                        A:AA X:00 Y:4F P:E5 SP:FB PPU:110, 23 CYC:12511
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1b5, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1B5  8D 89 06  STA $0689 = 00                  A:BB X:00 Y:4F P:E5 SP:FB PPU:110, 29 CYC:12513
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe1b8, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1B8  A2 00     LDX #$00                        A:BB X:00 Y:4F P:E5 SP:FB PPU:110, 41 CYC:12517
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ba, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1BA  A9 66     LDA #$66                        A:BB X:00 Y:4F P:67 SP:FB PPU:110, 47 CYC:12519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1bc, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1BC  24 01     BIT $01 = FF                    A:66 X:00 Y:4F P:65 SP:FB PPU:110, 53 CYC:12521
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe1be, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1BE  38        SEC                             A:66 X:00 Y:4F P:E5 SP:FB PPU:110, 62 CYC:12524
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1bf, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1BF  A0 00     LDY #$00                        A:66 X:00 Y:4F P:E5 SP:FB PPU:110, 68 CYC:12526
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1c1, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1C1  BC 33 06  LDY $0633,X @ 0633 = AA         A:66 X:00 Y:00 P:67 SP:FB PPU:110, 74 CYC:12528
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe1c4, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1C4  10 12     BPL $E1D8                       A:66 X:00 Y:AA P:E5 SP:FB PPU:110, 86 CYC:12532
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1c6, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1C6  F0 10     BEQ $E1D8                       A:66 X:00 Y:AA P:E5 SP:FB PPU:110, 92 CYC:12534
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1c8, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1C8  50 0E     BVC $E1D8                       A:66 X:00 Y:AA P:E5 SP:FB PPU:110, 98 CYC:12536
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ca, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1CA  90 0C     BCC $E1D8                       A:66 X:00 Y:AA P:E5 SP:FB PPU:110,104 CYC:12538
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1cc, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1CC  C9 66     CMP #$66                        A:66 X:00 Y:AA P:E5 SP:FB PPU:110,110 CYC:12540
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ce, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1CE  D0 08     BNE $E1D8                       A:66 X:00 Y:AA P:67 SP:FB PPU:110,116 CYC:12542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1d0, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1D0  E0 00     CPX #$00                        A:66 X:00 Y:AA P:67 SP:FB PPU:110,122 CYC:12544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1d2, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1D2  D0 04     BNE $E1D8                       A:66 X:00 Y:AA P:67 SP:FB PPU:110,128 CYC:12546
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1d4, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1D4  C0 AA     CPY #$AA                        A:66 X:00 Y:AA P:67 SP:FB PPU:110,134 CYC:12548
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1d6, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1D6  F0 04     BEQ $E1DC                       A:66 X:00 Y:AA P:67 SP:FB PPU:110,140 CYC:12550
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe1dc, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1DC  A2 8A     LDX #$8A                        A:66 X:00 Y:AA P:67 SP:FB PPU:110,149 CYC:12553
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1de, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1DE  A9 66     LDA #$66                        A:66 X:8A Y:AA P:E5 SP:FB PPU:110,155 CYC:12555
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1e0, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1E0  B8        CLV                             A:66 X:8A Y:AA P:65 SP:FB PPU:110,161 CYC:12557
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1e1, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1E1  18        CLC                             A:66 X:8A Y:AA P:25 SP:FB PPU:110,167 CYC:12559
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1e2, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1E2  A0 00     LDY #$00                        A:66 X:8A Y:AA P:24 SP:FB PPU:110,173 CYC:12561
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1e4, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1E4  BC FF 05  LDY $05FF,X @ 0689 = BB         A:66 X:8A Y:00 P:26 SP:FB PPU:110,179 CYC:12563
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe1e7, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1E7  10 12     BPL $E1FB                       A:66 X:8A Y:BB P:A4 SP:FB PPU:110,194 CYC:12568
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1e9, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1E9  F0 10     BEQ $E1FB                       A:66 X:8A Y:BB P:A4 SP:FB PPU:110,200 CYC:12570
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1eb, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1EB  70 0E     BVS $E1FB                       A:66 X:8A Y:BB P:A4 SP:FB PPU:110,206 CYC:12572
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ed, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1ED  B0 0C     BCS $E1FB                       A:66 X:8A Y:BB P:A4 SP:FB PPU:110,212 CYC:12574
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ef, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1EF  C0 BB     CPY #$BB                        A:66 X:8A Y:BB P:A4 SP:FB PPU:110,218 CYC:12576
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1f1, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1F1  D0 08     BNE $E1FB                       A:66 X:8A Y:BB P:27 SP:FB PPU:110,224 CYC:12578
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1f3, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1F3  C9 66     CMP #$66                        A:66 X:8A Y:BB P:27 SP:FB PPU:110,230 CYC:12580
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1f5, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1F5  D0 04     BNE $E1FB                       A:66 X:8A Y:BB P:27 SP:FB PPU:110,236 CYC:12582
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1f7, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1F7  E0 8A     CPX #$8A                        A:66 X:8A Y:BB P:27 SP:FB PPU:110,242 CYC:12584
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe1f9, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1F9  F0 04     BEQ $E1FF                       A:66 X:8A Y:BB P:27 SP:FB PPU:110,248 CYC:12586
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe1ff, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E1FF  A0 53     LDY #$53                        A:66 X:8A Y:BB P:27 SP:FB PPU:110,257 CYC:12589
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe201, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E201  A9 AA     LDA #$AA                        A:66 X:8A Y:53 P:25 SP:FB PPU:110,263 CYC:12591
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe203, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E203  A2 78     LDX #$78                        A:AA X:8A Y:53 P:A5 SP:FB PPU:110,269 CYC:12593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe205, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E205  8D 78 06  STA $0678 = 00                  A:AA X:78 Y:53 P:25 SP:FB PPU:110,275 CYC:12595
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe208, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E208  20 B6 F7  JSR $F7B6                       A:AA X:78 Y:53 P:25 SP:FB PPU:110,287 CYC:12599
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B6  18        CLC                             A:AA X:78 Y:53 P:25 SP:F9 PPU:110,305 CYC:12605
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B7  A9 FF     LDA #$FF                        A:AA X:78 Y:53 P:24 SP:F9 PPU:110,311 CYC:12607
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7B9  85 01     STA $01 = FF                    A:FF X:78 Y:53 P:A4 SP:F9 PPU:110,317 CYC:12609
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BB  24 01     BIT $01 = FF                    A:FF X:78 Y:53 P:A4 SP:F9 PPU:110,326 CYC:12612
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BD  A9 55     LDA #$55                        A:FF X:78 Y:53 P:E4 SP:F9 PPU:110,335 CYC:12615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7BF  60        RTS                             A:55 X:78 Y:53 P:64 SP:F9 PPU:111,  0 CYC:12617
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe20b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E20B  1D 00 06  ORA $0600,X @ 0678 = AA         A:55 X:78 Y:53 P:64 SP:FB PPU:111, 18 CYC:12623
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe20e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E20E  20 C0 F7  JSR $F7C0                       A:FF X:78 Y:53 P:E4 SP:FB PPU:111, 30 CYC:12627
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C0  B0 09     BCS $F7CB                       A:FF X:78 Y:53 P:E4 SP:F9 PPU:111, 48 CYC:12633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C2  10 07     BPL $F7CB                       A:FF X:78 Y:53 P:E4 SP:F9 PPU:111, 54 CYC:12635
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C4  C9 FF     CMP #$FF                        A:FF X:78 Y:53 P:E4 SP:F9 PPU:111, 60 CYC:12637
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C6  D0 03     BNE $F7CB                       A:FF X:78 Y:53 P:67 SP:F9 PPU:111, 66 CYC:12639
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7c8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7C8  50 01     BVC $F7CB                       A:FF X:78 Y:53 P:67 SP:F9 PPU:111, 72 CYC:12641
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ca, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CA  60        RTS                             A:FF X:78 Y:53 P:67 SP:F9 PPU:111, 78 CYC:12643
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe211, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E211  C8        INY                             A:FF X:78 Y:53 P:67 SP:FB PPU:111, 96 CYC:12649
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe212, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E212  A9 00     LDA #$00                        A:FF X:78 Y:54 P:65 SP:FB PPU:111,102 CYC:12651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe214, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E214  8D 78 06  STA $0678 = AA                  A:00 X:78 Y:54 P:67 SP:FB PPU:111,108 CYC:12653
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe217, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E217  20 CE F7  JSR $F7CE                       A:00 X:78 Y:54 P:67 SP:FB PPU:111,120 CYC:12657
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ce, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CE  38        SEC                             A:00 X:78 Y:54 P:67 SP:F9 PPU:111,138 CYC:12663
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7CF  B8        CLV                             A:00 X:78 Y:54 P:67 SP:F9 PPU:111,144 CYC:12665
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D0  A9 00     LDA #$00                        A:00 X:78 Y:54 P:27 SP:F9 PPU:111,150 CYC:12667
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D2  60        RTS                             A:00 X:78 Y:54 P:27 SP:F9 PPU:111,156 CYC:12669
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe21a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E21A  1D 00 06  ORA $0600,X @ 0678 = 00         A:00 X:78 Y:54 P:27 SP:FB PPU:111,174 CYC:12675
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe21d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E21D  20 D3 F7  JSR $F7D3                       A:00 X:78 Y:54 P:27 SP:FB PPU:111,186 CYC:12679
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D3  D0 07     BNE $F7DC                       A:00 X:78 Y:54 P:27 SP:F9 PPU:111,204 CYC:12685
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D5  70 05     BVS $F7DC                       A:00 X:78 Y:54 P:27 SP:F9 PPU:111,210 CYC:12687
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D7  90 03     BCC $F7DC                       A:00 X:78 Y:54 P:27 SP:F9 PPU:111,216 CYC:12689
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7d9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7D9  30 01     BMI $F7DC                       A:00 X:78 Y:54 P:27 SP:F9 PPU:111,222 CYC:12691
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7db, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DB  60        RTS                             A:00 X:78 Y:54 P:27 SP:F9 PPU:111,228 CYC:12693
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe220, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E220  C8        INY                             A:00 X:78 Y:54 P:27 SP:FB PPU:111,246 CYC:12699
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe221, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E221  A9 AA     LDA #$AA                        A:00 X:78 Y:55 P:25 SP:FB PPU:111,252 CYC:12701
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe223, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E223  8D 78 06  STA $0678 = 00                  A:AA X:78 Y:55 P:A5 SP:FB PPU:111,258 CYC:12703
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe226, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E226  20 DF F7  JSR $F7DF                       A:AA X:78 Y:55 P:A5 SP:FB PPU:111,270 CYC:12707
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7df, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7DF  18        CLC                             A:AA X:78 Y:55 P:A5 SP:F9 PPU:111,288 CYC:12713
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E0  24 01     BIT $01 = FF                    A:AA X:78 Y:55 P:A4 SP:F9 PPU:111,294 CYC:12715
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E2  A9 55     LDA #$55                        A:AA X:78 Y:55 P:E4 SP:F9 PPU:111,303 CYC:12718
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E4  60        RTS                             A:55 X:78 Y:55 P:64 SP:F9 PPU:111,309 CYC:12720
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe229, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E229  3D 00 06  AND $0600,X @ 0678 = AA         A:55 X:78 Y:55 P:64 SP:FB PPU:111,327 CYC:12726
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe22c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E22C  20 E5 F7  JSR $F7E5                       A:00 X:78 Y:55 P:66 SP:FB PPU:111,339 CYC:12730
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E5  D0 07     BNE $F7EE                       A:00 X:78 Y:55 P:66 SP:F9 PPU:112, 16 CYC:12736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E7  50 05     BVC $F7EE                       A:00 X:78 Y:55 P:66 SP:F9 PPU:112, 22 CYC:12738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7e9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7E9  B0 03     BCS $F7EE                       A:00 X:78 Y:55 P:66 SP:F9 PPU:112, 28 CYC:12740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7eb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7EB  30 01     BMI $F7EE                       A:00 X:78 Y:55 P:66 SP:F9 PPU:112, 34 CYC:12742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ed, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7ED  60        RTS                             A:00 X:78 Y:55 P:66 SP:F9 PPU:112, 40 CYC:12744
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe22f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E22F  C8        INY                             A:00 X:78 Y:55 P:66 SP:FB PPU:112, 58 CYC:12750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe230, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E230  A9 EF     LDA #$EF                        A:00 X:78 Y:56 P:64 SP:FB PPU:112, 64 CYC:12752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe232, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E232  8D 78 06  STA $0678 = AA                  A:EF X:78 Y:56 P:E4 SP:FB PPU:112, 70 CYC:12754
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe235, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E235  20 F1 F7  JSR $F7F1                       A:EF X:78 Y:56 P:E4 SP:FB PPU:112, 82 CYC:12758
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f1, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F1  38        SEC                             A:EF X:78 Y:56 P:E4 SP:F9 PPU:112,100 CYC:12764
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f2, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F2  B8        CLV                             A:EF X:78 Y:56 P:E5 SP:F9 PPU:112,106 CYC:12766
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f3, cpu.pc);
    try expectEqual(0xef, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F3  A9 F8     LDA #$F8                        A:EF X:78 Y:56 P:A5 SP:F9 PPU:112,112 CYC:12768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f5, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F5  60        RTS                             A:F8 X:78 Y:56 P:A5 SP:F9 PPU:112,118 CYC:12770
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe238, cpu.pc);
    try expectEqual(0xf8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E238  3D 00 06  AND $0600,X @ 0678 = EF         A:F8 X:78 Y:56 P:A5 SP:FB PPU:112,136 CYC:12776
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe23b, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E23B  20 F6 F7  JSR $F7F6                       A:E8 X:78 Y:56 P:A5 SP:FB PPU:112,148 CYC:12780
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f6, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F6  90 09     BCC $F801                       A:E8 X:78 Y:56 P:A5 SP:F9 PPU:112,166 CYC:12786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7f8, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7F8  10 07     BPL $F801                       A:E8 X:78 Y:56 P:A5 SP:F9 PPU:112,172 CYC:12788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fa, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FA  C9 E8     CMP #$E8                        A:E8 X:78 Y:56 P:A5 SP:F9 PPU:112,178 CYC:12790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fc, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FC  D0 03     BNE $F801                       A:E8 X:78 Y:56 P:27 SP:F9 PPU:112,184 CYC:12792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7fe, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F7FE  70 01     BVS $F801                       A:E8 X:78 Y:56 P:27 SP:F9 PPU:112,190 CYC:12794
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf800, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F800  60        RTS                             A:E8 X:78 Y:56 P:27 SP:F9 PPU:112,196 CYC:12796
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe23e, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E23E  C8        INY                             A:E8 X:78 Y:56 P:27 SP:FB PPU:112,214 CYC:12802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe23f, cpu.pc);
    try expectEqual(0xe8, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E23F  A9 AA     LDA #$AA                        A:E8 X:78 Y:57 P:25 SP:FB PPU:112,220 CYC:12804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe241, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E241  8D 78 06  STA $0678 = EF                  A:AA X:78 Y:57 P:A5 SP:FB PPU:112,226 CYC:12806
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe244, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E244  20 04 F8  JSR $F804                       A:AA X:78 Y:57 P:A5 SP:FB PPU:112,238 CYC:12810
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf804, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F804  18        CLC                             A:AA X:78 Y:57 P:A5 SP:F9 PPU:112,256 CYC:12816
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf805, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F805  24 01     BIT $01 = FF                    A:AA X:78 Y:57 P:A4 SP:F9 PPU:112,262 CYC:12818
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf807, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F807  A9 5F     LDA #$5F                        A:AA X:78 Y:57 P:E4 SP:F9 PPU:112,271 CYC:12821
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf809, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F809  60        RTS                             A:5F X:78 Y:57 P:64 SP:F9 PPU:112,277 CYC:12823
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe247, cpu.pc);
    try expectEqual(0x5f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E247  5D 00 06  EOR $0600,X @ 0678 = AA         A:5F X:78 Y:57 P:64 SP:FB PPU:112,295 CYC:12829
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe24a, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E24A  20 0A F8  JSR $F80A                       A:F5 X:78 Y:57 P:E4 SP:FB PPU:112,307 CYC:12833
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf80a, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80A  B0 09     BCS $F815                       A:F5 X:78 Y:57 P:E4 SP:F9 PPU:112,325 CYC:12839
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80c, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80C  10 07     BPL $F815                       A:F5 X:78 Y:57 P:E4 SP:F9 PPU:112,331 CYC:12841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf80e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F80E  C9 F5     CMP #$F5                        A:F5 X:78 Y:57 P:E4 SP:F9 PPU:112,337 CYC:12843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf810, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F810  D0 03     BNE $F815                       A:F5 X:78 Y:57 P:67 SP:F9 PPU:113,  2 CYC:12845
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf812, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F812  50 01     BVC $F815                       A:F5 X:78 Y:57 P:67 SP:F9 PPU:113,  8 CYC:12847
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf814, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F814  60        RTS                             A:F5 X:78 Y:57 P:67 SP:F9 PPU:113, 14 CYC:12849
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe24d, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E24D  C8        INY                             A:F5 X:78 Y:57 P:67 SP:FB PPU:113, 32 CYC:12855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe24e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E24E  A9 70     LDA #$70                        A:F5 X:78 Y:58 P:65 SP:FB PPU:113, 38 CYC:12857
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe250, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E250  8D 78 06  STA $0678 = AA                  A:70 X:78 Y:58 P:65 SP:FB PPU:113, 44 CYC:12859
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe253, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E253  20 18 F8  JSR $F818                       A:70 X:78 Y:58 P:65 SP:FB PPU:113, 56 CYC:12863
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf818, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F818  38        SEC                             A:70 X:78 Y:58 P:65 SP:F9 PPU:113, 74 CYC:12869
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf819, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F819  B8        CLV                             A:70 X:78 Y:58 P:65 SP:F9 PPU:113, 80 CYC:12871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81a, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81A  A9 70     LDA #$70                        A:70 X:78 Y:58 P:25 SP:F9 PPU:113, 86 CYC:12873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81c, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81C  60        RTS                             A:70 X:78 Y:58 P:25 SP:F9 PPU:113, 92 CYC:12875
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe256, cpu.pc);
    try expectEqual(0x70, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E256  5D 00 06  EOR $0600,X @ 0678 = 70         A:70 X:78 Y:58 P:25 SP:FB PPU:113,110 CYC:12881
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe259, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E259  20 1D F8  JSR $F81D                       A:00 X:78 Y:58 P:27 SP:FB PPU:113,122 CYC:12885
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf81d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81D  D0 07     BNE $F826                       A:00 X:78 Y:58 P:27 SP:F9 PPU:113,140 CYC:12891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf81f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F81F  70 05     BVS $F826                       A:00 X:78 Y:58 P:27 SP:F9 PPU:113,146 CYC:12893
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf821, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F821  90 03     BCC $F826                       A:00 X:78 Y:58 P:27 SP:F9 PPU:113,152 CYC:12895
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf823, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F823  30 01     BMI $F826                       A:00 X:78 Y:58 P:27 SP:F9 PPU:113,158 CYC:12897
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf825, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F825  60        RTS                             A:00 X:78 Y:58 P:27 SP:F9 PPU:113,164 CYC:12899
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe25c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E25C  C8        INY                             A:00 X:78 Y:58 P:27 SP:FB PPU:113,182 CYC:12905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe25d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E25D  A9 69     LDA #$69                        A:00 X:78 Y:59 P:25 SP:FB PPU:113,188 CYC:12907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe25f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E25F  8D 78 06  STA $0678 = 70                  A:69 X:78 Y:59 P:25 SP:FB PPU:113,194 CYC:12909
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe262, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E262  20 29 F8  JSR $F829                       A:69 X:78 Y:59 P:25 SP:FB PPU:113,206 CYC:12913
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf829, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F829  18        CLC                             A:69 X:78 Y:59 P:25 SP:F9 PPU:113,224 CYC:12919
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82a, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82A  24 01     BIT $01 = FF                    A:69 X:78 Y:59 P:24 SP:F9 PPU:113,230 CYC:12921
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf82c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82C  A9 00     LDA #$00                        A:69 X:78 Y:59 P:E4 SP:F9 PPU:113,239 CYC:12924
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf82e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82E  60        RTS                             A:00 X:78 Y:59 P:66 SP:F9 PPU:113,245 CYC:12926
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe265, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E265  7D 00 06  ADC $0600,X @ 0678 = 69         A:00 X:78 Y:59 P:66 SP:FB PPU:113,263 CYC:12932
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe268, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E268  20 2F F8  JSR $F82F                       A:69 X:78 Y:59 P:24 SP:FB PPU:113,275 CYC:12936
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf82f, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F82F  30 09     BMI $F83A                       A:69 X:78 Y:59 P:24 SP:F9 PPU:113,293 CYC:12942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf831, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F831  B0 07     BCS $F83A                       A:69 X:78 Y:59 P:24 SP:F9 PPU:113,299 CYC:12944
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf833, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F833  C9 69     CMP #$69                        A:69 X:78 Y:59 P:24 SP:F9 PPU:113,305 CYC:12946
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf835, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F835  D0 03     BNE $F83A                       A:69 X:78 Y:59 P:27 SP:F9 PPU:113,311 CYC:12948
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf837, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F837  70 01     BVS $F83A                       A:69 X:78 Y:59 P:27 SP:F9 PPU:113,317 CYC:12950
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf839, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F839  60        RTS                             A:69 X:78 Y:59 P:27 SP:F9 PPU:113,323 CYC:12952
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe26b, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x59, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E26B  C8        INY                             A:69 X:78 Y:59 P:27 SP:FB PPU:114,  0 CYC:12958
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe26c, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E26C  20 3D F8  JSR $F83D                       A:69 X:78 Y:5A P:25 SP:FB PPU:114,  6 CYC:12960
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf83d, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83D  38        SEC                             A:69 X:78 Y:5A P:25 SP:F9 PPU:114, 24 CYC:12966
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf83e, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F83E  24 01     BIT $01 = FF                    A:69 X:78 Y:5A P:25 SP:F9 PPU:114, 30 CYC:12968
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf840, cpu.pc);
    try expectEqual(0x69, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F840  A9 00     LDA #$00                        A:69 X:78 Y:5A P:E5 SP:F9 PPU:114, 39 CYC:12971
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf842, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F842  60        RTS                             A:00 X:78 Y:5A P:67 SP:F9 PPU:114, 45 CYC:12973
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe26f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E26F  7D 00 06  ADC $0600,X @ 0678 = 69         A:00 X:78 Y:5A P:67 SP:FB PPU:114, 63 CYC:12979
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe272, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E272  20 43 F8  JSR $F843                       A:6A X:78 Y:5A P:24 SP:FB PPU:114, 75 CYC:12983
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf843, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F843  30 09     BMI $F84E                       A:6A X:78 Y:5A P:24 SP:F9 PPU:114, 93 CYC:12989
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf845, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F845  B0 07     BCS $F84E                       A:6A X:78 Y:5A P:24 SP:F9 PPU:114, 99 CYC:12991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf847, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F847  C9 6A     CMP #$6A                        A:6A X:78 Y:5A P:24 SP:F9 PPU:114,105 CYC:12993
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf849, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F849  D0 03     BNE $F84E                       A:6A X:78 Y:5A P:27 SP:F9 PPU:114,111 CYC:12995
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84b, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84B  70 01     BVS $F84E                       A:6A X:78 Y:5A P:27 SP:F9 PPU:114,117 CYC:12997
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf84d, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F84D  60        RTS                             A:6A X:78 Y:5A P:27 SP:F9 PPU:114,123 CYC:12999
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe275, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E275  C8        INY                             A:6A X:78 Y:5A P:27 SP:FB PPU:114,141 CYC:13005
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe276, cpu.pc);
    try expectEqual(0x6a, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E276  A9 7F     LDA #$7F                        A:6A X:78 Y:5B P:25 SP:FB PPU:114,147 CYC:13007
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe278, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E278  8D 78 06  STA $0678 = 69                  A:7F X:78 Y:5B P:25 SP:FB PPU:114,153 CYC:13009
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe27b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E27B  20 51 F8  JSR $F851                       A:7F X:78 Y:5B P:25 SP:FB PPU:114,165 CYC:13013
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf851, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F851  38        SEC                             A:7F X:78 Y:5B P:25 SP:F9 PPU:114,183 CYC:13019
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf852, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F852  B8        CLV                             A:7F X:78 Y:5B P:25 SP:F9 PPU:114,189 CYC:13021
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf853, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F853  A9 7F     LDA #$7F                        A:7F X:78 Y:5B P:25 SP:F9 PPU:114,195 CYC:13023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf855, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F855  60        RTS                             A:7F X:78 Y:5B P:25 SP:F9 PPU:114,201 CYC:13025
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe27e, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E27E  7D 00 06  ADC $0600,X @ 0678 = 7F         A:7F X:78 Y:5B P:25 SP:FB PPU:114,219 CYC:13031
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe281, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E281  20 56 F8  JSR $F856                       A:FF X:78 Y:5B P:E4 SP:FB PPU:114,231 CYC:13035
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf856, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F856  10 09     BPL $F861                       A:FF X:78 Y:5B P:E4 SP:F9 PPU:114,249 CYC:13041
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf858, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F858  B0 07     BCS $F861                       A:FF X:78 Y:5B P:E4 SP:F9 PPU:114,255 CYC:13043
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85A  C9 FF     CMP #$FF                        A:FF X:78 Y:5B P:E4 SP:F9 PPU:114,261 CYC:13045
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85C  D0 03     BNE $F861                       A:FF X:78 Y:5B P:67 SP:F9 PPU:114,267 CYC:13047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf85e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F85E  50 01     BVC $F861                       A:FF X:78 Y:5B P:67 SP:F9 PPU:114,273 CYC:13049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf860, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F860  60        RTS                             A:FF X:78 Y:5B P:67 SP:F9 PPU:114,279 CYC:13051
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe284, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E284  C8        INY                             A:FF X:78 Y:5B P:67 SP:FB PPU:114,297 CYC:13057
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe285, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E285  A9 80     LDA #$80                        A:FF X:78 Y:5C P:65 SP:FB PPU:114,303 CYC:13059
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe287, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E287  8D 78 06  STA $0678 = 7F                  A:80 X:78 Y:5C P:E5 SP:FB PPU:114,309 CYC:13061
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe28a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E28A  20 64 F8  JSR $F864                       A:80 X:78 Y:5C P:E5 SP:FB PPU:114,321 CYC:13065
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf864, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F864  18        CLC                             A:80 X:78 Y:5C P:E5 SP:F9 PPU:114,339 CYC:13071
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf865, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F865  24 01     BIT $01 = FF                    A:80 X:78 Y:5C P:E4 SP:F9 PPU:115,  4 CYC:13073
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf867, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F867  A9 7F     LDA #$7F                        A:80 X:78 Y:5C P:E4 SP:F9 PPU:115, 13 CYC:13076
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf869, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F869  60        RTS                             A:7F X:78 Y:5C P:64 SP:F9 PPU:115, 19 CYC:13078
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe28d, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E28D  7D 00 06  ADC $0600,X @ 0678 = 80         A:7F X:78 Y:5C P:64 SP:FB PPU:115, 37 CYC:13084
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe290, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E290  20 6A F8  JSR $F86A                       A:FF X:78 Y:5C P:A4 SP:FB PPU:115, 49 CYC:13088
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf86a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86A  10 09     BPL $F875                       A:FF X:78 Y:5C P:A4 SP:F9 PPU:115, 67 CYC:13094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86C  B0 07     BCS $F875                       A:FF X:78 Y:5C P:A4 SP:F9 PPU:115, 73 CYC:13096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf86e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F86E  C9 FF     CMP #$FF                        A:FF X:78 Y:5C P:A4 SP:F9 PPU:115, 79 CYC:13098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf870, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F870  D0 03     BNE $F875                       A:FF X:78 Y:5C P:27 SP:F9 PPU:115, 85 CYC:13100
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf872, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F872  70 01     BVS $F875                       A:FF X:78 Y:5C P:27 SP:F9 PPU:115, 91 CYC:13102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf874, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F874  60        RTS                             A:FF X:78 Y:5C P:27 SP:F9 PPU:115, 97 CYC:13104
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe293, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E293  C8        INY                             A:FF X:78 Y:5C P:27 SP:FB PPU:115,115 CYC:13110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe294, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E294  20 78 F8  JSR $F878                       A:FF X:78 Y:5D P:25 SP:FB PPU:115,121 CYC:13112
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf878, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F878  38        SEC                             A:FF X:78 Y:5D P:25 SP:F9 PPU:115,139 CYC:13118
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf879, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F879  B8        CLV                             A:FF X:78 Y:5D P:25 SP:F9 PPU:115,145 CYC:13120
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87A  A9 7F     LDA #$7F                        A:FF X:78 Y:5D P:25 SP:F9 PPU:115,151 CYC:13122
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87C  60        RTS                             A:7F X:78 Y:5D P:25 SP:F9 PPU:115,157 CYC:13124
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe297, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E297  7D 00 06  ADC $0600,X @ 0678 = 80         A:7F X:78 Y:5D P:25 SP:FB PPU:115,175 CYC:13130
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe29a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E29A  20 7D F8  JSR $F87D                       A:00 X:78 Y:5D P:27 SP:FB PPU:115,187 CYC:13134
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf87d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87D  D0 07     BNE $F886                       A:00 X:78 Y:5D P:27 SP:F9 PPU:115,205 CYC:13140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf87f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F87F  30 05     BMI $F886                       A:00 X:78 Y:5D P:27 SP:F9 PPU:115,211 CYC:13142
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf881, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F881  70 03     BVS $F886                       A:00 X:78 Y:5D P:27 SP:F9 PPU:115,217 CYC:13144
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf883, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F883  90 01     BCC $F886                       A:00 X:78 Y:5D P:27 SP:F9 PPU:115,223 CYC:13146
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf885, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F885  60        RTS                             A:00 X:78 Y:5D P:27 SP:F9 PPU:115,229 CYC:13148
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe29d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E29D  C8        INY                             A:00 X:78 Y:5D P:27 SP:FB PPU:115,247 CYC:13154
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe29e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E29E  A9 40     LDA #$40                        A:00 X:78 Y:5E P:25 SP:FB PPU:115,253 CYC:13156
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2a0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2A0  8D 78 06  STA $0678 = 80                  A:40 X:78 Y:5E P:25 SP:FB PPU:115,259 CYC:13158
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2a3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2A3  20 89 F8  JSR $F889                       A:40 X:78 Y:5E P:25 SP:FB PPU:115,271 CYC:13162
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf889, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F889  24 01     BIT $01 = FF                    A:40 X:78 Y:5E P:25 SP:F9 PPU:115,289 CYC:13168
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf88b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88B  A9 40     LDA #$40                        A:40 X:78 Y:5E P:E5 SP:F9 PPU:115,298 CYC:13171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf88d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88D  60        RTS                             A:40 X:78 Y:5E P:65 SP:F9 PPU:115,304 CYC:13173
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2a6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2A6  DD 00 06  CMP $0600,X @ 0678 = 40         A:40 X:78 Y:5E P:65 SP:FB PPU:115,322 CYC:13179
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2a9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2A9  20 8E F8  JSR $F88E                       A:40 X:78 Y:5E P:67 SP:FB PPU:115,334 CYC:13183
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf88e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F88E  30 07     BMI $F897                       A:40 X:78 Y:5E P:67 SP:F9 PPU:116, 11 CYC:13189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf890, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F890  90 05     BCC $F897                       A:40 X:78 Y:5E P:67 SP:F9 PPU:116, 17 CYC:13191
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf892, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F892  D0 03     BNE $F897                       A:40 X:78 Y:5E P:67 SP:F9 PPU:116, 23 CYC:13193
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf894, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F894  50 01     BVC $F897                       A:40 X:78 Y:5E P:67 SP:F9 PPU:116, 29 CYC:13195
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf896, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F896  60        RTS                             A:40 X:78 Y:5E P:67 SP:F9 PPU:116, 35 CYC:13197
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ac, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2AC  C8        INY                             A:40 X:78 Y:5E P:67 SP:FB PPU:116, 53 CYC:13203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ad, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2AD  48        PHA                             A:40 X:78 Y:5F P:65 SP:FB PPU:116, 59 CYC:13205
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ae, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2AE  A9 3F     LDA #$3F                        A:40 X:78 Y:5F P:65 SP:FA PPU:116, 68 CYC:13208
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2b0, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2B0  8D 78 06  STA $0678 = 40                  A:3F X:78 Y:5F P:65 SP:FA PPU:116, 74 CYC:13210
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2b3, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2B3  68        PLA                             A:3F X:78 Y:5F P:65 SP:FA PPU:116, 86 CYC:13214
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2b4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2B4  20 9A F8  JSR $F89A                       A:40 X:78 Y:5F P:65 SP:FB PPU:116, 98 CYC:13218
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89A  B8        CLV                             A:40 X:78 Y:5F P:65 SP:F9 PPU:116,116 CYC:13224
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89B  60        RTS                             A:40 X:78 Y:5F P:25 SP:F9 PPU:116,122 CYC:13226
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2b7, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2B7  DD 00 06  CMP $0600,X @ 0678 = 3F         A:40 X:78 Y:5F P:25 SP:FB PPU:116,140 CYC:13232
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ba, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2BA  20 9C F8  JSR $F89C                       A:40 X:78 Y:5F P:25 SP:FB PPU:116,152 CYC:13236
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf89c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89C  F0 07     BEQ $F8A5                       A:40 X:78 Y:5F P:25 SP:F9 PPU:116,170 CYC:13242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf89e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F89E  30 05     BMI $F8A5                       A:40 X:78 Y:5F P:25 SP:F9 PPU:116,176 CYC:13244
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A0  90 03     BCC $F8A5                       A:40 X:78 Y:5F P:25 SP:F9 PPU:116,182 CYC:13246
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A2  70 01     BVS $F8A5                       A:40 X:78 Y:5F P:25 SP:F9 PPU:116,188 CYC:13248
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A4  60        RTS                             A:40 X:78 Y:5F P:25 SP:F9 PPU:116,194 CYC:13250
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2bd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x5f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2BD  C8        INY                             A:40 X:78 Y:5F P:25 SP:FB PPU:116,212 CYC:13256
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2be, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2BE  48        PHA                             A:40 X:78 Y:60 P:25 SP:FB PPU:116,218 CYC:13258
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe2bf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2BF  A9 41     LDA #$41                        A:40 X:78 Y:60 P:25 SP:FA PPU:116,227 CYC:13261
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2c1, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2C1  8D 78 06  STA $0678 = 3F                  A:41 X:78 Y:60 P:25 SP:FA PPU:116,233 CYC:13263
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2c4, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2C4  68        PLA                             A:41 X:78 Y:60 P:25 SP:FA PPU:116,245 CYC:13267
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2c5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2C5  DD 00 06  CMP $0600,X @ 0678 = 41         A:40 X:78 Y:60 P:25 SP:FB PPU:116,257 CYC:13271
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2c8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2C8  20 A8 F8  JSR $F8A8                       A:40 X:78 Y:60 P:A4 SP:FB PPU:116,269 CYC:13275
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8a8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8A8  F0 05     BEQ $F8AF                       A:40 X:78 Y:60 P:A4 SP:F9 PPU:116,287 CYC:13281
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8aa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AA  10 03     BPL $F8AF                       A:40 X:78 Y:60 P:A4 SP:F9 PPU:116,293 CYC:13283
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ac, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AC  10 01     BPL $F8AF                       A:40 X:78 Y:60 P:A4 SP:F9 PPU:116,299 CYC:13285
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8ae, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8AE  60        RTS                             A:40 X:78 Y:60 P:A4 SP:F9 PPU:116,305 CYC:13287
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2cb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x60, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2CB  C8        INY                             A:40 X:78 Y:60 P:A4 SP:FB PPU:116,323 CYC:13293
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2cc, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2CC  48        PHA                             A:40 X:78 Y:61 P:24 SP:FB PPU:116,329 CYC:13295
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe2cd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2CD  A9 00     LDA #$00                        A:40 X:78 Y:61 P:24 SP:FA PPU:116,338 CYC:13298
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2CF  8D 78 06  STA $0678 = 41                  A:00 X:78 Y:61 P:26 SP:FA PPU:117,  3 CYC:13300
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2D2  68        PLA                             A:00 X:78 Y:61 P:26 SP:FA PPU:117, 15 CYC:13304
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2d3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2D3  20 B2 F8  JSR $F8B2                       A:40 X:78 Y:61 P:24 SP:FB PPU:117, 27 CYC:13308
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B2  A9 80     LDA #$80                        A:40 X:78 Y:61 P:24 SP:F9 PPU:117, 45 CYC:13314
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B4  60        RTS                             A:80 X:78 Y:61 P:A4 SP:F9 PPU:117, 51 CYC:13316
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2d6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2D6  DD 00 06  CMP $0600,X @ 0678 = 00         A:80 X:78 Y:61 P:A4 SP:FB PPU:117, 69 CYC:13322
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2D9  20 B5 F8  JSR $F8B5                       A:80 X:78 Y:61 P:A5 SP:FB PPU:117, 81 CYC:13326
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B5  F0 05     BEQ $F8BC                       A:80 X:78 Y:61 P:A5 SP:F9 PPU:117, 99 CYC:13332
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B7  10 03     BPL $F8BC                       A:80 X:78 Y:61 P:A5 SP:F9 PPU:117,105 CYC:13334
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8b9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8B9  90 01     BCC $F8BC                       A:80 X:78 Y:61 P:A5 SP:F9 PPU:117,111 CYC:13336
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BB  60        RTS                             A:80 X:78 Y:61 P:A5 SP:F9 PPU:117,117 CYC:13338
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2dc, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x61, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2DC  C8        INY                             A:80 X:78 Y:61 P:A5 SP:FB PPU:117,135 CYC:13344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2dd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2DD  48        PHA                             A:80 X:78 Y:62 P:25 SP:FB PPU:117,141 CYC:13346
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe2de, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2DE  A9 80     LDA #$80                        A:80 X:78 Y:62 P:25 SP:FA PPU:117,150 CYC:13349
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2e0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2E0  8D 78 06  STA $0678 = 00                  A:80 X:78 Y:62 P:A5 SP:FA PPU:117,156 CYC:13351
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2e3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2E3  68        PLA                             A:80 X:78 Y:62 P:A5 SP:FA PPU:117,168 CYC:13355
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2e4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2E4  DD 00 06  CMP $0600,X @ 0678 = 80         A:80 X:78 Y:62 P:A5 SP:FB PPU:117,180 CYC:13359
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2e7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2E7  20 BF F8  JSR $F8BF                       A:80 X:78 Y:62 P:27 SP:FB PPU:117,192 CYC:13363
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8bf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8BF  D0 05     BNE $F8C6                       A:80 X:78 Y:62 P:27 SP:F9 PPU:117,210 CYC:13369
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C1  30 03     BMI $F8C6                       A:80 X:78 Y:62 P:27 SP:F9 PPU:117,216 CYC:13371
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C3  90 01     BCC $F8C6                       A:80 X:78 Y:62 P:27 SP:F9 PPU:117,222 CYC:13373
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C5  60        RTS                             A:80 X:78 Y:62 P:27 SP:F9 PPU:117,228 CYC:13375
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ea, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x62, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2EA  C8        INY                             A:80 X:78 Y:62 P:27 SP:FB PPU:117,246 CYC:13381
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2eb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2EB  48        PHA                             A:80 X:78 Y:63 P:25 SP:FB PPU:117,252 CYC:13383
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2EC  A9 81     LDA #$81                        A:80 X:78 Y:63 P:25 SP:FA PPU:117,261 CYC:13386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ee, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2EE  8D 78 06  STA $0678 = 80                  A:81 X:78 Y:63 P:A5 SP:FA PPU:117,267 CYC:13388
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2f1, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2F1  68        PLA                             A:81 X:78 Y:63 P:A5 SP:FA PPU:117,279 CYC:13392
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2f2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2F2  DD 00 06  CMP $0600,X @ 0678 = 81         A:80 X:78 Y:63 P:A5 SP:FB PPU:117,291 CYC:13396
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2f5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2F5  20 C9 F8  JSR $F8C9                       A:80 X:78 Y:63 P:A4 SP:FB PPU:117,303 CYC:13400
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8c9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8C9  B0 05     BCS $F8D0                       A:80 X:78 Y:63 P:A4 SP:F9 PPU:117,321 CYC:13406
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cb, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CB  F0 03     BEQ $F8D0                       A:80 X:78 Y:63 P:A4 SP:F9 PPU:117,327 CYC:13408
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cd, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CD  10 01     BPL $F8D0                       A:80 X:78 Y:63 P:A4 SP:F9 PPU:117,333 CYC:13410
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8cf, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8CF  60        RTS                             A:80 X:78 Y:63 P:A4 SP:F9 PPU:117,339 CYC:13412
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe2f8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x63, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2F8  C8        INY                             A:80 X:78 Y:63 P:A4 SP:FB PPU:118, 16 CYC:13418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2f9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E2F9  48        PHA                             A:80 X:78 Y:64 P:24 SP:FB PPU:118, 22 CYC:13420
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe2fa, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2FA  A9 7F     LDA #$7F                        A:80 X:78 Y:64 P:24 SP:FA PPU:118, 31 CYC:13423
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe2fc, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2FC  8D 78 06  STA $0678 = 81                  A:7F X:78 Y:64 P:24 SP:FA PPU:118, 37 CYC:13425
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe2ff, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // E2FF  68        PLA                             A:7F X:78 Y:64 P:24 SP:FA PPU:118, 49 CYC:13429
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe300, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E300  DD 00 06  CMP $0600,X @ 0678 = 7F         A:80 X:78 Y:64 P:A4 SP:FB PPU:118, 61 CYC:13433
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe303, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E303  20 D3 F8  JSR $F8D3                       A:80 X:78 Y:64 P:25 SP:FB PPU:118, 73 CYC:13437
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D3  90 05     BCC $F8DA                       A:80 X:78 Y:64 P:25 SP:F9 PPU:118, 91 CYC:13443
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d5, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D5  F0 03     BEQ $F8DA                       A:80 X:78 Y:64 P:25 SP:F9 PPU:118, 97 CYC:13445
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D7  30 01     BMI $F8DA                       A:80 X:78 Y:64 P:25 SP:F9 PPU:118,103 CYC:13447
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf8d9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F8D9  60        RTS                             A:80 X:78 Y:64 P:25 SP:F9 PPU:118,109 CYC:13449
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe306, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x64, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E306  C8        INY                             A:80 X:78 Y:64 P:25 SP:FB PPU:118,127 CYC:13455
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe307, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E307  A9 40     LDA #$40                        A:80 X:78 Y:65 P:25 SP:FB PPU:118,133 CYC:13457
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe309, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E309  8D 78 06  STA $0678 = 7F                  A:40 X:78 Y:65 P:25 SP:FB PPU:118,139 CYC:13459
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe30c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E30C  20 31 F9  JSR $F931                       A:40 X:78 Y:65 P:25 SP:FB PPU:118,151 CYC:13463
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf931, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F931  24 01     BIT $01 = FF                    A:40 X:78 Y:65 P:25 SP:F9 PPU:118,169 CYC:13469
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf933, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F933  A9 40     LDA #$40                        A:40 X:78 Y:65 P:E5 SP:F9 PPU:118,178 CYC:13472
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf935, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F935  38        SEC                             A:40 X:78 Y:65 P:65 SP:F9 PPU:118,184 CYC:13474
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf936, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F936  60        RTS                             A:40 X:78 Y:65 P:65 SP:F9 PPU:118,190 CYC:13476
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe30f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E30F  FD 00 06  SBC $0600,X @ 0678 = 40         A:40 X:78 Y:65 P:65 SP:FB PPU:118,208 CYC:13482
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe312, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E312  20 37 F9  JSR $F937                       A:00 X:78 Y:65 P:27 SP:FB PPU:118,220 CYC:13486
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf937, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F937  30 0B     BMI $F944                       A:00 X:78 Y:65 P:27 SP:F9 PPU:118,238 CYC:13492
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf939, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F939  90 09     BCC $F944                       A:00 X:78 Y:65 P:27 SP:F9 PPU:118,244 CYC:13494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93B  D0 07     BNE $F944                       A:00 X:78 Y:65 P:27 SP:F9 PPU:118,250 CYC:13496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93D  70 05     BVS $F944                       A:00 X:78 Y:65 P:27 SP:F9 PPU:118,256 CYC:13498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93F  C9 00     CMP #$00                        A:00 X:78 Y:65 P:27 SP:F9 PPU:118,262 CYC:13500
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf941, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F941  D0 01     BNE $F944                       A:00 X:78 Y:65 P:27 SP:F9 PPU:118,268 CYC:13502
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F943  60        RTS                             A:00 X:78 Y:65 P:27 SP:F9 PPU:118,274 CYC:13504
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe315, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x65, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E315  C8        INY                             A:00 X:78 Y:65 P:27 SP:FB PPU:118,292 CYC:13510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe316, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E316  A9 3F     LDA #$3F                        A:00 X:78 Y:66 P:25 SP:FB PPU:118,298 CYC:13512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe318, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E318  8D 78 06  STA $0678 = 40                  A:3F X:78 Y:66 P:25 SP:FB PPU:118,304 CYC:13514
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe31b, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E31B  20 47 F9  JSR $F947                       A:3F X:78 Y:66 P:25 SP:FB PPU:118,316 CYC:13518
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf947, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F947  B8        CLV                             A:3F X:78 Y:66 P:25 SP:F9 PPU:118,334 CYC:13524
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf948, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F948  38        SEC                             A:3F X:78 Y:66 P:25 SP:F9 PPU:118,340 CYC:13526
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf949, cpu.pc);
    try expectEqual(0x3f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F949  A9 40     LDA #$40                        A:3F X:78 Y:66 P:25 SP:F9 PPU:119,  5 CYC:13528
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94B  60        RTS                             A:40 X:78 Y:66 P:25 SP:F9 PPU:119, 11 CYC:13530
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe31e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E31E  FD 00 06  SBC $0600,X @ 0678 = 3F         A:40 X:78 Y:66 P:25 SP:FB PPU:119, 29 CYC:13536
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe321, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E321  20 4C F9  JSR $F94C                       A:01 X:78 Y:66 P:25 SP:FB PPU:119, 41 CYC:13540
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf94c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94C  F0 0B     BEQ $F959                       A:01 X:78 Y:66 P:25 SP:F9 PPU:119, 59 CYC:13546
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94E  30 09     BMI $F959                       A:01 X:78 Y:66 P:25 SP:F9 PPU:119, 65 CYC:13548
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf950, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F950  90 07     BCC $F959                       A:01 X:78 Y:66 P:25 SP:F9 PPU:119, 71 CYC:13550
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf952, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F952  70 05     BVS $F959                       A:01 X:78 Y:66 P:25 SP:F9 PPU:119, 77 CYC:13552
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf954, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F954  C9 01     CMP #$01                        A:01 X:78 Y:66 P:25 SP:F9 PPU:119, 83 CYC:13554
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf956, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F956  D0 01     BNE $F959                       A:01 X:78 Y:66 P:27 SP:F9 PPU:119, 89 CYC:13556
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf958, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F958  60        RTS                             A:01 X:78 Y:66 P:27 SP:F9 PPU:119, 95 CYC:13558
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe324, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E324  C8        INY                             A:01 X:78 Y:66 P:27 SP:FB PPU:119,113 CYC:13564
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe325, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E325  A9 41     LDA #$41                        A:01 X:78 Y:67 P:25 SP:FB PPU:119,119 CYC:13566
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe327, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E327  8D 78 06  STA $0678 = 3F                  A:41 X:78 Y:67 P:25 SP:FB PPU:119,125 CYC:13568
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe32a, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E32A  20 5C F9  JSR $F95C                       A:41 X:78 Y:67 P:25 SP:FB PPU:119,137 CYC:13572
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf95c, cpu.pc);
    try expectEqual(0x41, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95C  A9 40     LDA #$40                        A:41 X:78 Y:67 P:25 SP:F9 PPU:119,155 CYC:13578
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95E  38        SEC                             A:40 X:78 Y:67 P:25 SP:F9 PPU:119,161 CYC:13580
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95F  24 01     BIT $01 = FF                    A:40 X:78 Y:67 P:25 SP:F9 PPU:119,167 CYC:13582
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf961, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F961  60        RTS                             A:40 X:78 Y:67 P:E5 SP:F9 PPU:119,176 CYC:13585
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe32d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E32D  FD 00 06  SBC $0600,X @ 0678 = 41         A:40 X:78 Y:67 P:E5 SP:FB PPU:119,194 CYC:13591
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe330, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E330  20 62 F9  JSR $F962                       A:FF X:78 Y:67 P:A4 SP:FB PPU:119,206 CYC:13595
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F962  B0 0B     BCS $F96F                       A:FF X:78 Y:67 P:A4 SP:F9 PPU:119,224 CYC:13601
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F964  F0 09     BEQ $F96F                       A:FF X:78 Y:67 P:A4 SP:F9 PPU:119,230 CYC:13603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F966  10 07     BPL $F96F                       A:FF X:78 Y:67 P:A4 SP:F9 PPU:119,236 CYC:13605
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf968, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F968  70 05     BVS $F96F                       A:FF X:78 Y:67 P:A4 SP:F9 PPU:119,242 CYC:13607
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96A  C9 FF     CMP #$FF                        A:FF X:78 Y:67 P:A4 SP:F9 PPU:119,248 CYC:13609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96C  D0 01     BNE $F96F                       A:FF X:78 Y:67 P:27 SP:F9 PPU:119,254 CYC:13611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96E  60        RTS                             A:FF X:78 Y:67 P:27 SP:F9 PPU:119,260 CYC:13613
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe333, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x67, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E333  C8        INY                             A:FF X:78 Y:67 P:27 SP:FB PPU:119,278 CYC:13619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe334, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E334  A9 00     LDA #$00                        A:FF X:78 Y:68 P:25 SP:FB PPU:119,284 CYC:13621
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe336, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E336  8D 78 06  STA $0678 = 41                  A:00 X:78 Y:68 P:27 SP:FB PPU:119,290 CYC:13623
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe339, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E339  20 72 F9  JSR $F972                       A:00 X:78 Y:68 P:27 SP:FB PPU:119,302 CYC:13627
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf972, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F972  18        CLC                             A:00 X:78 Y:68 P:27 SP:F9 PPU:119,320 CYC:13633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf973, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F973  A9 80     LDA #$80                        A:00 X:78 Y:68 P:26 SP:F9 PPU:119,326 CYC:13635
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf975, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F975  60        RTS                             A:80 X:78 Y:68 P:A4 SP:F9 PPU:119,332 CYC:13637
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe33c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E33C  FD 00 06  SBC $0600,X @ 0678 = 00         A:80 X:78 Y:68 P:A4 SP:FB PPU:120,  9 CYC:13643
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe33f, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E33F  20 76 F9  JSR $F976                       A:7F X:78 Y:68 P:65 SP:FB PPU:120, 21 CYC:13647
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf976, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F976  90 05     BCC $F97D                       A:7F X:78 Y:68 P:65 SP:F9 PPU:120, 39 CYC:13653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf978, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F978  C9 7F     CMP #$7F                        A:7F X:78 Y:68 P:65 SP:F9 PPU:120, 45 CYC:13655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97A  D0 01     BNE $F97D                       A:7F X:78 Y:68 P:67 SP:F9 PPU:120, 51 CYC:13657
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97C  60        RTS                             A:7F X:78 Y:68 P:67 SP:F9 PPU:120, 57 CYC:13659
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe342, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x68, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E342  C8        INY                             A:7F X:78 Y:68 P:67 SP:FB PPU:120, 75 CYC:13665
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe343, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E343  A9 7F     LDA #$7F                        A:7F X:78 Y:69 P:65 SP:FB PPU:120, 81 CYC:13667
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe345, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E345  8D 78 06  STA $0678 = 00                  A:7F X:78 Y:69 P:65 SP:FB PPU:120, 87 CYC:13669
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe348, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E348  20 80 F9  JSR $F980                       A:7F X:78 Y:69 P:65 SP:FB PPU:120, 99 CYC:13673
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F980  38        SEC                             A:7F X:78 Y:69 P:65 SP:F9 PPU:120,117 CYC:13679
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf981, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F981  A9 81     LDA #$81                        A:7F X:78 Y:69 P:65 SP:F9 PPU:120,123 CYC:13681
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf983, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F983  60        RTS                             A:81 X:78 Y:69 P:E5 SP:F9 PPU:120,129 CYC:13683
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe34b, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E34B  FD 00 06  SBC $0600,X @ 0678 = 7F         A:81 X:78 Y:69 P:E5 SP:FB PPU:120,147 CYC:13689
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe34e, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E34E  20 84 F9  JSR $F984                       A:02 X:78 Y:69 P:65 SP:FB PPU:120,159 CYC:13693
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf984, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F984  50 07     BVC $F98D                       A:02 X:78 Y:69 P:65 SP:F9 PPU:120,177 CYC:13699
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf986, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F986  90 05     BCC $F98D                       A:02 X:78 Y:69 P:65 SP:F9 PPU:120,183 CYC:13701
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf988, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F988  C9 02     CMP #$02                        A:02 X:78 Y:69 P:65 SP:F9 PPU:120,189 CYC:13703
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98A  D0 01     BNE $F98D                       A:02 X:78 Y:69 P:67 SP:F9 PPU:120,195 CYC:13705
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98C  60        RTS                             A:02 X:78 Y:69 P:67 SP:F9 PPU:120,201 CYC:13707
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe351, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E351  A9 AA     LDA #$AA                        A:02 X:78 Y:69 P:67 SP:FB PPU:120,219 CYC:13713
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe353, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E353  8D 33 06  STA $0633 = AA                  A:AA X:78 Y:69 P:E5 SP:FB PPU:120,225 CYC:13715
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe356, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E356  A9 BB     LDA #$BB                        A:AA X:78 Y:69 P:E5 SP:FB PPU:120,237 CYC:13719
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe358, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E358  8D 89 06  STA $0689 = BB                  A:BB X:78 Y:69 P:E5 SP:FB PPU:120,243 CYC:13721
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe35b, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x78, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E35B  A2 00     LDX #$00                        A:BB X:78 Y:69 P:E5 SP:FB PPU:120,255 CYC:13725
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe35d, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x69, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E35D  A0 66     LDY #$66                        A:BB X:00 Y:69 P:67 SP:FB PPU:120,261 CYC:13727
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe35f, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E35F  24 01     BIT $01 = FF                    A:BB X:00 Y:66 P:65 SP:FB PPU:120,267 CYC:13729
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe361, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E361  38        SEC                             A:BB X:00 Y:66 P:E5 SP:FB PPU:120,276 CYC:13732
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe362, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E362  A9 00     LDA #$00                        A:BB X:00 Y:66 P:E5 SP:FB PPU:120,282 CYC:13734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe364, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E364  BD 33 06  LDA $0633,X @ 0633 = AA         A:00 X:00 Y:66 P:67 SP:FB PPU:120,288 CYC:13736
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe367, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E367  10 12     BPL $E37B                       A:AA X:00 Y:66 P:E5 SP:FB PPU:120,300 CYC:13740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe369, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E369  F0 10     BEQ $E37B                       A:AA X:00 Y:66 P:E5 SP:FB PPU:120,306 CYC:13742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe36b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E36B  50 0E     BVC $E37B                       A:AA X:00 Y:66 P:E5 SP:FB PPU:120,312 CYC:13744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe36d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E36D  90 0C     BCC $E37B                       A:AA X:00 Y:66 P:E5 SP:FB PPU:120,318 CYC:13746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe36f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E36F  C0 66     CPY #$66                        A:AA X:00 Y:66 P:E5 SP:FB PPU:120,324 CYC:13748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe371, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E371  D0 08     BNE $E37B                       A:AA X:00 Y:66 P:67 SP:FB PPU:120,330 CYC:13750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe373, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E373  E0 00     CPX #$00                        A:AA X:00 Y:66 P:67 SP:FB PPU:120,336 CYC:13752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe375, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E375  D0 04     BNE $E37B                       A:AA X:00 Y:66 P:67 SP:FB PPU:121,  1 CYC:13754
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe377, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E377  C9 AA     CMP #$AA                        A:AA X:00 Y:66 P:67 SP:FB PPU:121,  7 CYC:13756
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe379, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E379  F0 04     BEQ $E37F                       A:AA X:00 Y:66 P:67 SP:FB PPU:121, 13 CYC:13758
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe37f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E37F  A2 8A     LDX #$8A                        A:AA X:00 Y:66 P:67 SP:FB PPU:121, 22 CYC:13761
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe381, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E381  A0 66     LDY #$66                        A:AA X:8A Y:66 P:E5 SP:FB PPU:121, 28 CYC:13763
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe383, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E383  B8        CLV                             A:AA X:8A Y:66 P:65 SP:FB PPU:121, 34 CYC:13765
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe384, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E384  18        CLC                             A:AA X:8A Y:66 P:25 SP:FB PPU:121, 40 CYC:13767
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe385, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E385  A9 00     LDA #$00                        A:AA X:8A Y:66 P:24 SP:FB PPU:121, 46 CYC:13769
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe387, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E387  BD FF 05  LDA $05FF,X @ 0689 = BB         A:00 X:8A Y:66 P:26 SP:FB PPU:121, 52 CYC:13771
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe38a, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E38A  10 12     BPL $E39E                       A:BB X:8A Y:66 P:A4 SP:FB PPU:121, 67 CYC:13776
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe38c, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E38C  F0 10     BEQ $E39E                       A:BB X:8A Y:66 P:A4 SP:FB PPU:121, 73 CYC:13778
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe38e, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E38E  70 0E     BVS $E39E                       A:BB X:8A Y:66 P:A4 SP:FB PPU:121, 79 CYC:13780
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe390, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E390  B0 0C     BCS $E39E                       A:BB X:8A Y:66 P:A4 SP:FB PPU:121, 85 CYC:13782
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe392, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E392  C9 BB     CMP #$BB                        A:BB X:8A Y:66 P:A4 SP:FB PPU:121, 91 CYC:13784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe394, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E394  D0 08     BNE $E39E                       A:BB X:8A Y:66 P:27 SP:FB PPU:121, 97 CYC:13786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe396, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E396  C0 66     CPY #$66                        A:BB X:8A Y:66 P:27 SP:FB PPU:121,103 CYC:13788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe398, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E398  D0 04     BNE $E39E                       A:BB X:8A Y:66 P:27 SP:FB PPU:121,109 CYC:13790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe39a, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E39A  E0 8A     CPX #$8A                        A:BB X:8A Y:66 P:27 SP:FB PPU:121,115 CYC:13792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe39c, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E39C  F0 04     BEQ $E3A2                       A:BB X:8A Y:66 P:27 SP:FB PPU:121,121 CYC:13794
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe3a2, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3A2  24 01     BIT $01 = FF                    A:BB X:8A Y:66 P:27 SP:FB PPU:121,130 CYC:13797
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe3a4, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3A4  38        SEC                             A:BB X:8A Y:66 P:E5 SP:FB PPU:121,139 CYC:13800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3a5, cpu.pc);
    try expectEqual(0xbb, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3A5  A9 44     LDA #$44                        A:BB X:8A Y:66 P:E5 SP:FB PPU:121,145 CYC:13802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3a7, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x8a, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3A7  A2 00     LDX #$00                        A:44 X:8A Y:66 P:65 SP:FB PPU:121,151 CYC:13804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3a9, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3A9  9D 33 06  STA $0633,X @ 0633 = AA         A:44 X:00 Y:66 P:67 SP:FB PPU:121,157 CYC:13806
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe3ac, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3AC  AD 33 06  LDA $0633 = 44                  A:44 X:00 Y:66 P:67 SP:FB PPU:121,172 CYC:13811
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe3af, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3AF  90 1A     BCC $E3CB                       A:44 X:00 Y:66 P:65 SP:FB PPU:121,184 CYC:13815
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3b1, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3B1  C9 44     CMP #$44                        A:44 X:00 Y:66 P:65 SP:FB PPU:121,190 CYC:13817
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3b3, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3B3  D0 16     BNE $E3CB                       A:44 X:00 Y:66 P:67 SP:FB PPU:121,196 CYC:13819
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3b5, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3B5  50 14     BVC $E3CB                       A:44 X:00 Y:66 P:67 SP:FB PPU:121,202 CYC:13821
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3b7, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3B7  18        CLC                             A:44 X:00 Y:66 P:67 SP:FB PPU:121,208 CYC:13823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3b8, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3B8  B8        CLV                             A:44 X:00 Y:66 P:66 SP:FB PPU:121,214 CYC:13825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3b9, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3B9  A9 99     LDA #$99                        A:44 X:00 Y:66 P:26 SP:FB PPU:121,220 CYC:13827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3bb, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3BB  A2 80     LDX #$80                        A:99 X:00 Y:66 P:A4 SP:FB PPU:121,226 CYC:13829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3bd, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3BD  9D 85 05  STA $0585,X @ 0605 = 00         A:99 X:80 Y:66 P:A4 SP:FB PPU:121,232 CYC:13831
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe3c0, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3C0  AD 05 06  LDA $0605 = 99                  A:99 X:80 Y:66 P:A4 SP:FB PPU:121,247 CYC:13836
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe3c3, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3C3  B0 06     BCS $E3CB                       A:99 X:80 Y:66 P:A4 SP:FB PPU:121,259 CYC:13840
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3c5, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3C5  C9 99     CMP #$99                        A:99 X:80 Y:66 P:A4 SP:FB PPU:121,265 CYC:13842
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3c7, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3C7  D0 02     BNE $E3CB                       A:99 X:80 Y:66 P:27 SP:FB PPU:121,271 CYC:13844
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3c9, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3C9  50 04     BVC $E3CF                       A:99 X:80 Y:66 P:27 SP:FB PPU:121,277 CYC:13846
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe3cf, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x66, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3CF  A0 6D     LDY #$6D                        A:99 X:80 Y:66 P:27 SP:FB PPU:121,286 CYC:13849
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3d1, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x80, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3D1  A2 6D     LDX #$6D                        A:99 X:80 Y:6D P:25 SP:FB PPU:121,292 CYC:13851
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3d3, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x6d, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3D3  20 90 F9  JSR $F990                       A:99 X:6D Y:6D P:25 SP:FB PPU:121,298 CYC:13853
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf990, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x6d, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F990  A2 55     LDX #$55                        A:99 X:6D Y:6D P:25 SP:F9 PPU:121,316 CYC:13859
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf992, cpu.pc);
    try expectEqual(0x99, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F992  A9 FF     LDA #$FF                        A:99 X:55 Y:6D P:25 SP:F9 PPU:121,322 CYC:13861
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf994, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F994  85 01     STA $01 = FF                    A:FF X:55 Y:6D P:A5 SP:F9 PPU:121,328 CYC:13863
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf996, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F996  EA        NOP                             A:FF X:55 Y:6D P:A5 SP:F9 PPU:121,337 CYC:13866
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf997, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F997  24 01     BIT $01 = FF                    A:FF X:55 Y:6D P:A5 SP:F9 PPU:122,  2 CYC:13868
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf999, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F999  38        SEC                             A:FF X:55 Y:6D P:E5 SP:F9 PPU:122, 11 CYC:13871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99A  A9 01     LDA #$01                        A:FF X:55 Y:6D P:E5 SP:F9 PPU:122, 17 CYC:13873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99C  60        RTS                             A:01 X:55 Y:6D P:65 SP:F9 PPU:122, 23 CYC:13875
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe3d6, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3D6  9D 00 06  STA $0600,X @ 0655 = 00         A:01 X:55 Y:6D P:65 SP:FB PPU:122, 41 CYC:13881
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe3d9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3D9  5E 00 06  LSR $0600,X @ 0655 = 01         A:01 X:55 Y:6D P:65 SP:FB PPU:122, 56 CYC:13886
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe3dc, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3DC  BD 00 06  LDA $0600,X @ 0655 = 00         A:01 X:55 Y:6D P:67 SP:FB PPU:122, 77 CYC:13893
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe3df, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3DF  20 9D F9  JSR $F99D                       A:00 X:55 Y:6D P:67 SP:FB PPU:122, 89 CYC:13897
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf99d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99D  90 1B     BCC $F9BA                       A:00 X:55 Y:6D P:67 SP:F9 PPU:122,107 CYC:13903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf99f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F99F  D0 19     BNE $F9BA                       A:00 X:55 Y:6D P:67 SP:F9 PPU:122,113 CYC:13905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A1  30 17     BMI $F9BA                       A:00 X:55 Y:6D P:67 SP:F9 PPU:122,119 CYC:13907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A3  50 15     BVC $F9BA                       A:00 X:55 Y:6D P:67 SP:F9 PPU:122,125 CYC:13909
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A5  C9 00     CMP #$00                        A:00 X:55 Y:6D P:67 SP:F9 PPU:122,131 CYC:13911
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A7  D0 11     BNE $F9BA                       A:00 X:55 Y:6D P:67 SP:F9 PPU:122,137 CYC:13913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9a9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9A9  B8        CLV                             A:00 X:55 Y:6D P:67 SP:F9 PPU:122,143 CYC:13915
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AA  A9 AA     LDA #$AA                        A:00 X:55 Y:6D P:27 SP:F9 PPU:122,149 CYC:13917
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ac, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AC  60        RTS                             A:AA X:55 Y:6D P:A5 SP:F9 PPU:122,155 CYC:13919
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe3e2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3E2  C8        INY                             A:AA X:55 Y:6D P:A5 SP:FB PPU:122,173 CYC:13925
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3e3, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3E3  9D 00 06  STA $0600,X @ 0655 = 00         A:AA X:55 Y:6E P:25 SP:FB PPU:122,179 CYC:13927
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe3e6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3E6  5E 00 06  LSR $0600,X @ 0655 = AA         A:AA X:55 Y:6E P:25 SP:FB PPU:122,194 CYC:13932
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe3e9, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3E9  BD 00 06  LDA $0600,X @ 0655 = 55         A:AA X:55 Y:6E P:24 SP:FB PPU:122,215 CYC:13939
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe3ec, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3EC  20 AD F9  JSR $F9AD                       A:55 X:55 Y:6E P:24 SP:FB PPU:122,227 CYC:13943
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ad, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AD  B0 0B     BCS $F9BA                       A:55 X:55 Y:6E P:24 SP:F9 PPU:122,245 CYC:13949
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9af, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9AF  F0 09     BEQ $F9BA                       A:55 X:55 Y:6E P:24 SP:F9 PPU:122,251 CYC:13951
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B1  30 07     BMI $F9BA                       A:55 X:55 Y:6E P:24 SP:F9 PPU:122,257 CYC:13953
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B3  70 05     BVS $F9BA                       A:55 X:55 Y:6E P:24 SP:F9 PPU:122,263 CYC:13955
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B5  C9 55     CMP #$55                        A:55 X:55 Y:6E P:24 SP:F9 PPU:122,269 CYC:13957
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b7, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B7  D0 01     BNE $F9BA                       A:55 X:55 Y:6E P:27 SP:F9 PPU:122,275 CYC:13959
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9b9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9B9  60        RTS                             A:55 X:55 Y:6E P:27 SP:F9 PPU:122,281 CYC:13961
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe3ef, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3EF  C8        INY                             A:55 X:55 Y:6E P:27 SP:FB PPU:122,299 CYC:13967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe3f0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3F0  20 BD F9  JSR $F9BD                       A:55 X:55 Y:6F P:25 SP:FB PPU:122,305 CYC:13969
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BD  24 01     BIT $01 = FF                    A:55 X:55 Y:6F P:25 SP:F9 PPU:122,323 CYC:13975
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9BF  38        SEC                             A:55 X:55 Y:6F P:E5 SP:F9 PPU:122,332 CYC:13978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C0  A9 80     LDA #$80                        A:55 X:55 Y:6F P:E5 SP:F9 PPU:122,338 CYC:13980
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C2  60        RTS                             A:80 X:55 Y:6F P:E5 SP:F9 PPU:123,  3 CYC:13982
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe3f3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3F3  9D 00 06  STA $0600,X @ 0655 = 55         A:80 X:55 Y:6F P:E5 SP:FB PPU:123, 21 CYC:13988
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe3f6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3F6  1E 00 06  ASL $0600,X @ 0655 = 80         A:80 X:55 Y:6F P:E5 SP:FB PPU:123, 36 CYC:13993
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe3f9, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3F9  BD 00 06  LDA $0600,X @ 0655 = 00         A:80 X:55 Y:6F P:67 SP:FB PPU:123, 57 CYC:14000
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe3fc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3FC  20 C3 F9  JSR $F9C3                       A:00 X:55 Y:6F P:67 SP:FB PPU:123, 69 CYC:14004
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C3  90 1C     BCC $F9E1                       A:00 X:55 Y:6F P:67 SP:F9 PPU:123, 87 CYC:14010
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C5  D0 1A     BNE $F9E1                       A:00 X:55 Y:6F P:67 SP:F9 PPU:123, 93 CYC:14012
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C7  30 18     BMI $F9E1                       A:00 X:55 Y:6F P:67 SP:F9 PPU:123, 99 CYC:14014
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9c9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9C9  50 16     BVC $F9E1                       A:00 X:55 Y:6F P:67 SP:F9 PPU:123,105 CYC:14016
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CB  C9 00     CMP #$00                        A:00 X:55 Y:6F P:67 SP:F9 PPU:123,111 CYC:14018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CD  D0 12     BNE $F9E1                       A:00 X:55 Y:6F P:67 SP:F9 PPU:123,117 CYC:14020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9cf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9CF  B8        CLV                             A:00 X:55 Y:6F P:67 SP:F9 PPU:123,123 CYC:14022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D0  A9 55     LDA #$55                        A:00 X:55 Y:6F P:27 SP:F9 PPU:123,129 CYC:14024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D2  38        SEC                             A:55 X:55 Y:6F P:25 SP:F9 PPU:123,135 CYC:14026
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D3  60        RTS                             A:55 X:55 Y:6F P:25 SP:F9 PPU:123,141 CYC:14028
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe3ff, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x6f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E3FF  C8        INY                             A:55 X:55 Y:6F P:25 SP:FB PPU:123,159 CYC:14034
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe400, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E400  9D 00 06  STA $0600,X @ 0655 = 00         A:55 X:55 Y:70 P:25 SP:FB PPU:123,165 CYC:14036
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe403, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E403  1E 00 06  ASL $0600,X @ 0655 = 55         A:55 X:55 Y:70 P:25 SP:FB PPU:123,180 CYC:14041
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe406, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E406  BD 00 06  LDA $0600,X @ 0655 = AA         A:55 X:55 Y:70 P:A4 SP:FB PPU:123,201 CYC:14048
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe409, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E409  20 D4 F9  JSR $F9D4                       A:AA X:55 Y:70 P:A4 SP:FB PPU:123,213 CYC:14052
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D4  B0 0B     BCS $F9E1                       A:AA X:55 Y:70 P:A4 SP:F9 PPU:123,231 CYC:14058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D6  F0 09     BEQ $F9E1                       A:AA X:55 Y:70 P:A4 SP:F9 PPU:123,237 CYC:14060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9d8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9D8  10 07     BPL $F9E1                       A:AA X:55 Y:70 P:A4 SP:F9 PPU:123,243 CYC:14062
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9da, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DA  70 05     BVS $F9E1                       A:AA X:55 Y:70 P:A4 SP:F9 PPU:123,249 CYC:14064
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9dc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DC  C9 AA     CMP #$AA                        A:AA X:55 Y:70 P:A4 SP:F9 PPU:123,255 CYC:14066
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9de, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9DE  D0 01     BNE $F9E1                       A:AA X:55 Y:70 P:27 SP:F9 PPU:123,261 CYC:14068
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E0  60        RTS                             A:AA X:55 Y:70 P:27 SP:F9 PPU:123,267 CYC:14070
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe40c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x70, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E40C  C8        INY                             A:AA X:55 Y:70 P:27 SP:FB PPU:123,285 CYC:14076
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe40d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E40D  20 E4 F9  JSR $F9E4                       A:AA X:55 Y:71 P:25 SP:FB PPU:123,291 CYC:14078
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E4  24 01     BIT $01 = FF                    A:AA X:55 Y:71 P:25 SP:F9 PPU:123,309 CYC:14084
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E6  38        SEC                             A:AA X:55 Y:71 P:E5 SP:F9 PPU:123,318 CYC:14087
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E7  A9 01     LDA #$01                        A:AA X:55 Y:71 P:E5 SP:F9 PPU:123,324 CYC:14089
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9e9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9E9  60        RTS                             A:01 X:55 Y:71 P:65 SP:F9 PPU:123,330 CYC:14091
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe410, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E410  9D 00 06  STA $0600,X @ 0655 = AA         A:01 X:55 Y:71 P:65 SP:FB PPU:124,  7 CYC:14097
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe413, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E413  7E 00 06  ROR $0600,X @ 0655 = 01         A:01 X:55 Y:71 P:65 SP:FB PPU:124, 22 CYC:14102
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe416, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E416  BD 00 06  LDA $0600,X @ 0655 = 80         A:01 X:55 Y:71 P:E5 SP:FB PPU:124, 43 CYC:14109
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe419, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E419  20 EA F9  JSR $F9EA                       A:80 X:55 Y:71 P:E5 SP:FB PPU:124, 55 CYC:14113
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ea, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EA  90 1C     BCC $FA08                       A:80 X:55 Y:71 P:E5 SP:F9 PPU:124, 73 CYC:14119
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ec, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EC  F0 1A     BEQ $FA08                       A:80 X:55 Y:71 P:E5 SP:F9 PPU:124, 79 CYC:14121
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ee, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9EE  10 18     BPL $FA08                       A:80 X:55 Y:71 P:E5 SP:F9 PPU:124, 85 CYC:14123
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f0, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F0  50 16     BVC $FA08                       A:80 X:55 Y:71 P:E5 SP:F9 PPU:124, 91 CYC:14125
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f2, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F2  C9 80     CMP #$80                        A:80 X:55 Y:71 P:E5 SP:F9 PPU:124, 97 CYC:14127
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f4, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F4  D0 12     BNE $FA08                       A:80 X:55 Y:71 P:67 SP:F9 PPU:124,103 CYC:14129
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F6  B8        CLV                             A:80 X:55 Y:71 P:67 SP:F9 PPU:124,109 CYC:14131
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F7  18        CLC                             A:80 X:55 Y:71 P:27 SP:F9 PPU:124,115 CYC:14133
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9f8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9F8  A9 55     LDA #$55                        A:80 X:55 Y:71 P:26 SP:F9 PPU:124,121 CYC:14135
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fa, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FA  60        RTS                             A:55 X:55 Y:71 P:24 SP:F9 PPU:124,127 CYC:14137
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe41c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x71, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E41C  C8        INY                             A:55 X:55 Y:71 P:24 SP:FB PPU:124,145 CYC:14143
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe41d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E41D  9D 00 06  STA $0600,X @ 0655 = 80         A:55 X:55 Y:72 P:24 SP:FB PPU:124,151 CYC:14145
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe420, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E420  7E 00 06  ROR $0600,X @ 0655 = 55         A:55 X:55 Y:72 P:24 SP:FB PPU:124,166 CYC:14150
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe423, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E423  BD 00 06  LDA $0600,X @ 0655 = 2A         A:55 X:55 Y:72 P:25 SP:FB PPU:124,187 CYC:14157
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe426, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E426  20 FB F9  JSR $F9FB                       A:2A X:55 Y:72 P:25 SP:FB PPU:124,199 CYC:14161
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fb, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FB  90 0B     BCC $FA08                       A:2A X:55 Y:72 P:25 SP:F9 PPU:124,217 CYC:14167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9fd, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FD  F0 09     BEQ $FA08                       A:2A X:55 Y:72 P:25 SP:F9 PPU:124,223 CYC:14169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf9ff, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F9FF  30 07     BMI $FA08                       A:2A X:55 Y:72 P:25 SP:F9 PPU:124,229 CYC:14171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa01, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA01  70 05     BVS $FA08                       A:2A X:55 Y:72 P:25 SP:F9 PPU:124,235 CYC:14173
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa03, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA03  C9 2A     CMP #$2A                        A:2A X:55 Y:72 P:25 SP:F9 PPU:124,241 CYC:14175
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa05, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA05  D0 01     BNE $FA08                       A:2A X:55 Y:72 P:27 SP:F9 PPU:124,247 CYC:14177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa07, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA07  60        RTS                             A:2A X:55 Y:72 P:27 SP:F9 PPU:124,253 CYC:14179
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe429, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x72, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E429  C8        INY                             A:2A X:55 Y:72 P:27 SP:FB PPU:124,271 CYC:14185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe42a, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E42A  20 0A FA  JSR $FA0A                       A:2A X:55 Y:73 P:25 SP:FB PPU:124,277 CYC:14187
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0a, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0A  24 01     BIT $01 = FF                    A:2A X:55 Y:73 P:25 SP:F9 PPU:124,295 CYC:14193
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0c, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0C  38        SEC                             A:2A X:55 Y:73 P:E5 SP:F9 PPU:124,304 CYC:14196
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0d, cpu.pc);
    try expectEqual(0x2a, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0D  A9 80     LDA #$80                        A:2A X:55 Y:73 P:E5 SP:F9 PPU:124,310 CYC:14198
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa0f, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA0F  60        RTS                             A:80 X:55 Y:73 P:E5 SP:F9 PPU:124,316 CYC:14200
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe42d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E42D  9D 00 06  STA $0600,X @ 0655 = 2A         A:80 X:55 Y:73 P:E5 SP:FB PPU:124,334 CYC:14206
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe430, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E430  3E 00 06  ROL $0600,X @ 0655 = 80         A:80 X:55 Y:73 P:E5 SP:FB PPU:125,  8 CYC:14211
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe433, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E433  BD 00 06  LDA $0600,X @ 0655 = 01         A:80 X:55 Y:73 P:65 SP:FB PPU:125, 29 CYC:14218
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe436, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E436  20 10 FA  JSR $FA10                       A:01 X:55 Y:73 P:65 SP:FB PPU:125, 41 CYC:14222
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa10, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA10  90 1C     BCC $FA2E                       A:01 X:55 Y:73 P:65 SP:F9 PPU:125, 59 CYC:14228
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa12, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA12  F0 1A     BEQ $FA2E                       A:01 X:55 Y:73 P:65 SP:F9 PPU:125, 65 CYC:14230
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa14, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA14  30 18     BMI $FA2E                       A:01 X:55 Y:73 P:65 SP:F9 PPU:125, 71 CYC:14232
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa16, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA16  50 16     BVC $FA2E                       A:01 X:55 Y:73 P:65 SP:F9 PPU:125, 77 CYC:14234
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa18, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA18  C9 01     CMP #$01                        A:01 X:55 Y:73 P:65 SP:F9 PPU:125, 83 CYC:14236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1a, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1A  D0 12     BNE $FA2E                       A:01 X:55 Y:73 P:67 SP:F9 PPU:125, 89 CYC:14238
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1C  B8        CLV                             A:01 X:55 Y:73 P:67 SP:F9 PPU:125, 95 CYC:14240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1d, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1D  18        CLC                             A:01 X:55 Y:73 P:27 SP:F9 PPU:125,101 CYC:14242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa1e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA1E  A9 55     LDA #$55                        A:01 X:55 Y:73 P:26 SP:F9 PPU:125,107 CYC:14244
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa20, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA20  60        RTS                             A:55 X:55 Y:73 P:24 SP:F9 PPU:125,113 CYC:14246
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe439, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x73, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E439  C8        INY                             A:55 X:55 Y:73 P:24 SP:FB PPU:125,131 CYC:14252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe43a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E43A  9D 00 06  STA $0600,X @ 0655 = 01         A:55 X:55 Y:74 P:24 SP:FB PPU:125,137 CYC:14254
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe43d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E43D  3E 00 06  ROL $0600,X @ 0655 = 55         A:55 X:55 Y:74 P:24 SP:FB PPU:125,152 CYC:14259
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe440, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E440  BD 00 06  LDA $0600,X @ 0655 = AA         A:55 X:55 Y:74 P:A4 SP:FB PPU:125,173 CYC:14266
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe443, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E443  20 21 FA  JSR $FA21                       A:AA X:55 Y:74 P:A4 SP:FB PPU:125,185 CYC:14270
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa21, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA21  B0 0B     BCS $FA2E                       A:AA X:55 Y:74 P:A4 SP:F9 PPU:125,203 CYC:14276
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa23, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA23  F0 09     BEQ $FA2E                       A:AA X:55 Y:74 P:A4 SP:F9 PPU:125,209 CYC:14278
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa25, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA25  10 07     BPL $FA2E                       A:AA X:55 Y:74 P:A4 SP:F9 PPU:125,215 CYC:14280
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa27, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA27  70 05     BVS $FA2E                       A:AA X:55 Y:74 P:A4 SP:F9 PPU:125,221 CYC:14282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa29, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA29  C9 AA     CMP #$AA                        A:AA X:55 Y:74 P:A4 SP:F9 PPU:125,227 CYC:14284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2B  D0 01     BNE $FA2E                       A:AA X:55 Y:74 P:27 SP:F9 PPU:125,233 CYC:14286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa2d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA2D  60        RTS                             A:AA X:55 Y:74 P:27 SP:F9 PPU:125,239 CYC:14288
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe446, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E446  A9 FF     LDA #$FF                        A:AA X:55 Y:74 P:27 SP:FB PPU:125,257 CYC:14294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe448, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E448  9D 00 06  STA $0600,X @ 0655 = AA         A:FF X:55 Y:74 P:A5 SP:FB PPU:125,263 CYC:14296
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe44b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E44B  85 01     STA $01 = FF                    A:FF X:55 Y:74 P:A5 SP:FB PPU:125,278 CYC:14301
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe44d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E44D  24 01     BIT $01 = FF                    A:FF X:55 Y:74 P:A5 SP:FB PPU:125,287 CYC:14304
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe44f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E44F  38        SEC                             A:FF X:55 Y:74 P:E5 SP:FB PPU:125,296 CYC:14307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe450, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E450  FE 00 06  INC $0600,X @ 0655 = FF         A:FF X:55 Y:74 P:E5 SP:FB PPU:125,302 CYC:14309
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe453, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E453  D0 0D     BNE $E462                       A:FF X:55 Y:74 P:67 SP:FB PPU:125,323 CYC:14316
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe455, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E455  30 0B     BMI $E462                       A:FF X:55 Y:74 P:67 SP:FB PPU:125,329 CYC:14318
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe457, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E457  50 09     BVC $E462                       A:FF X:55 Y:74 P:67 SP:FB PPU:125,335 CYC:14320
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe459, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E459  90 07     BCC $E462                       A:FF X:55 Y:74 P:67 SP:FB PPU:126,  0 CYC:14322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe45b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E45B  BD 00 06  LDA $0600,X @ 0655 = 00         A:FF X:55 Y:74 P:67 SP:FB PPU:126,  6 CYC:14324
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe45e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E45E  C9 00     CMP #$00                        A:00 X:55 Y:74 P:67 SP:FB PPU:126, 18 CYC:14328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe460, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E460  F0 04     BEQ $E466                       A:00 X:55 Y:74 P:67 SP:FB PPU:126, 24 CYC:14330
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe466, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E466  A9 7F     LDA #$7F                        A:00 X:55 Y:74 P:67 SP:FB PPU:126, 33 CYC:14333
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe468, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E468  9D 00 06  STA $0600,X @ 0655 = 00         A:7F X:55 Y:74 P:65 SP:FB PPU:126, 39 CYC:14335
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe46b, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E46B  B8        CLV                             A:7F X:55 Y:74 P:65 SP:FB PPU:126, 54 CYC:14340
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe46c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E46C  18        CLC                             A:7F X:55 Y:74 P:25 SP:FB PPU:126, 60 CYC:14342
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe46d, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E46D  FE 00 06  INC $0600,X @ 0655 = 7F         A:7F X:55 Y:74 P:24 SP:FB PPU:126, 66 CYC:14344
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe470, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E470  F0 0D     BEQ $E47F                       A:7F X:55 Y:74 P:A4 SP:FB PPU:126, 87 CYC:14351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe472, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E472  10 0B     BPL $E47F                       A:7F X:55 Y:74 P:A4 SP:FB PPU:126, 93 CYC:14353
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe474, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E474  70 09     BVS $E47F                       A:7F X:55 Y:74 P:A4 SP:FB PPU:126, 99 CYC:14355
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe476, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E476  B0 07     BCS $E47F                       A:7F X:55 Y:74 P:A4 SP:FB PPU:126,105 CYC:14357
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe478, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E478  BD 00 06  LDA $0600,X @ 0655 = 80         A:7F X:55 Y:74 P:A4 SP:FB PPU:126,111 CYC:14359
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe47b, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E47B  C9 80     CMP #$80                        A:80 X:55 Y:74 P:A4 SP:FB PPU:126,123 CYC:14363
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe47d, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E47D  F0 04     BEQ $E483                       A:80 X:55 Y:74 P:27 SP:FB PPU:126,129 CYC:14365
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe483, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E483  A9 00     LDA #$00                        A:80 X:55 Y:74 P:27 SP:FB PPU:126,138 CYC:14368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe485, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E485  9D 00 06  STA $0600,X @ 0655 = 80         A:00 X:55 Y:74 P:27 SP:FB PPU:126,144 CYC:14370
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe488, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E488  24 01     BIT $01 = FF                    A:00 X:55 Y:74 P:27 SP:FB PPU:126,159 CYC:14375
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe48a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E48A  38        SEC                             A:00 X:55 Y:74 P:E7 SP:FB PPU:126,168 CYC:14378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe48b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E48B  DE 00 06  DEC $0600,X @ 0655 = 00         A:00 X:55 Y:74 P:E7 SP:FB PPU:126,174 CYC:14380
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe48e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E48E  F0 0D     BEQ $E49D                       A:00 X:55 Y:74 P:E5 SP:FB PPU:126,195 CYC:14387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe490, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E490  10 0B     BPL $E49D                       A:00 X:55 Y:74 P:E5 SP:FB PPU:126,201 CYC:14389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe492, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E492  50 09     BVC $E49D                       A:00 X:55 Y:74 P:E5 SP:FB PPU:126,207 CYC:14391
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe494, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E494  90 07     BCC $E49D                       A:00 X:55 Y:74 P:E5 SP:FB PPU:126,213 CYC:14393
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe496, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E496  BD 00 06  LDA $0600,X @ 0655 = FF         A:00 X:55 Y:74 P:E5 SP:FB PPU:126,219 CYC:14395
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe499, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E499  C9 FF     CMP #$FF                        A:FF X:55 Y:74 P:E5 SP:FB PPU:126,231 CYC:14399
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe49b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E49B  F0 04     BEQ $E4A1                       A:FF X:55 Y:74 P:67 SP:FB PPU:126,237 CYC:14401
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe4a1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4A1  A9 80     LDA #$80                        A:FF X:55 Y:74 P:67 SP:FB PPU:126,246 CYC:14404
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4a3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4A3  9D 00 06  STA $0600,X @ 0655 = FF         A:80 X:55 Y:74 P:E5 SP:FB PPU:126,252 CYC:14406
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe4a6, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4A6  B8        CLV                             A:80 X:55 Y:74 P:E5 SP:FB PPU:126,267 CYC:14411
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4a7, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4A7  18        CLC                             A:80 X:55 Y:74 P:A5 SP:FB PPU:126,273 CYC:14413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4a8, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4A8  DE 00 06  DEC $0600,X @ 0655 = 80         A:80 X:55 Y:74 P:A4 SP:FB PPU:126,279 CYC:14415
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe4ab, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4AB  F0 0D     BEQ $E4BA                       A:80 X:55 Y:74 P:24 SP:FB PPU:126,300 CYC:14422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4ad, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4AD  30 0B     BMI $E4BA                       A:80 X:55 Y:74 P:24 SP:FB PPU:126,306 CYC:14424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4af, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4AF  70 09     BVS $E4BA                       A:80 X:55 Y:74 P:24 SP:FB PPU:126,312 CYC:14426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4b1, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4B1  B0 07     BCS $E4BA                       A:80 X:55 Y:74 P:24 SP:FB PPU:126,318 CYC:14428
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4b3, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4B3  BD 00 06  LDA $0600,X @ 0655 = 7F         A:80 X:55 Y:74 P:24 SP:FB PPU:126,324 CYC:14430
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe4b6, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4B6  C9 7F     CMP #$7F                        A:7F X:55 Y:74 P:24 SP:FB PPU:126,336 CYC:14434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4b8, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4B8  F0 04     BEQ $E4BE                       A:7F X:55 Y:74 P:27 SP:FB PPU:127,  1 CYC:14436
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe4be, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4BE  A9 01     LDA #$01                        A:7F X:55 Y:74 P:27 SP:FB PPU:127, 10 CYC:14439
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4c0, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4C0  9D 00 06  STA $0600,X @ 0655 = 7F         A:01 X:55 Y:74 P:25 SP:FB PPU:127, 16 CYC:14441
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe4c3, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4C3  DE 00 06  DEC $0600,X @ 0655 = 01         A:01 X:55 Y:74 P:25 SP:FB PPU:127, 31 CYC:14446
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xe4c6, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4C6  F0 04     BEQ $E4CC                       A:01 X:55 Y:74 P:27 SP:FB PPU:127, 52 CYC:14453
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe4cc, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4CC  A9 33     LDA #$33                        A:01 X:55 Y:74 P:27 SP:FB PPU:127, 61 CYC:14456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4ce, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4CE  8D 78 06  STA $0678 = 7F                  A:33 X:55 Y:74 P:25 SP:FB PPU:127, 67 CYC:14458
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe4d1, cpu.pc);
    try expectEqual(0x33, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4D1  A9 44     LDA #$44                        A:33 X:55 Y:74 P:25 SP:FB PPU:127, 79 CYC:14462
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4d3, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x74, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4D3  A0 78     LDY #$78                        A:44 X:55 Y:74 P:25 SP:FB PPU:127, 85 CYC:14464
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4d5, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4D5  A2 00     LDX #$00                        A:44 X:55 Y:78 P:25 SP:FB PPU:127, 91 CYC:14466
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4d7, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4D7  38        SEC                             A:44 X:00 Y:78 P:27 SP:FB PPU:127, 97 CYC:14468
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4d8, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4D8  24 01     BIT $01 = FF                    A:44 X:00 Y:78 P:27 SP:FB PPU:127,103 CYC:14470
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe4da, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4DA  BE 00 06  LDX $0600,Y @ 0678 = 33         A:44 X:00 Y:78 P:E5 SP:FB PPU:127,112 CYC:14473
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe4dd, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4DD  90 12     BCC $E4F1                       A:44 X:33 Y:78 P:65 SP:FB PPU:127,124 CYC:14477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4df, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4DF  50 10     BVC $E4F1                       A:44 X:33 Y:78 P:65 SP:FB PPU:127,130 CYC:14479
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4e1, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4E1  30 0E     BMI $E4F1                       A:44 X:33 Y:78 P:65 SP:FB PPU:127,136 CYC:14481
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4e3, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4E3  F0 0C     BEQ $E4F1                       A:44 X:33 Y:78 P:65 SP:FB PPU:127,142 CYC:14483
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4e5, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4E5  E0 33     CPX #$33                        A:44 X:33 Y:78 P:65 SP:FB PPU:127,148 CYC:14485
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4e7, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4E7  D0 08     BNE $E4F1                       A:44 X:33 Y:78 P:67 SP:FB PPU:127,154 CYC:14487
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4e9, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4E9  C0 78     CPY #$78                        A:44 X:33 Y:78 P:67 SP:FB PPU:127,160 CYC:14489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4eb, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4EB  D0 04     BNE $E4F1                       A:44 X:33 Y:78 P:67 SP:FB PPU:127,166 CYC:14491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4ed, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4ED  C9 44     CMP #$44                        A:44 X:33 Y:78 P:67 SP:FB PPU:127,172 CYC:14493
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4ef, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4EF  F0 04     BEQ $E4F5                       A:44 X:33 Y:78 P:67 SP:FB PPU:127,178 CYC:14495
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe4f5, cpu.pc);
    try expectEqual(0x44, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4F5  A9 97     LDA #$97                        A:44 X:33 Y:78 P:67 SP:FB PPU:127,187 CYC:14498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4f7, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4F7  8D 7F 06  STA $067F = 00                  A:97 X:33 Y:78 P:E5 SP:FB PPU:127,193 CYC:14500
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe4fa, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4FA  A9 47     LDA #$47                        A:97 X:33 Y:78 P:E5 SP:FB PPU:127,205 CYC:14504
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4fc, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0x78, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4FC  A0 FF     LDY #$FF                        A:47 X:33 Y:78 P:65 SP:FB PPU:127,211 CYC:14506
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe4fe, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x33, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E4FE  A2 00     LDX #$00                        A:47 X:33 Y:FF P:E5 SP:FB PPU:127,217 CYC:14508
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe500, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E500  18        CLC                             A:47 X:00 Y:FF P:67 SP:FB PPU:127,223 CYC:14510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe501, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x66, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E501  B8        CLV                             A:47 X:00 Y:FF P:66 SP:FB PPU:127,229 CYC:14512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe502, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E502  BE 80 05  LDX $0580,Y @ 067F = 97         A:47 X:00 Y:FF P:26 SP:FB PPU:127,235 CYC:14514
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe505, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E505  B0 12     BCS $E519                       A:47 X:97 Y:FF P:A4 SP:FB PPU:127,250 CYC:14519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe507, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E507  70 10     BVS $E519                       A:47 X:97 Y:FF P:A4 SP:FB PPU:127,256 CYC:14521
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe509, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E509  10 0E     BPL $E519                       A:47 X:97 Y:FF P:A4 SP:FB PPU:127,262 CYC:14523
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe50b, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E50B  F0 0C     BEQ $E519                       A:47 X:97 Y:FF P:A4 SP:FB PPU:127,268 CYC:14525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe50d, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E50D  E0 97     CPX #$97                        A:47 X:97 Y:FF P:A4 SP:FB PPU:127,274 CYC:14527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe50f, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E50F  D0 08     BNE $E519                       A:47 X:97 Y:FF P:27 SP:FB PPU:127,280 CYC:14529
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe511, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E511  C0 FF     CPY #$FF                        A:47 X:97 Y:FF P:27 SP:FB PPU:127,286 CYC:14531
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe513, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E513  D0 04     BNE $E519                       A:47 X:97 Y:FF P:27 SP:FB PPU:127,292 CYC:14533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe515, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E515  C9 47     CMP #$47                        A:47 X:97 Y:FF P:27 SP:FB PPU:127,298 CYC:14535
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe517, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E517  F0 04     BEQ $E51D                       A:47 X:97 Y:FF P:27 SP:FB PPU:127,304 CYC:14537
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe51d, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E51D  60        RTS                             A:47 X:97 Y:FF P:27 SP:FB PPU:127,313 CYC:14540
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc62f, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C62F  20 A3 C6  JSR $C6A3                       A:47 X:97 Y:FF P:27 SP:FD PPU:127,331 CYC:14546
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc6a3, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C6A3  A0 4E     LDY #$4E                        A:47 X:97 Y:FF P:27 SP:FB PPU:128,  8 CYC:14552
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6a5, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C6A5  A9 FF     LDA #$FF                        A:47 X:97 Y:4E P:25 SP:FB PPU:128, 14 CYC:14554
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6a7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C6A7  85 01     STA $01 = FF                    A:FF X:97 Y:4E P:A5 SP:FB PPU:128, 20 CYC:14556
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6a9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C6A9  20 B0 C6  JSR $C6B0                       A:FF X:97 Y:4E P:A5 SP:FB PPU:128, 29 CYC:14559
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc6b0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6B0  A9 FF     LDA #$FF                        A:FF X:97 Y:4E P:A5 SP:F9 PPU:128, 47 CYC:14565
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6b2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6B2  48        PHA                             A:FF X:97 Y:4E P:A5 SP:F9 PPU:128, 53 CYC:14567
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6b3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C6B3  A9 AA     LDA #$AA                        A:FF X:97 Y:4E P:A5 SP:F8 PPU:128, 62 CYC:14570
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6b5, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C6B5  D0 05     BNE $C6BC                       A:AA X:97 Y:4E P:A5 SP:F8 PPU:128, 68 CYC:14572
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6bc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C6BC  28        PLP                             A:AA X:97 Y:4E P:A5 SP:F8 PPU:128, 77 CYC:14575
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6bd, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6BD  04 A9    *NOP $A9 = 00                    A:AA X:97 Y:4E P:EF SP:F9 PPU:128, 89 CYC:14579
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6bf, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6BF  44 A9    *NOP $A9 = 00                    A:AA X:97 Y:4E P:EF SP:F9 PPU:128, 98 CYC:14582
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c1, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C1  64 A9    *NOP $A9 = 00                    A:AA X:97 Y:4E P:EF SP:F9 PPU:128,107 CYC:14585
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c3, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C3  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F9 PPU:128,116 CYC:14588
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C4  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F9 PPU:128,122 CYC:14590
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c5, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C5  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F9 PPU:128,128 CYC:14592
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C6  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F9 PPU:128,134 CYC:14594
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C7  08        PHP                             A:AA X:97 Y:4E P:EF SP:F9 PPU:128,140 CYC:14596
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C6C8  48        PHA                             A:AA X:97 Y:4E P:EF SP:F8 PPU:128,149 CYC:14599
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c9, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6C9  0C A9 A9 *NOP $A9A9 = A9                  A:AA X:97 Y:4E P:EF SP:F7 PPU:128,158 CYC:14602
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6cc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CC  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F7 PPU:128,170 CYC:14606
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6cd, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CD  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F7 PPU:128,176 CYC:14608
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ce, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CE  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F7 PPU:128,182 CYC:14610
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6cf, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CF  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F7 PPU:128,188 CYC:14612
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6D0  08        PHP                             A:AA X:97 Y:4E P:EF SP:F7 PPU:128,194 CYC:14614
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d1, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C6D1  48        PHA                             A:AA X:97 Y:4E P:EF SP:F6 PPU:128,203 CYC:14617
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D2  14 A9    *NOP $A9,X @ 40 = 00             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,212 CYC:14620
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D4  34 A9    *NOP $A9,X @ 40 = 00             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,224 CYC:14624
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D6  54 A9    *NOP $A9,X @ 40 = 00             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,236 CYC:14628
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D8  74 A9    *NOP $A9,X @ 40 = 00             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,248 CYC:14632
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6da, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DA  D4 A9    *NOP $A9,X @ 40 = 00             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,260 CYC:14636
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6dc, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DC  F4 A9    *NOP $A9,X @ 40 = 00             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,272 CYC:14640
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6de, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DE  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,284 CYC:14644
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6df, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DF  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,290 CYC:14646
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6E0  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,296 CYC:14648
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e1, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6E1  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,302 CYC:14650
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6E2  08        PHP                             A:AA X:97 Y:4E P:EF SP:F5 PPU:128,308 CYC:14652
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e3, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C6E3  48        PHA                             A:AA X:97 Y:4E P:EF SP:F4 PPU:128,317 CYC:14655
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e4, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E4  1A       *NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:128,326 CYC:14658
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e5, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E5  3A       *NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:128,332 CYC:14660
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e6, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E6  5A       *NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:128,338 CYC:14662
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e7, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E7  7A       *NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129,  3 CYC:14664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E8  DA       *NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129,  9 CYC:14666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e9, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E9  FA       *NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129, 15 CYC:14668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ea, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EA  80 89    *NOP #$89                        A:AA X:97 Y:4E P:EF SP:F3 PPU:129, 21 CYC:14670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ec, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EC  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129, 27 CYC:14672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ed, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6ED  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129, 33 CYC:14674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ee, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EE  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129, 39 CYC:14676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ef, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EF  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129, 45 CYC:14678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f0, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6F0  08        PHP                             A:AA X:97 Y:4E P:EF SP:F3 PPU:129, 51 CYC:14680
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f1, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C6F1  48        PHA                             A:AA X:97 Y:4E P:EF SP:F2 PPU:129, 60 CYC:14683
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f2, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6F2  1C A9 A9 *NOP $A9A9,X @ AA40 = 00         A:AA X:97 Y:4E P:EF SP:F1 PPU:129, 69 CYC:14686
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f5, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6F5  3C A9 A9 *NOP $A9A9,X @ AA40 = 00         A:AA X:97 Y:4E P:EF SP:F1 PPU:129, 84 CYC:14691
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f8, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6F8  5C A9 A9 *NOP $A9A9,X @ AA40 = 00         A:AA X:97 Y:4E P:EF SP:F1 PPU:129, 99 CYC:14696
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xc6fb, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6FB  7C A9 A9 *NOP $A9A9,X @ AA40 = 00         A:AA X:97 Y:4E P:EF SP:F1 PPU:129,114 CYC:14701
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xc6fe, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6FE  DC A9 A9 *NOP $A9A9,X @ AA40 = 00         A:AA X:97 Y:4E P:EF SP:F1 PPU:129,129 CYC:14706
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xc701, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C701  FC A9 A9 *NOP $A9A9,X @ AA40 = 00         A:AA X:97 Y:4E P:EF SP:F1 PPU:129,144 CYC:14711
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xc704, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C704  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F1 PPU:129,159 CYC:14716
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc705, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C705  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F1 PPU:129,165 CYC:14718
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc706, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C706  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F1 PPU:129,171 CYC:14720
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc707, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C707  EA        NOP                             A:AA X:97 Y:4E P:EF SP:F1 PPU:129,177 CYC:14722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc708, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C708  08        PHP                             A:AA X:97 Y:4E P:EF SP:F1 PPU:129,183 CYC:14724
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc709, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C709  48        PHA                             A:AA X:97 Y:4E P:EF SP:F0 PPU:129,192 CYC:14727
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x97, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xef, cpu.getP());
    try expectEqual(0xef, cpu.sp);

    // C70A  A2 05     LDX #$05                        A:AA X:97 Y:4E P:EF SP:EF PPU:129,201 CYC:14730
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xef, cpu.sp);

    // C70C  68        PLA                             A:AA X:05 Y:4E P:6D SP:EF PPU:129,207 CYC:14732
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:AA X:05 Y:4E P:ED SP:F0 PPU:129,219 CYC:14736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:AA X:05 Y:4E P:6D SP:F0 PPU:129,225 CYC:14738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc711, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C711  C9 AA     CMP #$AA                        A:AA X:05 Y:4E P:6D SP:F0 PPU:129,231 CYC:14740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc713, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C713  F0 06     BEQ $C71B                       A:AA X:05 Y:4E P:6F SP:F0 PPU:129,237 CYC:14742
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C71B  68        PLA                             A:AA X:05 Y:4E P:6F SP:F0 PPU:129,246 CYC:14745
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:FF X:05 Y:4E P:ED SP:F1 PPU:129,258 CYC:14749
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:CB X:05 Y:4E P:ED SP:F1 PPU:129,264 CYC:14751
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:CB X:05 Y:4E P:ED SP:F1 PPU:129,270 CYC:14753
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc722, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C722  C9 CB     CMP #$CB                        A:CB X:05 Y:4E P:ED SP:F1 PPU:129,276 CYC:14755
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc724, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C724  F0 02     BEQ $C728                       A:CB X:05 Y:4E P:6F SP:F1 PPU:129,282 CYC:14757
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4e, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C728  C8        INY                             A:CB X:05 Y:4E P:6F SP:F1 PPU:129,291 CYC:14760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C729  CA        DEX                             A:CB X:05 Y:4F P:6D SP:F1 PPU:129,297 CYC:14762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:CB X:04 Y:4F P:6D SP:F1 PPU:129,303 CYC:14764
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C70C  68        PLA                             A:CB X:04 Y:4F P:6D SP:F1 PPU:129,312 CYC:14767
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:AA X:04 Y:4F P:ED SP:F2 PPU:129,324 CYC:14771
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:AA X:04 Y:4F P:6D SP:F2 PPU:129,330 CYC:14773
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc711, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C711  C9 AA     CMP #$AA                        A:AA X:04 Y:4F P:6D SP:F2 PPU:129,336 CYC:14775
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc713, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C713  F0 06     BEQ $C71B                       A:AA X:04 Y:4F P:6F SP:F2 PPU:130,  1 CYC:14777
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C71B  68        PLA                             A:AA X:04 Y:4F P:6F SP:F2 PPU:130, 10 CYC:14780
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:FF X:04 Y:4F P:ED SP:F3 PPU:130, 22 CYC:14784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:CB X:04 Y:4F P:ED SP:F3 PPU:130, 28 CYC:14786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:CB X:04 Y:4F P:ED SP:F3 PPU:130, 34 CYC:14788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc722, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C722  C9 CB     CMP #$CB                        A:CB X:04 Y:4F P:ED SP:F3 PPU:130, 40 CYC:14790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc724, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C724  F0 02     BEQ $C728                       A:CB X:04 Y:4F P:6F SP:F3 PPU:130, 46 CYC:14792
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x4f, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C728  C8        INY                             A:CB X:04 Y:4F P:6F SP:F3 PPU:130, 55 CYC:14795
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C729  CA        DEX                             A:CB X:04 Y:50 P:6D SP:F3 PPU:130, 61 CYC:14797
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:CB X:03 Y:50 P:6D SP:F3 PPU:130, 67 CYC:14799
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C70C  68        PLA                             A:CB X:03 Y:50 P:6D SP:F3 PPU:130, 76 CYC:14802
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:AA X:03 Y:50 P:ED SP:F4 PPU:130, 88 CYC:14806
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:AA X:03 Y:50 P:6D SP:F4 PPU:130, 94 CYC:14808
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc711, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C711  C9 AA     CMP #$AA                        A:AA X:03 Y:50 P:6D SP:F4 PPU:130,100 CYC:14810
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc713, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C713  F0 06     BEQ $C71B                       A:AA X:03 Y:50 P:6F SP:F4 PPU:130,106 CYC:14812
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C71B  68        PLA                             A:AA X:03 Y:50 P:6F SP:F4 PPU:130,115 CYC:14815
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:FF X:03 Y:50 P:ED SP:F5 PPU:130,127 CYC:14819
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:CB X:03 Y:50 P:ED SP:F5 PPU:130,133 CYC:14821
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:CB X:03 Y:50 P:ED SP:F5 PPU:130,139 CYC:14823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc722, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C722  C9 CB     CMP #$CB                        A:CB X:03 Y:50 P:ED SP:F5 PPU:130,145 CYC:14825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc724, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C724  F0 02     BEQ $C728                       A:CB X:03 Y:50 P:6F SP:F5 PPU:130,151 CYC:14827
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x50, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C728  C8        INY                             A:CB X:03 Y:50 P:6F SP:F5 PPU:130,160 CYC:14830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C729  CA        DEX                             A:CB X:03 Y:51 P:6D SP:F5 PPU:130,166 CYC:14832
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:CB X:02 Y:51 P:6D SP:F5 PPU:130,172 CYC:14834
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C70C  68        PLA                             A:CB X:02 Y:51 P:6D SP:F5 PPU:130,181 CYC:14837
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:AA X:02 Y:51 P:ED SP:F6 PPU:130,193 CYC:14841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:AA X:02 Y:51 P:6D SP:F6 PPU:130,199 CYC:14843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc711, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C711  C9 AA     CMP #$AA                        A:AA X:02 Y:51 P:6D SP:F6 PPU:130,205 CYC:14845
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc713, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C713  F0 06     BEQ $C71B                       A:AA X:02 Y:51 P:6F SP:F6 PPU:130,211 CYC:14847
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C71B  68        PLA                             A:AA X:02 Y:51 P:6F SP:F6 PPU:130,220 CYC:14850
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:FF X:02 Y:51 P:ED SP:F7 PPU:130,232 CYC:14854
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:CB X:02 Y:51 P:ED SP:F7 PPU:130,238 CYC:14856
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:CB X:02 Y:51 P:ED SP:F7 PPU:130,244 CYC:14858
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc722, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C722  C9 CB     CMP #$CB                        A:CB X:02 Y:51 P:ED SP:F7 PPU:130,250 CYC:14860
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc724, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C724  F0 02     BEQ $C728                       A:CB X:02 Y:51 P:6F SP:F7 PPU:130,256 CYC:14862
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x51, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C728  C8        INY                             A:CB X:02 Y:51 P:6F SP:F7 PPU:130,265 CYC:14865
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C729  CA        DEX                             A:CB X:02 Y:52 P:6D SP:F7 PPU:130,271 CYC:14867
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:CB X:01 Y:52 P:6D SP:F7 PPU:130,277 CYC:14869
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C70C  68        PLA                             A:CB X:01 Y:52 P:6D SP:F7 PPU:130,286 CYC:14872
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:AA X:01 Y:52 P:ED SP:F8 PPU:130,298 CYC:14876
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:AA X:01 Y:52 P:6D SP:F8 PPU:130,304 CYC:14878
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc711, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C711  C9 AA     CMP #$AA                        A:AA X:01 Y:52 P:6D SP:F8 PPU:130,310 CYC:14880
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc713, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C713  F0 06     BEQ $C71B                       A:AA X:01 Y:52 P:6F SP:F8 PPU:130,316 CYC:14882
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C71B  68        PLA                             A:AA X:01 Y:52 P:6F SP:F8 PPU:130,325 CYC:14885
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:FF X:01 Y:52 P:ED SP:F9 PPU:130,337 CYC:14889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:CB X:01 Y:52 P:ED SP:F9 PPU:131,  2 CYC:14891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:CB X:01 Y:52 P:ED SP:F9 PPU:131,  8 CYC:14893
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc722, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0xed, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C722  C9 CB     CMP #$CB                        A:CB X:01 Y:52 P:ED SP:F9 PPU:131, 14 CYC:14895
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc724, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C724  F0 02     BEQ $C728                       A:CB X:01 Y:52 P:6F SP:F9 PPU:131, 20 CYC:14897
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x52, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C728  C8        INY                             A:CB X:01 Y:52 P:6F SP:F9 PPU:131, 29 CYC:14900
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C729  CA        DEX                             A:CB X:01 Y:53 P:6D SP:F9 PPU:131, 35 CYC:14902
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:CB X:00 Y:53 P:6F SP:F9 PPU:131, 41 CYC:14904
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72c, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C72C  60        RTS                             A:CB X:00 Y:53 P:6F SP:F9 PPU:131, 47 CYC:14906
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ac, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C6AC  20 B7 C6  JSR $C6B7                       A:CB X:00 Y:53 P:6F SP:FB PPU:131, 65 CYC:14912
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc6b7, cpu.pc);
    try expectEqual(0xcb, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6f, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6B7  A9 34     LDA #$34                        A:CB X:00 Y:53 P:6F SP:F9 PPU:131, 83 CYC:14918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6b9, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6B9  48        PHA                             A:34 X:00 Y:53 P:6D SP:F9 PPU:131, 89 CYC:14920
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ba, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C6BA  A9 55     LDA #$55                        A:34 X:00 Y:53 P:6D SP:F8 PPU:131, 98 CYC:14923
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6bc, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x6d, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C6BC  28        PLP                             A:55 X:00 Y:53 P:6D SP:F8 PPU:131,104 CYC:14925
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6bd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6BD  04 A9    *NOP $A9 = 00                    A:55 X:00 Y:53 P:24 SP:F9 PPU:131,116 CYC:14929
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6bf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6BF  44 A9    *NOP $A9 = 00                    A:55 X:00 Y:53 P:24 SP:F9 PPU:131,125 CYC:14932
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C1  64 A9    *NOP $A9 = 00                    A:55 X:00 Y:53 P:24 SP:F9 PPU:131,134 CYC:14935
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C3  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F9 PPU:131,143 CYC:14938
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C4  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F9 PPU:131,149 CYC:14940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C5  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F9 PPU:131,155 CYC:14942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C6  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F9 PPU:131,161 CYC:14944
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c7, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C6C7  08        PHP                             A:55 X:00 Y:53 P:24 SP:F9 PPU:131,167 CYC:14946
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C6C8  48        PHA                             A:55 X:00 Y:53 P:24 SP:F8 PPU:131,176 CYC:14949
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6c9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6C9  0C A9 A9 *NOP $A9A9 = A9                  A:55 X:00 Y:53 P:24 SP:F7 PPU:131,185 CYC:14952
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6cc, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CC  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F7 PPU:131,197 CYC:14956
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6cd, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CD  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F7 PPU:131,203 CYC:14958
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ce, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CE  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F7 PPU:131,209 CYC:14960
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6cf, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6CF  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F7 PPU:131,215 CYC:14962
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C6D0  08        PHP                             A:55 X:00 Y:53 P:24 SP:F7 PPU:131,221 CYC:14964
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C6D1  48        PHA                             A:55 X:00 Y:53 P:24 SP:F6 PPU:131,230 CYC:14967
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D2  14 A9    *NOP $A9,X @ A9 = 00             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,239 CYC:14970
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D4  34 A9    *NOP $A9,X @ A9 = 00             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,251 CYC:14974
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D6  54 A9    *NOP $A9,X @ A9 = 00             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,263 CYC:14978
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6d8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6D8  74 A9    *NOP $A9,X @ A9 = 00             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,275 CYC:14982
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6da, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DA  D4 A9    *NOP $A9,X @ A9 = 00             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,287 CYC:14986
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6dc, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DC  F4 A9    *NOP $A9,X @ A9 = 00             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,299 CYC:14990
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6de, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DE  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,311 CYC:14994
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6df, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6DF  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,317 CYC:14996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6E0  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,323 CYC:14998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6E1  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,329 CYC:15000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C6E2  08        PHP                             A:55 X:00 Y:53 P:24 SP:F5 PPU:131,335 CYC:15002
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C6E3  48        PHA                             A:55 X:00 Y:53 P:24 SP:F4 PPU:132,  3 CYC:15005
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E4  1A       *NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 12 CYC:15008
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E5  3A       *NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 18 CYC:15010
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E6  5A       *NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 24 CYC:15012
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e7, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E7  7A       *NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 30 CYC:15014
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E8  DA       *NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 36 CYC:15016
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6e9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6E9  FA       *NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 42 CYC:15018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ea, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EA  80 89    *NOP #$89                        A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 48 CYC:15020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ec, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EC  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 54 CYC:15022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ed, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6ED  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 60 CYC:15024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ee, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EE  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 66 CYC:15026
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6ef, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6EF  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 72 CYC:15028
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C6F0  08        PHP                             A:55 X:00 Y:53 P:24 SP:F3 PPU:132, 78 CYC:15030
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f1, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C6F1  48        PHA                             A:55 X:00 Y:53 P:24 SP:F2 PPU:132, 87 CYC:15033
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6F2  1C A9 A9 *NOP $A9A9,X @ A9A9 = A9         A:55 X:00 Y:53 P:24 SP:F1 PPU:132, 96 CYC:15036
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6F5  3C A9 A9 *NOP $A9A9,X @ A9A9 = A9         A:55 X:00 Y:53 P:24 SP:F1 PPU:132,108 CYC:15040
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6f8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6F8  5C A9 A9 *NOP $A9A9,X @ A9A9 = A9         A:55 X:00 Y:53 P:24 SP:F1 PPU:132,120 CYC:15044
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6fb, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6FB  7C A9 A9 *NOP $A9A9,X @ A9A9 = A9         A:55 X:00 Y:53 P:24 SP:F1 PPU:132,132 CYC:15048
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc6fe, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C6FE  DC A9 A9 *NOP $A9A9,X @ A9A9 = A9         A:55 X:00 Y:53 P:24 SP:F1 PPU:132,144 CYC:15052
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc701, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C701  FC A9 A9 *NOP $A9A9,X @ A9A9 = A9         A:55 X:00 Y:53 P:24 SP:F1 PPU:132,156 CYC:15056
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc704, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C704  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F1 PPU:132,168 CYC:15060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc705, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C705  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F1 PPU:132,174 CYC:15062
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc706, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C706  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F1 PPU:132,180 CYC:15064
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc707, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C707  EA        NOP                             A:55 X:00 Y:53 P:24 SP:F1 PPU:132,186 CYC:15066
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc708, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C708  08        PHP                             A:55 X:00 Y:53 P:24 SP:F1 PPU:132,192 CYC:15068
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc709, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C709  48        PHA                             A:55 X:00 Y:53 P:24 SP:F0 PPU:132,201 CYC:15071
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xef, cpu.sp);

    // C70A  A2 05     LDX #$05                        A:55 X:00 Y:53 P:24 SP:EF PPU:132,210 CYC:15074
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xef, cpu.sp);

    // C70C  68        PLA                             A:55 X:05 Y:53 P:24 SP:EF PPU:132,216 CYC:15076
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:55 X:05 Y:53 P:24 SP:F0 PPU:132,228 CYC:15080
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:55 X:05 Y:53 P:27 SP:F0 PPU:132,234 CYC:15082
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf0, cpu.sp);

    // C71B  68        PLA                             A:55 X:05 Y:53 P:27 SP:F0 PPU:132,243 CYC:15085
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:34 X:05 Y:53 P:25 SP:F1 PPU:132,255 CYC:15089
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:00 X:05 Y:53 P:27 SP:F1 PPU:132,261 CYC:15091
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:00 X:05 Y:53 P:27 SP:F1 PPU:132,267 CYC:15093
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C728  C8        INY                             A:00 X:05 Y:53 P:27 SP:F1 PPU:132,276 CYC:15096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C729  CA        DEX                             A:00 X:05 Y:54 P:25 SP:F1 PPU:132,282 CYC:15098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:00 X:04 Y:54 P:25 SP:F1 PPU:132,288 CYC:15100
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf1, cpu.sp);

    // C70C  68        PLA                             A:00 X:04 Y:54 P:25 SP:F1 PPU:132,297 CYC:15103
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:55 X:04 Y:54 P:25 SP:F2 PPU:132,309 CYC:15107
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:55 X:04 Y:54 P:27 SP:F2 PPU:132,315 CYC:15109
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf2, cpu.sp);

    // C71B  68        PLA                             A:55 X:04 Y:54 P:27 SP:F2 PPU:132,324 CYC:15112
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:34 X:04 Y:54 P:25 SP:F3 PPU:132,336 CYC:15116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:00 X:04 Y:54 P:27 SP:F3 PPU:133,  1 CYC:15118
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:00 X:04 Y:54 P:27 SP:F3 PPU:133,  7 CYC:15120
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x54, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C728  C8        INY                             A:00 X:04 Y:54 P:27 SP:F3 PPU:133, 16 CYC:15123
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x04, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C729  CA        DEX                             A:00 X:04 Y:55 P:25 SP:F3 PPU:133, 22 CYC:15125
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:00 X:03 Y:55 P:25 SP:F3 PPU:133, 28 CYC:15127
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf3, cpu.sp);

    // C70C  68        PLA                             A:00 X:03 Y:55 P:25 SP:F3 PPU:133, 37 CYC:15130
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:55 X:03 Y:55 P:25 SP:F4 PPU:133, 49 CYC:15134
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:55 X:03 Y:55 P:27 SP:F4 PPU:133, 55 CYC:15136
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf4, cpu.sp);

    // C71B  68        PLA                             A:55 X:03 Y:55 P:27 SP:F4 PPU:133, 64 CYC:15139
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:34 X:03 Y:55 P:25 SP:F5 PPU:133, 76 CYC:15143
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:00 X:03 Y:55 P:27 SP:F5 PPU:133, 82 CYC:15145
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:00 X:03 Y:55 P:27 SP:F5 PPU:133, 88 CYC:15147
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x55, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C728  C8        INY                             A:00 X:03 Y:55 P:27 SP:F5 PPU:133, 97 CYC:15150
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C729  CA        DEX                             A:00 X:03 Y:56 P:25 SP:F5 PPU:133,103 CYC:15152
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:00 X:02 Y:56 P:25 SP:F5 PPU:133,109 CYC:15154
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf5, cpu.sp);

    // C70C  68        PLA                             A:00 X:02 Y:56 P:25 SP:F5 PPU:133,118 CYC:15157
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:55 X:02 Y:56 P:25 SP:F6 PPU:133,130 CYC:15161
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:55 X:02 Y:56 P:27 SP:F6 PPU:133,136 CYC:15163
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf6, cpu.sp);

    // C71B  68        PLA                             A:55 X:02 Y:56 P:27 SP:F6 PPU:133,145 CYC:15166
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:34 X:02 Y:56 P:25 SP:F7 PPU:133,157 CYC:15170
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:00 X:02 Y:56 P:27 SP:F7 PPU:133,163 CYC:15172
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:00 X:02 Y:56 P:27 SP:F7 PPU:133,169 CYC:15174
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x56, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C728  C8        INY                             A:00 X:02 Y:56 P:27 SP:F7 PPU:133,178 CYC:15177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C729  CA        DEX                             A:00 X:02 Y:57 P:25 SP:F7 PPU:133,184 CYC:15179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:00 X:01 Y:57 P:25 SP:F7 PPU:133,190 CYC:15181
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc70c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf7, cpu.sp);

    // C70C  68        PLA                             A:00 X:01 Y:57 P:25 SP:F7 PPU:133,199 CYC:15184
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc70d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C70D  C9 55     CMP #$55                        A:55 X:01 Y:57 P:25 SP:F8 PPU:133,211 CYC:15188
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc70f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C70F  F0 0A     BEQ $C71B                       A:55 X:01 Y:57 P:27 SP:F8 PPU:133,217 CYC:15190
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc71b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf8, cpu.sp);

    // C71B  68        PLA                             A:55 X:01 Y:57 P:27 SP:F8 PPU:133,226 CYC:15193
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xc71c, cpu.pc);
    try expectEqual(0x34, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C71C  29 CB     AND #$CB                        A:34 X:01 Y:57 P:25 SP:F9 PPU:133,238 CYC:15197
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc71e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C71E  C9 00     CMP #$00                        A:00 X:01 Y:57 P:27 SP:F9 PPU:133,244 CYC:15199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc720, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C720  F0 06     BEQ $C728                       A:00 X:01 Y:57 P:27 SP:F9 PPU:133,250 CYC:15201
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc728, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C728  C8        INY                             A:00 X:01 Y:57 P:27 SP:F9 PPU:133,259 CYC:15204
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc729, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x01, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C729  CA        DEX                             A:00 X:01 Y:58 P:25 SP:F9 PPU:133,265 CYC:15206
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C72A  D0 E0     BNE $C70C                       A:00 X:00 Y:58 P:27 SP:F9 PPU:133,271 CYC:15208
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc72c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // C72C  60        RTS                             A:00 X:00 Y:58 P:27 SP:F9 PPU:133,277 CYC:15210
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc6af, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // C6AF  60        RTS                             A:00 X:00 Y:58 P:27 SP:FB PPU:133,295 CYC:15216
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc632, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C632  20 1E E5  JSR $E51E                       A:00 X:00 Y:58 P:27 SP:FD PPU:133,313 CYC:15222
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe51e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E51E  A9 55     LDA #$55                        A:00 X:00 Y:58 P:27 SP:FB PPU:133,331 CYC:15228
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe520, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E520  8D 80 05  STA $0580 = 00                  A:55 X:00 Y:58 P:25 SP:FB PPU:133,337 CYC:15230
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe523, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E523  A9 AA     LDA #$AA                        A:55 X:00 Y:58 P:25 SP:FB PPU:134,  8 CYC:15234
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe525, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E525  8D 32 04  STA $0432 = 00                  A:AA X:00 Y:58 P:A5 SP:FB PPU:134, 14 CYC:15236
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe528, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E528  A9 80     LDA #$80                        A:AA X:00 Y:58 P:A5 SP:FB PPU:134, 26 CYC:15240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe52a, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E52A  85 43     STA $43 = 00                    A:80 X:00 Y:58 P:A5 SP:FB PPU:134, 32 CYC:15242
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe52c, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E52C  A9 05     LDA #$05                        A:80 X:00 Y:58 P:A5 SP:FB PPU:134, 41 CYC:15245
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe52e, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E52E  85 44     STA $44 = 00                    A:05 X:00 Y:58 P:25 SP:FB PPU:134, 47 CYC:15247
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe530, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E530  A9 32     LDA #$32                        A:05 X:00 Y:58 P:25 SP:FB PPU:134, 56 CYC:15250
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe532, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E532  85 45     STA $45 = 00                    A:32 X:00 Y:58 P:25 SP:FB PPU:134, 62 CYC:15252
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe534, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E534  A9 04     LDA #$04                        A:32 X:00 Y:58 P:25 SP:FB PPU:134, 71 CYC:15255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe536, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E536  85 46     STA $46 = 00                    A:04 X:00 Y:58 P:25 SP:FB PPU:134, 77 CYC:15257
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe538, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x00, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E538  A2 03     LDX #$03                        A:04 X:00 Y:58 P:25 SP:FB PPU:134, 86 CYC:15260
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe53a, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E53A  A0 77     LDY #$77                        A:04 X:03 Y:58 P:25 SP:FB PPU:134, 92 CYC:15262
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe53c, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E53C  A9 FF     LDA #$FF                        A:04 X:03 Y:77 P:25 SP:FB PPU:134, 98 CYC:15264
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe53e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E53E  85 01     STA $01 = FF                    A:FF X:03 Y:77 P:A5 SP:FB PPU:134,104 CYC:15266
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe540, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E540  24 01     BIT $01 = FF                    A:FF X:03 Y:77 P:A5 SP:FB PPU:134,113 CYC:15269
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe542, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E542  38        SEC                             A:FF X:03 Y:77 P:E5 SP:FB PPU:134,122 CYC:15272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe543, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E543  A9 00     LDA #$00                        A:FF X:03 Y:77 P:E5 SP:FB PPU:134,128 CYC:15274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe545, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E545  A3 40    *LAX ($40,X) @ 43 = 0580 = 55    A:00 X:03 Y:77 P:67 SP:FB PPU:134,134 CYC:15276
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe547, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E547  EA        NOP                             A:55 X:55 Y:77 P:65 SP:FB PPU:134,152 CYC:15282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe548, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E548  EA        NOP                             A:55 X:55 Y:77 P:65 SP:FB PPU:134,158 CYC:15284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe549, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E549  EA        NOP                             A:55 X:55 Y:77 P:65 SP:FB PPU:134,164 CYC:15286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe54a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E54A  EA        NOP                             A:55 X:55 Y:77 P:65 SP:FB PPU:134,170 CYC:15288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe54b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E54B  F0 12     BEQ $E55F                       A:55 X:55 Y:77 P:65 SP:FB PPU:134,176 CYC:15290
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe54d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E54D  30 10     BMI $E55F                       A:55 X:55 Y:77 P:65 SP:FB PPU:134,182 CYC:15292
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe54f, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E54F  50 0E     BVC $E55F                       A:55 X:55 Y:77 P:65 SP:FB PPU:134,188 CYC:15294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe551, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E551  90 0C     BCC $E55F                       A:55 X:55 Y:77 P:65 SP:FB PPU:134,194 CYC:15296
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe553, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E553  C9 55     CMP #$55                        A:55 X:55 Y:77 P:65 SP:FB PPU:134,200 CYC:15298
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe555, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E555  D0 08     BNE $E55F                       A:55 X:55 Y:77 P:67 SP:FB PPU:134,206 CYC:15300
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe557, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E557  E0 55     CPX #$55                        A:55 X:55 Y:77 P:67 SP:FB PPU:134,212 CYC:15302
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe559, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E559  D0 04     BNE $E55F                       A:55 X:55 Y:77 P:67 SP:FB PPU:134,218 CYC:15304
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe55b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E55B  C0 77     CPY #$77                        A:55 X:55 Y:77 P:67 SP:FB PPU:134,224 CYC:15306
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe55d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E55D  F0 04     BEQ $E563                       A:55 X:55 Y:77 P:67 SP:FB PPU:134,230 CYC:15308
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe563, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E563  A2 05     LDX #$05                        A:55 X:55 Y:77 P:67 SP:FB PPU:134,239 CYC:15311
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe565, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x77, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E565  A0 33     LDY #$33                        A:55 X:05 Y:77 P:65 SP:FB PPU:134,245 CYC:15313
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe567, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E567  B8        CLV                             A:55 X:05 Y:33 P:65 SP:FB PPU:134,251 CYC:15315
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe568, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E568  18        CLC                             A:55 X:05 Y:33 P:25 SP:FB PPU:134,257 CYC:15317
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe569, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E569  A9 00     LDA #$00                        A:55 X:05 Y:33 P:24 SP:FB PPU:134,263 CYC:15319
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe56b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E56B  A3 40    *LAX ($40,X) @ 45 = 0432 = AA    A:00 X:05 Y:33 P:26 SP:FB PPU:134,269 CYC:15321
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe56d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E56D  EA        NOP                             A:AA X:AA Y:33 P:A4 SP:FB PPU:134,287 CYC:15327
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe56e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E56E  EA        NOP                             A:AA X:AA Y:33 P:A4 SP:FB PPU:134,293 CYC:15329
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe56f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E56F  EA        NOP                             A:AA X:AA Y:33 P:A4 SP:FB PPU:134,299 CYC:15331
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe570, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E570  EA        NOP                             A:AA X:AA Y:33 P:A4 SP:FB PPU:134,305 CYC:15333
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe571, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E571  F0 12     BEQ $E585                       A:AA X:AA Y:33 P:A4 SP:FB PPU:134,311 CYC:15335
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe573, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E573  10 10     BPL $E585                       A:AA X:AA Y:33 P:A4 SP:FB PPU:134,317 CYC:15337
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe575, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E575  70 0E     BVS $E585                       A:AA X:AA Y:33 P:A4 SP:FB PPU:134,323 CYC:15339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe577, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E577  B0 0C     BCS $E585                       A:AA X:AA Y:33 P:A4 SP:FB PPU:134,329 CYC:15341
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe579, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E579  C9 AA     CMP #$AA                        A:AA X:AA Y:33 P:A4 SP:FB PPU:134,335 CYC:15343
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe57b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E57B  D0 08     BNE $E585                       A:AA X:AA Y:33 P:27 SP:FB PPU:135,  0 CYC:15345
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe57d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E57D  E0 AA     CPX #$AA                        A:AA X:AA Y:33 P:27 SP:FB PPU:135,  6 CYC:15347
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe57f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E57F  D0 04     BNE $E585                       A:AA X:AA Y:33 P:27 SP:FB PPU:135, 12 CYC:15349
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe581, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E581  C0 33     CPY #$33                        A:AA X:AA Y:33 P:27 SP:FB PPU:135, 18 CYC:15351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe583, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E583  F0 04     BEQ $E589                       A:AA X:AA Y:33 P:27 SP:FB PPU:135, 24 CYC:15353
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe589, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E589  A9 87     LDA #$87                        A:AA X:AA Y:33 P:27 SP:FB PPU:135, 33 CYC:15356
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe58b, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E58B  85 67     STA $67 = 00                    A:87 X:AA Y:33 P:A5 SP:FB PPU:135, 39 CYC:15358
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe58d, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E58D  A9 32     LDA #$32                        A:87 X:AA Y:33 P:A5 SP:FB PPU:135, 48 CYC:15361
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe58f, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E58F  85 68     STA $68 = 00                    A:32 X:AA Y:33 P:25 SP:FB PPU:135, 54 CYC:15363
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe591, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x33, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E591  A0 57     LDY #$57                        A:32 X:AA Y:33 P:25 SP:FB PPU:135, 63 CYC:15366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe593, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E593  24 01     BIT $01 = FF                    A:32 X:AA Y:57 P:25 SP:FB PPU:135, 69 CYC:15368
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe595, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E595  38        SEC                             A:32 X:AA Y:57 P:E5 SP:FB PPU:135, 78 CYC:15371
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe596, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E596  A9 00     LDA #$00                        A:32 X:AA Y:57 P:E5 SP:FB PPU:135, 84 CYC:15373
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe598, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E598  A7 67    *LAX $67 = 87                    A:00 X:AA Y:57 P:67 SP:FB PPU:135, 90 CYC:15375
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe59a, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E59A  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:135, 99 CYC:15378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe59b, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E59B  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:135,105 CYC:15380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe59c, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E59C  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:135,111 CYC:15382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe59d, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E59D  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:135,117 CYC:15384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe59e, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E59E  F0 12     BEQ $E5B2                       A:87 X:87 Y:57 P:E5 SP:FB PPU:135,123 CYC:15386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5a0, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5A0  10 10     BPL $E5B2                       A:87 X:87 Y:57 P:E5 SP:FB PPU:135,129 CYC:15388
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5a2, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5A2  50 0E     BVC $E5B2                       A:87 X:87 Y:57 P:E5 SP:FB PPU:135,135 CYC:15390
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5a4, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5A4  90 0C     BCC $E5B2                       A:87 X:87 Y:57 P:E5 SP:FB PPU:135,141 CYC:15392
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5a6, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5A6  C9 87     CMP #$87                        A:87 X:87 Y:57 P:E5 SP:FB PPU:135,147 CYC:15394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5a8, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5A8  D0 08     BNE $E5B2                       A:87 X:87 Y:57 P:67 SP:FB PPU:135,153 CYC:15396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5aa, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5AA  E0 87     CPX #$87                        A:87 X:87 Y:57 P:67 SP:FB PPU:135,159 CYC:15398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5ac, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5AC  D0 04     BNE $E5B2                       A:87 X:87 Y:57 P:67 SP:FB PPU:135,165 CYC:15400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5ae, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5AE  C0 57     CPY #$57                        A:87 X:87 Y:57 P:67 SP:FB PPU:135,171 CYC:15402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5b0, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5B0  F0 04     BEQ $E5B6                       A:87 X:87 Y:57 P:67 SP:FB PPU:135,177 CYC:15404
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe5b6, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5B6  A0 53     LDY #$53                        A:87 X:87 Y:57 P:67 SP:FB PPU:135,186 CYC:15407
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5b8, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5B8  B8        CLV                             A:87 X:87 Y:53 P:65 SP:FB PPU:135,192 CYC:15409
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5b9, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5B9  18        CLC                             A:87 X:87 Y:53 P:25 SP:FB PPU:135,198 CYC:15411
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5ba, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5BA  A9 00     LDA #$00                        A:87 X:87 Y:53 P:24 SP:FB PPU:135,204 CYC:15413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5bc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5BC  A7 68    *LAX $68 = 32                    A:00 X:87 Y:53 P:26 SP:FB PPU:135,210 CYC:15415
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe5be, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5BE  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:135,219 CYC:15418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5bf, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5BF  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:135,225 CYC:15420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5c0, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5C0  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:135,231 CYC:15422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5c1, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5C1  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:135,237 CYC:15424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5c2, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5C2  F0 12     BEQ $E5D6                       A:32 X:32 Y:53 P:24 SP:FB PPU:135,243 CYC:15426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5c4, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5C4  30 10     BMI $E5D6                       A:32 X:32 Y:53 P:24 SP:FB PPU:135,249 CYC:15428
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5c6, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5C6  70 0E     BVS $E5D6                       A:32 X:32 Y:53 P:24 SP:FB PPU:135,255 CYC:15430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5c8, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5C8  B0 0C     BCS $E5D6                       A:32 X:32 Y:53 P:24 SP:FB PPU:135,261 CYC:15432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5ca, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5CA  C9 32     CMP #$32                        A:32 X:32 Y:53 P:24 SP:FB PPU:135,267 CYC:15434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5cc, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5CC  D0 08     BNE $E5D6                       A:32 X:32 Y:53 P:27 SP:FB PPU:135,273 CYC:15436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5ce, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5CE  E0 32     CPX #$32                        A:32 X:32 Y:53 P:27 SP:FB PPU:135,279 CYC:15438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5d0, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5D0  D0 04     BNE $E5D6                       A:32 X:32 Y:53 P:27 SP:FB PPU:135,285 CYC:15440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5d2, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5D2  C0 53     CPY #$53                        A:32 X:32 Y:53 P:27 SP:FB PPU:135,291 CYC:15442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5d4, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5D4  F0 04     BEQ $E5DA                       A:32 X:32 Y:53 P:27 SP:FB PPU:135,297 CYC:15444
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe5da, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5DA  A9 87     LDA #$87                        A:32 X:32 Y:53 P:27 SP:FB PPU:135,306 CYC:15447
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5dc, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5DC  8D 77 05  STA $0577 = 00                  A:87 X:32 Y:53 P:A5 SP:FB PPU:135,312 CYC:15449
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe5df, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5DF  A9 32     LDA #$32                        A:87 X:32 Y:53 P:A5 SP:FB PPU:135,324 CYC:15453
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5e1, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5E1  8D 78 05  STA $0578 = 00                  A:32 X:32 Y:53 P:25 SP:FB PPU:135,330 CYC:15455
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe5e4, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5E4  A0 57     LDY #$57                        A:32 X:32 Y:53 P:25 SP:FB PPU:136,  1 CYC:15459
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5e6, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5E6  24 01     BIT $01 = FF                    A:32 X:32 Y:57 P:25 SP:FB PPU:136,  7 CYC:15461
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe5e8, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5E8  38        SEC                             A:32 X:32 Y:57 P:E5 SP:FB PPU:136, 16 CYC:15464
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5e9, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5E9  A9 00     LDA #$00                        A:32 X:32 Y:57 P:E5 SP:FB PPU:136, 22 CYC:15466
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5eb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5EB  AF 77 05 *LAX $0577 = 87                  A:00 X:32 Y:57 P:67 SP:FB PPU:136, 28 CYC:15468
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe5ee, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5EE  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 40 CYC:15472
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5ef, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5EF  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 46 CYC:15474
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5f0, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5F0  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 52 CYC:15476
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5f1, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5F1  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 58 CYC:15478
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5f2, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5F2  F0 12     BEQ $E606                       A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 64 CYC:15480
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5f4, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5F4  10 10     BPL $E606                       A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 70 CYC:15482
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5f6, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5F6  50 0E     BVC $E606                       A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 76 CYC:15484
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5f8, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5F8  90 0C     BCC $E606                       A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 82 CYC:15486
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5fa, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5FA  C9 87     CMP #$87                        A:87 X:87 Y:57 P:E5 SP:FB PPU:136, 88 CYC:15488
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5fc, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5FC  D0 08     BNE $E606                       A:87 X:87 Y:57 P:67 SP:FB PPU:136, 94 CYC:15490
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe5fe, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E5FE  E0 87     CPX #$87                        A:87 X:87 Y:57 P:67 SP:FB PPU:136,100 CYC:15492
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe600, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E600  D0 04     BNE $E606                       A:87 X:87 Y:57 P:67 SP:FB PPU:136,106 CYC:15494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe602, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E602  C0 57     CPY #$57                        A:87 X:87 Y:57 P:67 SP:FB PPU:136,112 CYC:15496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe604, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E604  F0 04     BEQ $E60A                       A:87 X:87 Y:57 P:67 SP:FB PPU:136,118 CYC:15498
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe60a, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E60A  A0 53     LDY #$53                        A:87 X:87 Y:57 P:67 SP:FB PPU:136,127 CYC:15501
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe60c, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E60C  B8        CLV                             A:87 X:87 Y:53 P:65 SP:FB PPU:136,133 CYC:15503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe60d, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E60D  18        CLC                             A:87 X:87 Y:53 P:25 SP:FB PPU:136,139 CYC:15505
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe60e, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E60E  A9 00     LDA #$00                        A:87 X:87 Y:53 P:24 SP:FB PPU:136,145 CYC:15507
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe610, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E610  AF 78 05 *LAX $0578 = 32                  A:00 X:87 Y:53 P:26 SP:FB PPU:136,151 CYC:15509
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe613, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E613  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:136,163 CYC:15513
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe614, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E614  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:136,169 CYC:15515
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe615, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E615  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:136,175 CYC:15517
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe616, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E616  EA        NOP                             A:32 X:32 Y:53 P:24 SP:FB PPU:136,181 CYC:15519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe617, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E617  F0 12     BEQ $E62B                       A:32 X:32 Y:53 P:24 SP:FB PPU:136,187 CYC:15521
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe619, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E619  30 10     BMI $E62B                       A:32 X:32 Y:53 P:24 SP:FB PPU:136,193 CYC:15523
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe61b, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E61B  70 0E     BVS $E62B                       A:32 X:32 Y:53 P:24 SP:FB PPU:136,199 CYC:15525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe61d, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E61D  B0 0C     BCS $E62B                       A:32 X:32 Y:53 P:24 SP:FB PPU:136,205 CYC:15527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe61f, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E61F  C9 32     CMP #$32                        A:32 X:32 Y:53 P:24 SP:FB PPU:136,211 CYC:15529
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe621, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E621  D0 08     BNE $E62B                       A:32 X:32 Y:53 P:27 SP:FB PPU:136,217 CYC:15531
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe623, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E623  E0 32     CPX #$32                        A:32 X:32 Y:53 P:27 SP:FB PPU:136,223 CYC:15533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe625, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E625  D0 04     BNE $E62B                       A:32 X:32 Y:53 P:27 SP:FB PPU:136,229 CYC:15535
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe627, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E627  C0 53     CPY #$53                        A:32 X:32 Y:53 P:27 SP:FB PPU:136,235 CYC:15537
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe629, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E629  F0 04     BEQ $E62F                       A:32 X:32 Y:53 P:27 SP:FB PPU:136,241 CYC:15539
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe62f, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E62F  A9 FF     LDA #$FF                        A:32 X:32 Y:53 P:27 SP:FB PPU:136,250 CYC:15542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe631, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E631  85 43     STA $43 = 80                    A:FF X:32 Y:53 P:A5 SP:FB PPU:136,256 CYC:15544
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe633, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E633  A9 04     LDA #$04                        A:FF X:32 Y:53 P:A5 SP:FB PPU:136,265 CYC:15547
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe635, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E635  85 44     STA $44 = 05                    A:04 X:32 Y:53 P:25 SP:FB PPU:136,271 CYC:15549
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe637, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E637  A9 32     LDA #$32                        A:04 X:32 Y:53 P:25 SP:FB PPU:136,280 CYC:15552
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe639, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E639  85 45     STA $45 = 32                    A:32 X:32 Y:53 P:25 SP:FB PPU:136,286 CYC:15554
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe63b, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E63B  A9 04     LDA #$04                        A:32 X:32 Y:53 P:25 SP:FB PPU:136,295 CYC:15557
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe63d, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E63D  85 46     STA $46 = 04                    A:04 X:32 Y:53 P:25 SP:FB PPU:136,301 CYC:15559
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe63f, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E63F  A9 55     LDA #$55                        A:04 X:32 Y:53 P:25 SP:FB PPU:136,310 CYC:15562
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe641, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E641  8D 80 05  STA $0580 = 55                  A:55 X:32 Y:53 P:25 SP:FB PPU:136,316 CYC:15564
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe644, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E644  A9 AA     LDA #$AA                        A:55 X:32 Y:53 P:25 SP:FB PPU:136,328 CYC:15568
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe646, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E646  8D 32 04  STA $0432 = AA                  A:AA X:32 Y:53 P:A5 SP:FB PPU:136,334 CYC:15570
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe649, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E649  A2 03     LDX #$03                        A:AA X:32 Y:53 P:A5 SP:FB PPU:137,  5 CYC:15574
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe64b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x53, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E64B  A0 81     LDY #$81                        A:AA X:03 Y:53 P:25 SP:FB PPU:137, 11 CYC:15576
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe64d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E64D  24 01     BIT $01 = FF                    A:AA X:03 Y:81 P:A5 SP:FB PPU:137, 17 CYC:15578
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe64f, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E64F  38        SEC                             A:AA X:03 Y:81 P:E5 SP:FB PPU:137, 26 CYC:15581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe650, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E650  A9 00     LDA #$00                        A:AA X:03 Y:81 P:E5 SP:FB PPU:137, 32 CYC:15583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe652, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x03, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E652  B3 43    *LAX ($43),Y = 04FF @ 0580 = 55  A:00 X:03 Y:81 P:67 SP:FB PPU:137, 38 CYC:15585
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe654, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E654  EA        NOP                             A:55 X:55 Y:81 P:65 SP:FB PPU:137, 56 CYC:15591
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe655, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E655  EA        NOP                             A:55 X:55 Y:81 P:65 SP:FB PPU:137, 62 CYC:15593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe656, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E656  EA        NOP                             A:55 X:55 Y:81 P:65 SP:FB PPU:137, 68 CYC:15595
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe657, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E657  EA        NOP                             A:55 X:55 Y:81 P:65 SP:FB PPU:137, 74 CYC:15597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe658, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E658  F0 12     BEQ $E66C                       A:55 X:55 Y:81 P:65 SP:FB PPU:137, 80 CYC:15599
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe65a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E65A  30 10     BMI $E66C                       A:55 X:55 Y:81 P:65 SP:FB PPU:137, 86 CYC:15601
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe65c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E65C  50 0E     BVC $E66C                       A:55 X:55 Y:81 P:65 SP:FB PPU:137, 92 CYC:15603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe65e, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E65E  90 0C     BCC $E66C                       A:55 X:55 Y:81 P:65 SP:FB PPU:137, 98 CYC:15605
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe660, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E660  C9 55     CMP #$55                        A:55 X:55 Y:81 P:65 SP:FB PPU:137,104 CYC:15607
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe662, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E662  D0 08     BNE $E66C                       A:55 X:55 Y:81 P:67 SP:FB PPU:137,110 CYC:15609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe664, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E664  E0 55     CPX #$55                        A:55 X:55 Y:81 P:67 SP:FB PPU:137,116 CYC:15611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe666, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E666  D0 04     BNE $E66C                       A:55 X:55 Y:81 P:67 SP:FB PPU:137,122 CYC:15613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe668, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E668  C0 81     CPY #$81                        A:55 X:55 Y:81 P:67 SP:FB PPU:137,128 CYC:15615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe66a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E66A  F0 04     BEQ $E670                       A:55 X:55 Y:81 P:67 SP:FB PPU:137,134 CYC:15617
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe670, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x55, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E670  A2 05     LDX #$05                        A:55 X:55 Y:81 P:67 SP:FB PPU:137,143 CYC:15620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe672, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x81, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E672  A0 00     LDY #$00                        A:55 X:05 Y:81 P:65 SP:FB PPU:137,149 CYC:15622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe674, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E674  B8        CLV                             A:55 X:05 Y:00 P:67 SP:FB PPU:137,155 CYC:15624
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe675, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E675  18        CLC                             A:55 X:05 Y:00 P:27 SP:FB PPU:137,161 CYC:15626
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe676, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E676  A9 00     LDA #$00                        A:55 X:05 Y:00 P:26 SP:FB PPU:137,167 CYC:15628
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe678, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x05, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E678  B3 45    *LAX ($45),Y = 0432 @ 0432 = AA  A:00 X:05 Y:00 P:26 SP:FB PPU:137,173 CYC:15630
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe67a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E67A  EA        NOP                             A:AA X:AA Y:00 P:A4 SP:FB PPU:137,188 CYC:15635
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe67b, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E67B  EA        NOP                             A:AA X:AA Y:00 P:A4 SP:FB PPU:137,194 CYC:15637
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe67c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E67C  EA        NOP                             A:AA X:AA Y:00 P:A4 SP:FB PPU:137,200 CYC:15639
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe67d, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E67D  EA        NOP                             A:AA X:AA Y:00 P:A4 SP:FB PPU:137,206 CYC:15641
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe67e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E67E  F0 12     BEQ $E692                       A:AA X:AA Y:00 P:A4 SP:FB PPU:137,212 CYC:15643
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe680, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E680  10 10     BPL $E692                       A:AA X:AA Y:00 P:A4 SP:FB PPU:137,218 CYC:15645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe682, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E682  70 0E     BVS $E692                       A:AA X:AA Y:00 P:A4 SP:FB PPU:137,224 CYC:15647
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe684, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E684  B0 0C     BCS $E692                       A:AA X:AA Y:00 P:A4 SP:FB PPU:137,230 CYC:15649
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe686, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E686  C9 AA     CMP #$AA                        A:AA X:AA Y:00 P:A4 SP:FB PPU:137,236 CYC:15651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe688, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E688  D0 08     BNE $E692                       A:AA X:AA Y:00 P:27 SP:FB PPU:137,242 CYC:15653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe68a, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E68A  E0 AA     CPX #$AA                        A:AA X:AA Y:00 P:27 SP:FB PPU:137,248 CYC:15655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe68c, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E68C  D0 04     BNE $E692                       A:AA X:AA Y:00 P:27 SP:FB PPU:137,254 CYC:15657
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe68e, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E68E  C0 00     CPY #$00                        A:AA X:AA Y:00 P:27 SP:FB PPU:137,260 CYC:15659
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe690, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E690  F0 04     BEQ $E696                       A:AA X:AA Y:00 P:27 SP:FB PPU:137,266 CYC:15661
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe696, cpu.pc);
    try expectEqual(0xaa, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E696  A9 87     LDA #$87                        A:AA X:AA Y:00 P:27 SP:FB PPU:137,275 CYC:15664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe698, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E698  85 67     STA $67 = 87                    A:87 X:AA Y:00 P:A5 SP:FB PPU:137,281 CYC:15666
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe69a, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E69A  A9 32     LDA #$32                        A:87 X:AA Y:00 P:A5 SP:FB PPU:137,290 CYC:15669
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe69c, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E69C  85 68     STA $68 = 32                    A:32 X:AA Y:00 P:25 SP:FB PPU:137,296 CYC:15671
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe69e, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x00, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E69E  A0 57     LDY #$57                        A:32 X:AA Y:00 P:25 SP:FB PPU:137,305 CYC:15674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6a0, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6A0  24 01     BIT $01 = FF                    A:32 X:AA Y:57 P:25 SP:FB PPU:137,311 CYC:15676
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe6a2, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6A2  38        SEC                             A:32 X:AA Y:57 P:E5 SP:FB PPU:137,320 CYC:15679
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6a3, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6A3  A9 00     LDA #$00                        A:32 X:AA Y:57 P:E5 SP:FB PPU:137,326 CYC:15681
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6a5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6A5  B7 10    *LAX $10,Y @ 67 = 87             A:00 X:AA Y:57 P:67 SP:FB PPU:137,332 CYC:15683
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe6a7, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6A7  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:138,  3 CYC:15687
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6a8, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6A8  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:138,  9 CYC:15689
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6a9, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6A9  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:138, 15 CYC:15691
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6aa, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6AA  EA        NOP                             A:87 X:87 Y:57 P:E5 SP:FB PPU:138, 21 CYC:15693
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6ab, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6AB  F0 12     BEQ $E6BF                       A:87 X:87 Y:57 P:E5 SP:FB PPU:138, 27 CYC:15695
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6ad, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6AD  10 10     BPL $E6BF                       A:87 X:87 Y:57 P:E5 SP:FB PPU:138, 33 CYC:15697
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6af, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6AF  50 0E     BVC $E6BF                       A:87 X:87 Y:57 P:E5 SP:FB PPU:138, 39 CYC:15699
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6b1, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6B1  90 0C     BCC $E6BF                       A:87 X:87 Y:57 P:E5 SP:FB PPU:138, 45 CYC:15701
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6b3, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6B3  C9 87     CMP #$87                        A:87 X:87 Y:57 P:E5 SP:FB PPU:138, 51 CYC:15703
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6b5, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6B5  D0 08     BNE $E6BF                       A:87 X:87 Y:57 P:67 SP:FB PPU:138, 57 CYC:15705
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6b7, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6B7  E0 87     CPX #$87                        A:87 X:87 Y:57 P:67 SP:FB PPU:138, 63 CYC:15707
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6b9, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6B9  D0 04     BNE $E6BF                       A:87 X:87 Y:57 P:67 SP:FB PPU:138, 69 CYC:15709
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6bb, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6BB  C0 57     CPY #$57                        A:87 X:87 Y:57 P:67 SP:FB PPU:138, 75 CYC:15711
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6bd, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6BD  F0 04     BEQ $E6C3                       A:87 X:87 Y:57 P:67 SP:FB PPU:138, 81 CYC:15713
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe6c3, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x57, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6C3  A0 FF     LDY #$FF                        A:87 X:87 Y:57 P:67 SP:FB PPU:138, 90 CYC:15716
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6c5, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6C5  B8        CLV                             A:87 X:87 Y:FF P:E5 SP:FB PPU:138, 96 CYC:15718
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6c6, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6C6  18        CLC                             A:87 X:87 Y:FF P:A5 SP:FB PPU:138,102 CYC:15720
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6c7, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6C7  A9 00     LDA #$00                        A:87 X:87 Y:FF P:A4 SP:FB PPU:138,108 CYC:15722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6c9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6C9  B7 69    *LAX $69,Y @ 68 = 32             A:00 X:87 Y:FF P:26 SP:FB PPU:138,114 CYC:15724
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe6cb, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6CB  EA        NOP                             A:32 X:32 Y:FF P:24 SP:FB PPU:138,126 CYC:15728
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6cc, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6CC  EA        NOP                             A:32 X:32 Y:FF P:24 SP:FB PPU:138,132 CYC:15730
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6cd, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6CD  EA        NOP                             A:32 X:32 Y:FF P:24 SP:FB PPU:138,138 CYC:15732
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6ce, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6CE  EA        NOP                             A:32 X:32 Y:FF P:24 SP:FB PPU:138,144 CYC:15734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6cf, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6CF  F0 12     BEQ $E6E3                       A:32 X:32 Y:FF P:24 SP:FB PPU:138,150 CYC:15736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6d1, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6D1  30 10     BMI $E6E3                       A:32 X:32 Y:FF P:24 SP:FB PPU:138,156 CYC:15738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6d3, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6D3  70 0E     BVS $E6E3                       A:32 X:32 Y:FF P:24 SP:FB PPU:138,162 CYC:15740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6d5, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6D5  B0 0C     BCS $E6E3                       A:32 X:32 Y:FF P:24 SP:FB PPU:138,168 CYC:15742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6d7, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6D7  C9 32     CMP #$32                        A:32 X:32 Y:FF P:24 SP:FB PPU:138,174 CYC:15744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6d9, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6D9  D0 08     BNE $E6E3                       A:32 X:32 Y:FF P:27 SP:FB PPU:138,180 CYC:15746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6db, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6DB  E0 32     CPX #$32                        A:32 X:32 Y:FF P:27 SP:FB PPU:138,186 CYC:15748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6dd, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6DD  D0 04     BNE $E6E3                       A:32 X:32 Y:FF P:27 SP:FB PPU:138,192 CYC:15750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6df, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6DF  C0 FF     CPY #$FF                        A:32 X:32 Y:FF P:27 SP:FB PPU:138,198 CYC:15752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6e1, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6E1  F0 04     BEQ $E6E7                       A:32 X:32 Y:FF P:27 SP:FB PPU:138,204 CYC:15754
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe6e7, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6E7  A9 87     LDA #$87                        A:32 X:32 Y:FF P:27 SP:FB PPU:138,213 CYC:15757
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6e9, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6E9  8D 87 05  STA $0587 = 00                  A:87 X:32 Y:FF P:A5 SP:FB PPU:138,219 CYC:15759
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe6ec, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6EC  A9 32     LDA #$32                        A:87 X:32 Y:FF P:A5 SP:FB PPU:138,231 CYC:15763
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6ee, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6EE  8D 88 05  STA $0588 = 00                  A:32 X:32 Y:FF P:25 SP:FB PPU:138,237 CYC:15765
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe6f1, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6F1  A0 30     LDY #$30                        A:32 X:32 Y:FF P:25 SP:FB PPU:138,249 CYC:15769
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6f3, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6F3  24 01     BIT $01 = FF                    A:32 X:32 Y:30 P:25 SP:FB PPU:138,255 CYC:15771
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe6f5, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6F5  38        SEC                             A:32 X:32 Y:30 P:E5 SP:FB PPU:138,264 CYC:15774
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6f6, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6F6  A9 00     LDA #$00                        A:32 X:32 Y:30 P:E5 SP:FB PPU:138,270 CYC:15776
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6f8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6F8  BF 57 05 *LAX $0557,Y @ 0587 = 87         A:00 X:32 Y:30 P:67 SP:FB PPU:138,276 CYC:15778
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe6fb, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6FB  EA        NOP                             A:87 X:87 Y:30 P:E5 SP:FB PPU:138,288 CYC:15782
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6fc, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6FC  EA        NOP                             A:87 X:87 Y:30 P:E5 SP:FB PPU:138,294 CYC:15784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6fd, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6FD  EA        NOP                             A:87 X:87 Y:30 P:E5 SP:FB PPU:138,300 CYC:15786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6fe, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6FE  EA        NOP                             A:87 X:87 Y:30 P:E5 SP:FB PPU:138,306 CYC:15788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe6ff, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E6FF  F0 12     BEQ $E713                       A:87 X:87 Y:30 P:E5 SP:FB PPU:138,312 CYC:15790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe701, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E701  10 10     BPL $E713                       A:87 X:87 Y:30 P:E5 SP:FB PPU:138,318 CYC:15792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe703, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E703  50 0E     BVC $E713                       A:87 X:87 Y:30 P:E5 SP:FB PPU:138,324 CYC:15794
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe705, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E705  90 0C     BCC $E713                       A:87 X:87 Y:30 P:E5 SP:FB PPU:138,330 CYC:15796
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe707, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E707  C9 87     CMP #$87                        A:87 X:87 Y:30 P:E5 SP:FB PPU:138,336 CYC:15798
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe709, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E709  D0 08     BNE $E713                       A:87 X:87 Y:30 P:67 SP:FB PPU:139,  1 CYC:15800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe70b, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E70B  E0 87     CPX #$87                        A:87 X:87 Y:30 P:67 SP:FB PPU:139,  7 CYC:15802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe70d, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E70D  D0 04     BNE $E713                       A:87 X:87 Y:30 P:67 SP:FB PPU:139, 13 CYC:15804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe70f, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E70F  C0 30     CPY #$30                        A:87 X:87 Y:30 P:67 SP:FB PPU:139, 19 CYC:15806
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe711, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E711  F0 04     BEQ $E717                       A:87 X:87 Y:30 P:67 SP:FB PPU:139, 25 CYC:15808
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe717, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x30, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E717  A0 40     LDY #$40                        A:87 X:87 Y:30 P:67 SP:FB PPU:139, 34 CYC:15811
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe719, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E719  B8        CLV                             A:87 X:87 Y:40 P:65 SP:FB PPU:139, 40 CYC:15813
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe71a, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E71A  18        CLC                             A:87 X:87 Y:40 P:25 SP:FB PPU:139, 46 CYC:15815
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe71b, cpu.pc);
    try expectEqual(0x87, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E71B  A9 00     LDA #$00                        A:87 X:87 Y:40 P:24 SP:FB PPU:139, 52 CYC:15817
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe71d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x87, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x26, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E71D  BF 48 05 *LAX $0548,Y @ 0588 = 32         A:00 X:87 Y:40 P:26 SP:FB PPU:139, 58 CYC:15819
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe720, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E720  EA        NOP                             A:32 X:32 Y:40 P:24 SP:FB PPU:139, 70 CYC:15823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe721, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E721  EA        NOP                             A:32 X:32 Y:40 P:24 SP:FB PPU:139, 76 CYC:15825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe722, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E722  EA        NOP                             A:32 X:32 Y:40 P:24 SP:FB PPU:139, 82 CYC:15827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe723, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E723  EA        NOP                             A:32 X:32 Y:40 P:24 SP:FB PPU:139, 88 CYC:15829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe724, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E724  F0 12     BEQ $E738                       A:32 X:32 Y:40 P:24 SP:FB PPU:139, 94 CYC:15831
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe726, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E726  30 10     BMI $E738                       A:32 X:32 Y:40 P:24 SP:FB PPU:139,100 CYC:15833
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe728, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E728  70 0E     BVS $E738                       A:32 X:32 Y:40 P:24 SP:FB PPU:139,106 CYC:15835
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe72a, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E72A  B0 0C     BCS $E738                       A:32 X:32 Y:40 P:24 SP:FB PPU:139,112 CYC:15837
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe72c, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E72C  C9 32     CMP #$32                        A:32 X:32 Y:40 P:24 SP:FB PPU:139,118 CYC:15839
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe72e, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E72E  D0 08     BNE $E738                       A:32 X:32 Y:40 P:27 SP:FB PPU:139,124 CYC:15841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe730, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E730  E0 32     CPX #$32                        A:32 X:32 Y:40 P:27 SP:FB PPU:139,130 CYC:15843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe732, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E732  D0 04     BNE $E738                       A:32 X:32 Y:40 P:27 SP:FB PPU:139,136 CYC:15845
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe734, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E734  C0 40     CPY #$40                        A:32 X:32 Y:40 P:27 SP:FB PPU:139,142 CYC:15847
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe736, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E736  F0 04     BEQ $E73C                       A:32 X:32 Y:40 P:27 SP:FB PPU:139,148 CYC:15849
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe73c, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E73C  60        RTS                             A:32 X:32 Y:40 P:27 SP:FB PPU:139,157 CYC:15852
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc635, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C635  20 3D E7  JSR $E73D                       A:32 X:32 Y:40 P:27 SP:FD PPU:139,175 CYC:15858
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe73d, cpu.pc);
    try expectEqual(0x32, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E73D  A9 C0     LDA #$C0                        A:32 X:32 Y:40 P:27 SP:FB PPU:139,193 CYC:15864
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe73f, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E73F  85 01     STA $01 = FF                    A:C0 X:32 Y:40 P:A5 SP:FB PPU:139,199 CYC:15866
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe741, cpu.pc);
    try expectEqual(0xc0, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E741  A9 00     LDA #$00                        A:C0 X:32 Y:40 P:A5 SP:FB PPU:139,208 CYC:15869
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe743, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E743  8D 89 04  STA $0489 = 00                  A:00 X:32 Y:40 P:27 SP:FB PPU:139,214 CYC:15871
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe746, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E746  A9 89     LDA #$89                        A:00 X:32 Y:40 P:27 SP:FB PPU:139,226 CYC:15875
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe748, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E748  85 60     STA $60 = 00                    A:89 X:32 Y:40 P:A5 SP:FB PPU:139,232 CYC:15877
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe74a, cpu.pc);
    try expectEqual(0x89, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E74A  A9 04     LDA #$04                        A:89 X:32 Y:40 P:A5 SP:FB PPU:139,241 CYC:15880
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe74c, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E74C  85 61     STA $61 = 00                    A:04 X:32 Y:40 P:25 SP:FB PPU:139,247 CYC:15882
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe74e, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x40, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E74E  A0 44     LDY #$44                        A:04 X:32 Y:40 P:25 SP:FB PPU:139,256 CYC:15885
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe750, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x32, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E750  A2 17     LDX #$17                        A:04 X:32 Y:44 P:25 SP:FB PPU:139,262 CYC:15887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe752, cpu.pc);
    try expectEqual(0x04, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E752  A9 3E     LDA #$3E                        A:04 X:17 Y:44 P:25 SP:FB PPU:139,268 CYC:15889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe754, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E754  24 01     BIT $01 = C0                    A:3E X:17 Y:44 P:25 SP:FB PPU:139,274 CYC:15891
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe756, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe7, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E756  18        CLC                             A:3E X:17 Y:44 P:E7 SP:FB PPU:139,283 CYC:15894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe757, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E757  83 49    *SAX ($49,X) @ 60 = 0489 = 00    A:3E X:17 Y:44 P:E6 SP:FB PPU:139,289 CYC:15896
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe759, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E759  EA        NOP                             A:3E X:17 Y:44 P:E6 SP:FB PPU:139,307 CYC:15902
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe75a, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E75A  EA        NOP                             A:3E X:17 Y:44 P:E6 SP:FB PPU:139,313 CYC:15904
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe75b, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E75B  EA        NOP                             A:3E X:17 Y:44 P:E6 SP:FB PPU:139,319 CYC:15906
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe75c, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E75C  EA        NOP                             A:3E X:17 Y:44 P:E6 SP:FB PPU:139,325 CYC:15908
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe75d, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E75D  D0 19     BNE $E778                       A:3E X:17 Y:44 P:E6 SP:FB PPU:139,331 CYC:15910
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe75f, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E75F  B0 17     BCS $E778                       A:3E X:17 Y:44 P:E6 SP:FB PPU:139,337 CYC:15912
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe761, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E761  50 15     BVC $E778                       A:3E X:17 Y:44 P:E6 SP:FB PPU:140,  2 CYC:15914
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe763, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E763  10 13     BPL $E778                       A:3E X:17 Y:44 P:E6 SP:FB PPU:140,  8 CYC:15916
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe765, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe6, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E765  C9 3E     CMP #$3E                        A:3E X:17 Y:44 P:E6 SP:FB PPU:140, 14 CYC:15918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe767, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E767  D0 0F     BNE $E778                       A:3E X:17 Y:44 P:67 SP:FB PPU:140, 20 CYC:15920
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe769, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E769  C0 44     CPY #$44                        A:3E X:17 Y:44 P:67 SP:FB PPU:140, 26 CYC:15922
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe76b, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E76B  D0 0B     BNE $E778                       A:3E X:17 Y:44 P:67 SP:FB PPU:140, 32 CYC:15924
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe76d, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E76D  E0 17     CPX #$17                        A:3E X:17 Y:44 P:67 SP:FB PPU:140, 38 CYC:15926
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe76f, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E76F  D0 07     BNE $E778                       A:3E X:17 Y:44 P:67 SP:FB PPU:140, 44 CYC:15928
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe771, cpu.pc);
    try expectEqual(0x3e, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E771  AD 89 04  LDA $0489 = 16                  A:3E X:17 Y:44 P:67 SP:FB PPU:140, 50 CYC:15930
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe774, cpu.pc);
    try expectEqual(0x16, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E774  C9 16     CMP #$16                        A:16 X:17 Y:44 P:65 SP:FB PPU:140, 62 CYC:15934
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe776, cpu.pc);
    try expectEqual(0x16, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E776  F0 04     BEQ $E77C                       A:16 X:17 Y:44 P:67 SP:FB PPU:140, 68 CYC:15936
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe77c, cpu.pc);
    try expectEqual(0x16, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E77C  A0 44     LDY #$44                        A:16 X:17 Y:44 P:67 SP:FB PPU:140, 77 CYC:15939
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe77e, cpu.pc);
    try expectEqual(0x16, cpu.acc);
    try expectEqual(0x17, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E77E  A2 7A     LDX #$7A                        A:16 X:17 Y:44 P:65 SP:FB PPU:140, 83 CYC:15941
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe780, cpu.pc);
    try expectEqual(0x16, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E780  A9 66     LDA #$66                        A:16 X:7A Y:44 P:65 SP:FB PPU:140, 89 CYC:15943
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe782, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E782  38        SEC                             A:66 X:7A Y:44 P:65 SP:FB PPU:140, 95 CYC:15945
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe783, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E783  B8        CLV                             A:66 X:7A Y:44 P:65 SP:FB PPU:140,101 CYC:15947
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe784, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E784  83 E6    *SAX ($E6,X) @ 60 = 0489 = 16    A:66 X:7A Y:44 P:25 SP:FB PPU:140,107 CYC:15949
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe786, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E786  EA        NOP                             A:66 X:7A Y:44 P:25 SP:FB PPU:140,125 CYC:15955
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe787, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E787  EA        NOP                             A:66 X:7A Y:44 P:25 SP:FB PPU:140,131 CYC:15957
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe788, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E788  EA        NOP                             A:66 X:7A Y:44 P:25 SP:FB PPU:140,137 CYC:15959
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe789, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E789  EA        NOP                             A:66 X:7A Y:44 P:25 SP:FB PPU:140,143 CYC:15961
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe78a, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E78A  F0 19     BEQ $E7A5                       A:66 X:7A Y:44 P:25 SP:FB PPU:140,149 CYC:15963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe78c, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E78C  90 17     BCC $E7A5                       A:66 X:7A Y:44 P:25 SP:FB PPU:140,155 CYC:15965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe78e, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E78E  70 15     BVS $E7A5                       A:66 X:7A Y:44 P:25 SP:FB PPU:140,161 CYC:15967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe790, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E790  30 13     BMI $E7A5                       A:66 X:7A Y:44 P:25 SP:FB PPU:140,167 CYC:15969
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe792, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E792  C9 66     CMP #$66                        A:66 X:7A Y:44 P:25 SP:FB PPU:140,173 CYC:15971
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe794, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E794  D0 0F     BNE $E7A5                       A:66 X:7A Y:44 P:27 SP:FB PPU:140,179 CYC:15973
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe796, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E796  C0 44     CPY #$44                        A:66 X:7A Y:44 P:27 SP:FB PPU:140,185 CYC:15975
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe798, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E798  D0 0B     BNE $E7A5                       A:66 X:7A Y:44 P:27 SP:FB PPU:140,191 CYC:15977
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe79a, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E79A  E0 7A     CPX #$7A                        A:66 X:7A Y:44 P:27 SP:FB PPU:140,197 CYC:15979
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe79c, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E79C  D0 07     BNE $E7A5                       A:66 X:7A Y:44 P:27 SP:FB PPU:140,203 CYC:15981
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe79e, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E79E  AD 89 04  LDA $0489 = 62                  A:66 X:7A Y:44 P:27 SP:FB PPU:140,209 CYC:15983
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe7a1, cpu.pc);
    try expectEqual(0x62, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7A1  C9 62     CMP #$62                        A:62 X:7A Y:44 P:25 SP:FB PPU:140,221 CYC:15987
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7a3, cpu.pc);
    try expectEqual(0x62, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7A3  F0 04     BEQ $E7A9                       A:62 X:7A Y:44 P:27 SP:FB PPU:140,227 CYC:15989
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7a9, cpu.pc);
    try expectEqual(0x62, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7A9  A9 FF     LDA #$FF                        A:62 X:7A Y:44 P:27 SP:FB PPU:140,236 CYC:15992
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ab, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7AB  85 49     STA $49 = 00                    A:FF X:7A Y:44 P:A5 SP:FB PPU:140,242 CYC:15994
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ad, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7AD  A0 44     LDY #$44                        A:FF X:7A Y:44 P:A5 SP:FB PPU:140,251 CYC:15997
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7af, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x7a, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7AF  A2 AA     LDX #$AA                        A:FF X:7A Y:44 P:25 SP:FB PPU:140,257 CYC:15999
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7b1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7B1  A9 55     LDA #$55                        A:FF X:AA Y:44 P:A5 SP:FB PPU:140,263 CYC:16001
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7b3, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7B3  24 01     BIT $01 = C0                    A:55 X:AA Y:44 P:25 SP:FB PPU:140,269 CYC:16003
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7b5, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7B5  18        CLC                             A:55 X:AA Y:44 P:E5 SP:FB PPU:140,278 CYC:16006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7b6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7B6  87 49    *SAX $49 = FF                    A:55 X:AA Y:44 P:E4 SP:FB PPU:140,284 CYC:16008
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7b8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7B8  EA        NOP                             A:55 X:AA Y:44 P:E4 SP:FB PPU:140,293 CYC:16011
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7b9, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7B9  EA        NOP                             A:55 X:AA Y:44 P:E4 SP:FB PPU:140,299 CYC:16013
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ba, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7BA  EA        NOP                             A:55 X:AA Y:44 P:E4 SP:FB PPU:140,305 CYC:16015
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7bb, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7BB  EA        NOP                             A:55 X:AA Y:44 P:E4 SP:FB PPU:140,311 CYC:16017
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7bc, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7BC  F0 18     BEQ $E7D6                       A:55 X:AA Y:44 P:E4 SP:FB PPU:140,317 CYC:16019
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7be, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7BE  B0 16     BCS $E7D6                       A:55 X:AA Y:44 P:E4 SP:FB PPU:140,323 CYC:16021
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7c0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7C0  50 14     BVC $E7D6                       A:55 X:AA Y:44 P:E4 SP:FB PPU:140,329 CYC:16023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7c2, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7C2  10 12     BPL $E7D6                       A:55 X:AA Y:44 P:E4 SP:FB PPU:140,335 CYC:16025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7c4, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7C4  C9 55     CMP #$55                        A:55 X:AA Y:44 P:E4 SP:FB PPU:141,  0 CYC:16027
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7c6, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7C6  D0 0E     BNE $E7D6                       A:55 X:AA Y:44 P:67 SP:FB PPU:141,  6 CYC:16029
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7c8, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7C8  C0 44     CPY #$44                        A:55 X:AA Y:44 P:67 SP:FB PPU:141, 12 CYC:16031
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ca, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7CA  D0 0A     BNE $E7D6                       A:55 X:AA Y:44 P:67 SP:FB PPU:141, 18 CYC:16033
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7cc, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7CC  E0 AA     CPX #$AA                        A:55 X:AA Y:44 P:67 SP:FB PPU:141, 24 CYC:16035
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ce, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7CE  D0 06     BNE $E7D6                       A:55 X:AA Y:44 P:67 SP:FB PPU:141, 30 CYC:16037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7d0, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7D0  A5 49     LDA $49 = 00                    A:55 X:AA Y:44 P:67 SP:FB PPU:141, 36 CYC:16039
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7d2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7D2  C9 00     CMP #$00                        A:00 X:AA Y:44 P:67 SP:FB PPU:141, 45 CYC:16042
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7d4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7D4  F0 04     BEQ $E7DA                       A:00 X:AA Y:44 P:67 SP:FB PPU:141, 51 CYC:16044
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7da, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7DA  A9 00     LDA #$00                        A:00 X:AA Y:44 P:67 SP:FB PPU:141, 60 CYC:16047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7dc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7DC  85 56     STA $56 = 00                    A:00 X:AA Y:44 P:67 SP:FB PPU:141, 66 CYC:16049
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7de, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x44, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7DE  A0 58     LDY #$58                        A:00 X:AA Y:44 P:67 SP:FB PPU:141, 75 CYC:16052
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7e0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7E0  A2 EF     LDX #$EF                        A:00 X:AA Y:58 P:65 SP:FB PPU:141, 81 CYC:16054
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7e2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7E2  A9 66     LDA #$66                        A:00 X:EF Y:58 P:E5 SP:FB PPU:141, 87 CYC:16056
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7e4, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7E4  38        SEC                             A:66 X:EF Y:58 P:65 SP:FB PPU:141, 93 CYC:16058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7e5, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7E5  B8        CLV                             A:66 X:EF Y:58 P:65 SP:FB PPU:141, 99 CYC:16060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7e6, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7E6  87 56    *SAX $56 = 00                    A:66 X:EF Y:58 P:25 SP:FB PPU:141,105 CYC:16062
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe7e8, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7E8  EA        NOP                             A:66 X:EF Y:58 P:25 SP:FB PPU:141,114 CYC:16065
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7e9, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7E9  EA        NOP                             A:66 X:EF Y:58 P:25 SP:FB PPU:141,120 CYC:16067
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ea, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7EA  EA        NOP                             A:66 X:EF Y:58 P:25 SP:FB PPU:141,126 CYC:16069
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7eb, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7EB  EA        NOP                             A:66 X:EF Y:58 P:25 SP:FB PPU:141,132 CYC:16071
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ec, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7EC  F0 18     BEQ $E806                       A:66 X:EF Y:58 P:25 SP:FB PPU:141,138 CYC:16073
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7ee, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7EE  90 16     BCC $E806                       A:66 X:EF Y:58 P:25 SP:FB PPU:141,144 CYC:16075
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7f0, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7F0  70 14     BVS $E806                       A:66 X:EF Y:58 P:25 SP:FB PPU:141,150 CYC:16077
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7f2, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7F2  30 12     BMI $E806                       A:66 X:EF Y:58 P:25 SP:FB PPU:141,156 CYC:16079
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7f4, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7F4  C9 66     CMP #$66                        A:66 X:EF Y:58 P:25 SP:FB PPU:141,162 CYC:16081
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7f6, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7F6  D0 0E     BNE $E806                       A:66 X:EF Y:58 P:27 SP:FB PPU:141,168 CYC:16083
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7f8, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7F8  C0 58     CPY #$58                        A:66 X:EF Y:58 P:27 SP:FB PPU:141,174 CYC:16085
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7fa, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7FA  D0 0A     BNE $E806                       A:66 X:EF Y:58 P:27 SP:FB PPU:141,180 CYC:16087
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7fc, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7FC  E0 EF     CPX #$EF                        A:66 X:EF Y:58 P:27 SP:FB PPU:141,186 CYC:16089
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe7fe, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E7FE  D0 06     BNE $E806                       A:66 X:EF Y:58 P:27 SP:FB PPU:141,192 CYC:16091
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe800, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E800  A5 56     LDA $56 = 66                    A:66 X:EF Y:58 P:27 SP:FB PPU:141,198 CYC:16093
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe802, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E802  C9 66     CMP #$66                        A:66 X:EF Y:58 P:25 SP:FB PPU:141,207 CYC:16096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe804, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E804  F0 04     BEQ $E80A                       A:66 X:EF Y:58 P:27 SP:FB PPU:141,213 CYC:16098
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe80a, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E80A  A9 FF     LDA #$FF                        A:66 X:EF Y:58 P:27 SP:FB PPU:141,222 CYC:16101
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe80c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E80C  8D 49 05  STA $0549 = 00                  A:FF X:EF Y:58 P:A5 SP:FB PPU:141,228 CYC:16103
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe80f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E80F  A0 E5     LDY #$E5                        A:FF X:EF Y:58 P:A5 SP:FB PPU:141,240 CYC:16107
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe811, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E811  A2 AF     LDX #$AF                        A:FF X:EF Y:E5 P:A5 SP:FB PPU:141,246 CYC:16109
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe813, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E813  A9 F5     LDA #$F5                        A:FF X:AF Y:E5 P:A5 SP:FB PPU:141,252 CYC:16111
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe815, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E815  24 01     BIT $01 = C0                    A:F5 X:AF Y:E5 P:A5 SP:FB PPU:141,258 CYC:16113
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe817, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E817  18        CLC                             A:F5 X:AF Y:E5 P:E5 SP:FB PPU:141,267 CYC:16116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe818, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E818  8F 49 05 *SAX $0549 = FF                  A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,273 CYC:16118
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe81b, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E81B  EA        NOP                             A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,285 CYC:16122
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe81c, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E81C  EA        NOP                             A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,291 CYC:16124
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe81d, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E81D  EA        NOP                             A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,297 CYC:16126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe81e, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E81E  EA        NOP                             A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,303 CYC:16128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe81f, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E81F  F0 19     BEQ $E83A                       A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,309 CYC:16130
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe821, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E821  B0 17     BCS $E83A                       A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,315 CYC:16132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe823, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E823  50 15     BVC $E83A                       A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,321 CYC:16134
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe825, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E825  10 13     BPL $E83A                       A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,327 CYC:16136
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe827, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E827  C9 F5     CMP #$F5                        A:F5 X:AF Y:E5 P:E4 SP:FB PPU:141,333 CYC:16138
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe829, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E829  D0 0F     BNE $E83A                       A:F5 X:AF Y:E5 P:67 SP:FB PPU:141,339 CYC:16140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe82b, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E82B  C0 E5     CPY #$E5                        A:F5 X:AF Y:E5 P:67 SP:FB PPU:142,  4 CYC:16142
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe82d, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E82D  D0 0B     BNE $E83A                       A:F5 X:AF Y:E5 P:67 SP:FB PPU:142, 10 CYC:16144
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe82f, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E82F  E0 AF     CPX #$AF                        A:F5 X:AF Y:E5 P:67 SP:FB PPU:142, 16 CYC:16146
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe831, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E831  D0 07     BNE $E83A                       A:F5 X:AF Y:E5 P:67 SP:FB PPU:142, 22 CYC:16148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe833, cpu.pc);
    try expectEqual(0xf5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E833  AD 49 05  LDA $0549 = A5                  A:F5 X:AF Y:E5 P:67 SP:FB PPU:142, 28 CYC:16150
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe836, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E836  C9 A5     CMP #$A5                        A:A5 X:AF Y:E5 P:E5 SP:FB PPU:142, 40 CYC:16154
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe838, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E838  F0 04     BEQ $E83E                       A:A5 X:AF Y:E5 P:67 SP:FB PPU:142, 46 CYC:16156
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe83e, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E83E  A9 00     LDA #$00                        A:A5 X:AF Y:E5 P:67 SP:FB PPU:142, 55 CYC:16159
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe840, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E840  8D 56 05  STA $0556 = 00                  A:00 X:AF Y:E5 P:67 SP:FB PPU:142, 61 CYC:16161
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe843, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E843  A0 58     LDY #$58                        A:00 X:AF Y:E5 P:67 SP:FB PPU:142, 73 CYC:16165
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe845, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaf, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E845  A2 B3     LDX #$B3                        A:00 X:AF Y:58 P:65 SP:FB PPU:142, 79 CYC:16167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe847, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E847  A9 97     LDA #$97                        A:00 X:B3 Y:58 P:E5 SP:FB PPU:142, 85 CYC:16169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe849, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E849  38        SEC                             A:97 X:B3 Y:58 P:E5 SP:FB PPU:142, 91 CYC:16171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe84a, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E84A  B8        CLV                             A:97 X:B3 Y:58 P:E5 SP:FB PPU:142, 97 CYC:16173
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe84b, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E84B  8F 56 05 *SAX $0556 = 00                  A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,103 CYC:16175
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe84e, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E84E  EA        NOP                             A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,115 CYC:16179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe84f, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E84F  EA        NOP                             A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,121 CYC:16181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe850, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E850  EA        NOP                             A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,127 CYC:16183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe851, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E851  EA        NOP                             A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,133 CYC:16185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe852, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E852  F0 19     BEQ $E86D                       A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,139 CYC:16187
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe854, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E854  90 17     BCC $E86D                       A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,145 CYC:16189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe856, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E856  70 15     BVS $E86D                       A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,151 CYC:16191
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe858, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E858  10 13     BPL $E86D                       A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,157 CYC:16193
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe85a, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E85A  C9 97     CMP #$97                        A:97 X:B3 Y:58 P:A5 SP:FB PPU:142,163 CYC:16195
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe85c, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E85C  D0 0F     BNE $E86D                       A:97 X:B3 Y:58 P:27 SP:FB PPU:142,169 CYC:16197
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe85e, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E85E  C0 58     CPY #$58                        A:97 X:B3 Y:58 P:27 SP:FB PPU:142,175 CYC:16199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe860, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E860  D0 0B     BNE $E86D                       A:97 X:B3 Y:58 P:27 SP:FB PPU:142,181 CYC:16201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe862, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E862  E0 B3     CPX #$B3                        A:97 X:B3 Y:58 P:27 SP:FB PPU:142,187 CYC:16203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe864, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E864  D0 07     BNE $E86D                       A:97 X:B3 Y:58 P:27 SP:FB PPU:142,193 CYC:16205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe866, cpu.pc);
    try expectEqual(0x97, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E866  AD 56 05  LDA $0556 = 93                  A:97 X:B3 Y:58 P:27 SP:FB PPU:142,199 CYC:16207
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe869, cpu.pc);
    try expectEqual(0x93, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E869  C9 93     CMP #$93                        A:93 X:B3 Y:58 P:A5 SP:FB PPU:142,211 CYC:16211
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe86b, cpu.pc);
    try expectEqual(0x93, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E86B  F0 04     BEQ $E871                       A:93 X:B3 Y:58 P:27 SP:FB PPU:142,217 CYC:16213
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe871, cpu.pc);
    try expectEqual(0x93, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E871  A9 FF     LDA #$FF                        A:93 X:B3 Y:58 P:27 SP:FB PPU:142,226 CYC:16216
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe873, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E873  85 49     STA $49 = 00                    A:FF X:B3 Y:58 P:A5 SP:FB PPU:142,232 CYC:16218
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe875, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0x58, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E875  A0 FF     LDY #$FF                        A:FF X:B3 Y:58 P:A5 SP:FB PPU:142,241 CYC:16221
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe877, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xb3, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E877  A2 AA     LDX #$AA                        A:FF X:B3 Y:FF P:A5 SP:FB PPU:142,247 CYC:16223
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe879, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E879  A9 55     LDA #$55                        A:FF X:AA Y:FF P:A5 SP:FB PPU:142,253 CYC:16225
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe87b, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E87B  24 01     BIT $01 = C0                    A:55 X:AA Y:FF P:25 SP:FB PPU:142,259 CYC:16227
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe87d, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E87D  18        CLC                             A:55 X:AA Y:FF P:E5 SP:FB PPU:142,268 CYC:16230
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe87e, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E87E  97 4A    *SAX $4A,Y @ 49 = FF             A:55 X:AA Y:FF P:E4 SP:FB PPU:142,274 CYC:16232
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe880, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E880  EA        NOP                             A:55 X:AA Y:FF P:E4 SP:FB PPU:142,286 CYC:16236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe881, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E881  EA        NOP                             A:55 X:AA Y:FF P:E4 SP:FB PPU:142,292 CYC:16238
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe882, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E882  EA        NOP                             A:55 X:AA Y:FF P:E4 SP:FB PPU:142,298 CYC:16240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe883, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E883  EA        NOP                             A:55 X:AA Y:FF P:E4 SP:FB PPU:142,304 CYC:16242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe884, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E884  F0 18     BEQ $E89E                       A:55 X:AA Y:FF P:E4 SP:FB PPU:142,310 CYC:16244
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe886, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E886  B0 16     BCS $E89E                       A:55 X:AA Y:FF P:E4 SP:FB PPU:142,316 CYC:16246
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe888, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E888  50 14     BVC $E89E                       A:55 X:AA Y:FF P:E4 SP:FB PPU:142,322 CYC:16248
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe88a, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E88A  10 12     BPL $E89E                       A:55 X:AA Y:FF P:E4 SP:FB PPU:142,328 CYC:16250
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe88c, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E88C  C9 55     CMP #$55                        A:55 X:AA Y:FF P:E4 SP:FB PPU:142,334 CYC:16252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe88e, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E88E  D0 0E     BNE $E89E                       A:55 X:AA Y:FF P:67 SP:FB PPU:142,340 CYC:16254
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe890, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E890  C0 FF     CPY #$FF                        A:55 X:AA Y:FF P:67 SP:FB PPU:143,  5 CYC:16256
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe892, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E892  D0 0A     BNE $E89E                       A:55 X:AA Y:FF P:67 SP:FB PPU:143, 11 CYC:16258
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe894, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E894  E0 AA     CPX #$AA                        A:55 X:AA Y:FF P:67 SP:FB PPU:143, 17 CYC:16260
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe896, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E896  D0 06     BNE $E89E                       A:55 X:AA Y:FF P:67 SP:FB PPU:143, 23 CYC:16262
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe898, cpu.pc);
    try expectEqual(0x55, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E898  A5 49     LDA $49 = 00                    A:55 X:AA Y:FF P:67 SP:FB PPU:143, 29 CYC:16264
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe89a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E89A  C9 00     CMP #$00                        A:00 X:AA Y:FF P:67 SP:FB PPU:143, 38 CYC:16267
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe89c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E89C  F0 04     BEQ $E8A2                       A:00 X:AA Y:FF P:67 SP:FB PPU:143, 44 CYC:16269
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe8a2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8A2  A9 00     LDA #$00                        A:00 X:AA Y:FF P:67 SP:FB PPU:143, 53 CYC:16272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8a4, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8A4  85 56     STA $56 = 66                    A:00 X:AA Y:FF P:67 SP:FB PPU:143, 59 CYC:16274
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe8a6, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8A6  A0 06     LDY #$06                        A:00 X:AA Y:FF P:67 SP:FB PPU:143, 68 CYC:16277
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8a8, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xaa, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8A8  A2 EF     LDX #$EF                        A:00 X:AA Y:06 P:65 SP:FB PPU:143, 74 CYC:16279
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8aa, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8AA  A9 66     LDA #$66                        A:00 X:EF Y:06 P:E5 SP:FB PPU:143, 80 CYC:16281
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ac, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8AC  38        SEC                             A:66 X:EF Y:06 P:65 SP:FB PPU:143, 86 CYC:16283
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ad, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8AD  B8        CLV                             A:66 X:EF Y:06 P:65 SP:FB PPU:143, 92 CYC:16285
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ae, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8AE  97 50    *SAX $50,Y @ 56 = 00             A:66 X:EF Y:06 P:25 SP:FB PPU:143, 98 CYC:16287
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe8b0, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8B0  EA        NOP                             A:66 X:EF Y:06 P:25 SP:FB PPU:143,110 CYC:16291
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8b1, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8B1  EA        NOP                             A:66 X:EF Y:06 P:25 SP:FB PPU:143,116 CYC:16293
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8b2, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8B2  EA        NOP                             A:66 X:EF Y:06 P:25 SP:FB PPU:143,122 CYC:16295
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8b3, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8B3  EA        NOP                             A:66 X:EF Y:06 P:25 SP:FB PPU:143,128 CYC:16297
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8b4, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8B4  F0 18     BEQ $E8CE                       A:66 X:EF Y:06 P:25 SP:FB PPU:143,134 CYC:16299
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8b6, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8B6  90 16     BCC $E8CE                       A:66 X:EF Y:06 P:25 SP:FB PPU:143,140 CYC:16301
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8b8, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8B8  70 14     BVS $E8CE                       A:66 X:EF Y:06 P:25 SP:FB PPU:143,146 CYC:16303
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ba, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8BA  30 12     BMI $E8CE                       A:66 X:EF Y:06 P:25 SP:FB PPU:143,152 CYC:16305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8bc, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8BC  C9 66     CMP #$66                        A:66 X:EF Y:06 P:25 SP:FB PPU:143,158 CYC:16307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8be, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8BE  D0 0E     BNE $E8CE                       A:66 X:EF Y:06 P:27 SP:FB PPU:143,164 CYC:16309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8c0, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8C0  C0 06     CPY #$06                        A:66 X:EF Y:06 P:27 SP:FB PPU:143,170 CYC:16311
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8c2, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8C2  D0 0A     BNE $E8CE                       A:66 X:EF Y:06 P:27 SP:FB PPU:143,176 CYC:16313
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8c4, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8C4  E0 EF     CPX #$EF                        A:66 X:EF Y:06 P:27 SP:FB PPU:143,182 CYC:16315
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8c6, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8C6  D0 06     BNE $E8CE                       A:66 X:EF Y:06 P:27 SP:FB PPU:143,188 CYC:16317
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8c8, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8C8  A5 56     LDA $56 = 66                    A:66 X:EF Y:06 P:27 SP:FB PPU:143,194 CYC:16319
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ca, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8CA  C9 66     CMP #$66                        A:66 X:EF Y:06 P:25 SP:FB PPU:143,203 CYC:16322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8cc, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8CC  F0 04     BEQ $E8D2                       A:66 X:EF Y:06 P:27 SP:FB PPU:143,209 CYC:16324
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe8d2, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8D2  60        RTS                             A:66 X:EF Y:06 P:27 SP:FB PPU:143,218 CYC:16327
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc638, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C638  20 D3 E8  JSR $E8D3                       A:66 X:EF Y:06 P:27 SP:FD PPU:143,236 CYC:16333
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8d3, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8D3  A0 90     LDY #$90                        A:66 X:EF Y:06 P:27 SP:FB PPU:143,254 CYC:16339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8d5, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8D5  20 31 F9  JSR $F931                       A:66 X:EF Y:90 P:A5 SP:FB PPU:143,260 CYC:16341
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf931, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F931  24 01     BIT $01 = C0                    A:66 X:EF Y:90 P:A5 SP:F9 PPU:143,278 CYC:16347
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf933, cpu.pc);
    try expectEqual(0x66, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F933  A9 40     LDA #$40                        A:66 X:EF Y:90 P:E5 SP:F9 PPU:143,287 CYC:16350
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf935, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F935  38        SEC                             A:40 X:EF Y:90 P:65 SP:F9 PPU:143,293 CYC:16352
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf936, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F936  60        RTS                             A:40 X:EF Y:90 P:65 SP:F9 PPU:143,299 CYC:16354
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8d8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8D8  EB 40    *SBC #$40                        A:40 X:EF Y:90 P:65 SP:FB PPU:143,317 CYC:16360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8da, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8DA  EA        NOP                             A:00 X:EF Y:90 P:27 SP:FB PPU:143,323 CYC:16362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8db, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8DB  EA        NOP                             A:00 X:EF Y:90 P:27 SP:FB PPU:143,329 CYC:16364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8dc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8DC  EA        NOP                             A:00 X:EF Y:90 P:27 SP:FB PPU:143,335 CYC:16366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8dd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8DD  EA        NOP                             A:00 X:EF Y:90 P:27 SP:FB PPU:144,  0 CYC:16368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8de, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8DE  20 37 F9  JSR $F937                       A:00 X:EF Y:90 P:27 SP:FB PPU:144,  6 CYC:16370
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf937, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F937  30 0B     BMI $F944                       A:00 X:EF Y:90 P:27 SP:F9 PPU:144, 24 CYC:16376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf939, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F939  90 09     BCC $F944                       A:00 X:EF Y:90 P:27 SP:F9 PPU:144, 30 CYC:16378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93B  D0 07     BNE $F944                       A:00 X:EF Y:90 P:27 SP:F9 PPU:144, 36 CYC:16380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93D  70 05     BVS $F944                       A:00 X:EF Y:90 P:27 SP:F9 PPU:144, 42 CYC:16382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf93f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F93F  C9 00     CMP #$00                        A:00 X:EF Y:90 P:27 SP:F9 PPU:144, 48 CYC:16384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf941, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F941  D0 01     BNE $F944                       A:00 X:EF Y:90 P:27 SP:F9 PPU:144, 54 CYC:16386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F943  60        RTS                             A:00 X:EF Y:90 P:27 SP:F9 PPU:144, 60 CYC:16388
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8e1, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x90, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8E1  C8        INY                             A:00 X:EF Y:90 P:27 SP:FB PPU:144, 78 CYC:16394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8e2, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8E2  20 47 F9  JSR $F947                       A:00 X:EF Y:91 P:A5 SP:FB PPU:144, 84 CYC:16396
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf947, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F947  B8        CLV                             A:00 X:EF Y:91 P:A5 SP:F9 PPU:144,102 CYC:16402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf948, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F948  38        SEC                             A:00 X:EF Y:91 P:A5 SP:F9 PPU:144,108 CYC:16404
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf949, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F949  A9 40     LDA #$40                        A:00 X:EF Y:91 P:A5 SP:F9 PPU:144,114 CYC:16406
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94B  60        RTS                             A:40 X:EF Y:91 P:25 SP:F9 PPU:144,120 CYC:16408
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8e5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8E5  EB 3F    *SBC #$3F                        A:40 X:EF Y:91 P:25 SP:FB PPU:144,138 CYC:16414
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8e7, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8E7  EA        NOP                             A:01 X:EF Y:91 P:25 SP:FB PPU:144,144 CYC:16416
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8e8, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8E8  EA        NOP                             A:01 X:EF Y:91 P:25 SP:FB PPU:144,150 CYC:16418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8e9, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8E9  EA        NOP                             A:01 X:EF Y:91 P:25 SP:FB PPU:144,156 CYC:16420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ea, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8EA  EA        NOP                             A:01 X:EF Y:91 P:25 SP:FB PPU:144,162 CYC:16422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8eb, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8EB  20 4C F9  JSR $F94C                       A:01 X:EF Y:91 P:25 SP:FB PPU:144,168 CYC:16424
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf94c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94C  F0 0B     BEQ $F959                       A:01 X:EF Y:91 P:25 SP:F9 PPU:144,186 CYC:16430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf94e, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F94E  30 09     BMI $F959                       A:01 X:EF Y:91 P:25 SP:F9 PPU:144,192 CYC:16432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf950, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F950  90 07     BCC $F959                       A:01 X:EF Y:91 P:25 SP:F9 PPU:144,198 CYC:16434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf952, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F952  70 05     BVS $F959                       A:01 X:EF Y:91 P:25 SP:F9 PPU:144,204 CYC:16436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf954, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F954  C9 01     CMP #$01                        A:01 X:EF Y:91 P:25 SP:F9 PPU:144,210 CYC:16438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf956, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F956  D0 01     BNE $F959                       A:01 X:EF Y:91 P:27 SP:F9 PPU:144,216 CYC:16440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf958, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F958  60        RTS                             A:01 X:EF Y:91 P:27 SP:F9 PPU:144,222 CYC:16442
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ee, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x91, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8EE  C8        INY                             A:01 X:EF Y:91 P:27 SP:FB PPU:144,240 CYC:16448
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ef, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8EF  20 5C F9  JSR $F95C                       A:01 X:EF Y:92 P:A5 SP:FB PPU:144,246 CYC:16450
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf95c, cpu.pc);
    try expectEqual(0x01, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95C  A9 40     LDA #$40                        A:01 X:EF Y:92 P:A5 SP:F9 PPU:144,264 CYC:16456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95E  38        SEC                             A:40 X:EF Y:92 P:25 SP:F9 PPU:144,270 CYC:16458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf95f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F95F  24 01     BIT $01 = C0                    A:40 X:EF Y:92 P:25 SP:F9 PPU:144,276 CYC:16460
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf961, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F961  60        RTS                             A:40 X:EF Y:92 P:E5 SP:F9 PPU:144,285 CYC:16463
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8f2, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8F2  EB 41    *SBC #$41                        A:40 X:EF Y:92 P:E5 SP:FB PPU:144,303 CYC:16469
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8f4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8F4  EA        NOP                             A:FF X:EF Y:92 P:A4 SP:FB PPU:144,309 CYC:16471
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8f5, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8F5  EA        NOP                             A:FF X:EF Y:92 P:A4 SP:FB PPU:144,315 CYC:16473
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8f6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8F6  EA        NOP                             A:FF X:EF Y:92 P:A4 SP:FB PPU:144,321 CYC:16475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8f7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8F7  EA        NOP                             A:FF X:EF Y:92 P:A4 SP:FB PPU:144,327 CYC:16477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8f8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8F8  20 62 F9  JSR $F962                       A:FF X:EF Y:92 P:A4 SP:FB PPU:144,333 CYC:16479
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf962, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F962  B0 0B     BCS $F96F                       A:FF X:EF Y:92 P:A4 SP:F9 PPU:145, 10 CYC:16485
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf964, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F964  F0 09     BEQ $F96F                       A:FF X:EF Y:92 P:A4 SP:F9 PPU:145, 16 CYC:16487
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf966, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F966  10 07     BPL $F96F                       A:FF X:EF Y:92 P:A4 SP:F9 PPU:145, 22 CYC:16489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf968, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F968  70 05     BVS $F96F                       A:FF X:EF Y:92 P:A4 SP:F9 PPU:145, 28 CYC:16491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96A  C9 FF     CMP #$FF                        A:FF X:EF Y:92 P:A4 SP:F9 PPU:145, 34 CYC:16493
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96C  D0 01     BNE $F96F                       A:FF X:EF Y:92 P:27 SP:F9 PPU:145, 40 CYC:16495
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf96e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F96E  60        RTS                             A:FF X:EF Y:92 P:27 SP:F9 PPU:145, 46 CYC:16497
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8fb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x92, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8FB  C8        INY                             A:FF X:EF Y:92 P:27 SP:FB PPU:145, 64 CYC:16503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe8fc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8FC  20 72 F9  JSR $F972                       A:FF X:EF Y:93 P:A5 SP:FB PPU:145, 70 CYC:16505
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf972, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F972  18        CLC                             A:FF X:EF Y:93 P:A5 SP:F9 PPU:145, 88 CYC:16511
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf973, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F973  A9 80     LDA #$80                        A:FF X:EF Y:93 P:A4 SP:F9 PPU:145, 94 CYC:16513
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf975, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F975  60        RTS                             A:80 X:EF Y:93 P:A4 SP:F9 PPU:145,100 CYC:16515
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe8ff, cpu.pc);
    try expectEqual(0x80, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E8FF  EB 00    *SBC #$00                        A:80 X:EF Y:93 P:A4 SP:FB PPU:145,118 CYC:16521
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe901, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E901  EA        NOP                             A:7F X:EF Y:93 P:65 SP:FB PPU:145,124 CYC:16523
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe902, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E902  EA        NOP                             A:7F X:EF Y:93 P:65 SP:FB PPU:145,130 CYC:16525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe903, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E903  EA        NOP                             A:7F X:EF Y:93 P:65 SP:FB PPU:145,136 CYC:16527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe904, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E904  EA        NOP                             A:7F X:EF Y:93 P:65 SP:FB PPU:145,142 CYC:16529
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe905, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E905  20 76 F9  JSR $F976                       A:7F X:EF Y:93 P:65 SP:FB PPU:145,148 CYC:16531
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf976, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F976  90 05     BCC $F97D                       A:7F X:EF Y:93 P:65 SP:F9 PPU:145,166 CYC:16537
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf978, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F978  C9 7F     CMP #$7F                        A:7F X:EF Y:93 P:65 SP:F9 PPU:145,172 CYC:16539
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97a, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97A  D0 01     BNE $F97D                       A:7F X:EF Y:93 P:67 SP:F9 PPU:145,178 CYC:16541
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf97c, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F97C  60        RTS                             A:7F X:EF Y:93 P:67 SP:F9 PPU:145,184 CYC:16543
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe908, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x93, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E908  C8        INY                             A:7F X:EF Y:93 P:67 SP:FB PPU:145,202 CYC:16549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe909, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E909  20 80 F9  JSR $F980                       A:7F X:EF Y:94 P:E5 SP:FB PPU:145,208 CYC:16551
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf980, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F980  38        SEC                             A:7F X:EF Y:94 P:E5 SP:F9 PPU:145,226 CYC:16557
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf981, cpu.pc);
    try expectEqual(0x7f, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F981  A9 81     LDA #$81                        A:7F X:EF Y:94 P:E5 SP:F9 PPU:145,232 CYC:16559
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf983, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F983  60        RTS                             A:81 X:EF Y:94 P:E5 SP:F9 PPU:145,238 CYC:16561
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe90c, cpu.pc);
    try expectEqual(0x81, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E90C  EB 7F    *SBC #$7F                        A:81 X:EF Y:94 P:E5 SP:FB PPU:145,256 CYC:16567
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe90e, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E90E  EA        NOP                             A:02 X:EF Y:94 P:65 SP:FB PPU:145,262 CYC:16569
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe90f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E90F  EA        NOP                             A:02 X:EF Y:94 P:65 SP:FB PPU:145,268 CYC:16571
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe910, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E910  EA        NOP                             A:02 X:EF Y:94 P:65 SP:FB PPU:145,274 CYC:16573
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe911, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E911  EA        NOP                             A:02 X:EF Y:94 P:65 SP:FB PPU:145,280 CYC:16575
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe912, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E912  20 84 F9  JSR $F984                       A:02 X:EF Y:94 P:65 SP:FB PPU:145,286 CYC:16577
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf984, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F984  50 07     BVC $F98D                       A:02 X:EF Y:94 P:65 SP:F9 PPU:145,304 CYC:16583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf986, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F986  90 05     BCC $F98D                       A:02 X:EF Y:94 P:65 SP:F9 PPU:145,310 CYC:16585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf988, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F988  C9 02     CMP #$02                        A:02 X:EF Y:94 P:65 SP:F9 PPU:145,316 CYC:16587
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98A  D0 01     BNE $F98D                       A:02 X:EF Y:94 P:67 SP:F9 PPU:145,322 CYC:16589
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf98c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F98C  60        RTS                             A:02 X:EF Y:94 P:67 SP:F9 PPU:145,328 CYC:16591
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe915, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E915  60        RTS                             A:02 X:EF Y:94 P:67 SP:FB PPU:146,  5 CYC:16597
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc63b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C63B  20 16 E9  JSR $E916                       A:02 X:EF Y:94 P:67 SP:FD PPU:146, 23 CYC:16603
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe916, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E916  A9 FF     LDA #$FF                        A:02 X:EF Y:94 P:67 SP:FB PPU:146, 41 CYC:16609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe918, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E918  85 01     STA $01 = C0                    A:FF X:EF Y:94 P:E5 SP:FB PPU:146, 47 CYC:16611
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe91a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x94, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E91A  A0 95     LDY #$95                        A:FF X:EF Y:94 P:E5 SP:FB PPU:146, 56 CYC:16614
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe91c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xef, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E91C  A2 02     LDX #$02                        A:FF X:EF Y:95 P:E5 SP:FB PPU:146, 62 CYC:16616
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe91e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E91E  A9 47     LDA #$47                        A:FF X:02 Y:95 P:65 SP:FB PPU:146, 68 CYC:16618
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe920, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E920  85 47     STA $47 = 00                    A:47 X:02 Y:95 P:65 SP:FB PPU:146, 74 CYC:16620
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe922, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E922  A9 06     LDA #$06                        A:47 X:02 Y:95 P:65 SP:FB PPU:146, 83 CYC:16623
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe924, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E924  85 48     STA $48 = 00                    A:06 X:02 Y:95 P:65 SP:FB PPU:146, 89 CYC:16625
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe926, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E926  A9 EB     LDA #$EB                        A:06 X:02 Y:95 P:65 SP:FB PPU:146, 98 CYC:16628
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe928, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E928  8D 47 06  STA $0647 = 00                  A:EB X:02 Y:95 P:E5 SP:FB PPU:146,104 CYC:16630
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe92b, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E92B  20 31 FA  JSR $FA31                       A:EB X:02 Y:95 P:E5 SP:FB PPU:146,116 CYC:16634
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa31, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA31  24 01     BIT $01 = FF                    A:EB X:02 Y:95 P:E5 SP:F9 PPU:146,134 CYC:16640
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa33, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA33  18        CLC                             A:EB X:02 Y:95 P:E5 SP:F9 PPU:146,143 CYC:16643
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA34  A9 40     LDA #$40                        A:EB X:02 Y:95 P:E4 SP:F9 PPU:146,149 CYC:16645
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa36, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA36  60        RTS                             A:40 X:02 Y:95 P:64 SP:F9 PPU:146,155 CYC:16647
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe92e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E92E  C3 45    *DCP ($45,X) @ 47 = 0647 = EB    A:40 X:02 Y:95 P:64 SP:FB PPU:146,173 CYC:16653
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xe930, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E930  EA        NOP                             A:40 X:02 Y:95 P:64 SP:FB PPU:146,197 CYC:16661
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe931, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E931  EA        NOP                             A:40 X:02 Y:95 P:64 SP:FB PPU:146,203 CYC:16663
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe932, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E932  EA        NOP                             A:40 X:02 Y:95 P:64 SP:FB PPU:146,209 CYC:16665
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe933, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E933  EA        NOP                             A:40 X:02 Y:95 P:64 SP:FB PPU:146,215 CYC:16667
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe934, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E934  20 37 FA  JSR $FA37                       A:40 X:02 Y:95 P:64 SP:FB PPU:146,221 CYC:16669
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa37, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA37  50 2C     BVC $FA65                       A:40 X:02 Y:95 P:64 SP:F9 PPU:146,239 CYC:16675
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA39  B0 2A     BCS $FA65                       A:40 X:02 Y:95 P:64 SP:F9 PPU:146,245 CYC:16677
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3B  30 28     BMI $FA65                       A:40 X:02 Y:95 P:64 SP:F9 PPU:146,251 CYC:16679
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3D  C9 40     CMP #$40                        A:40 X:02 Y:95 P:64 SP:F9 PPU:146,257 CYC:16681
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3F  D0 24     BNE $FA65                       A:40 X:02 Y:95 P:67 SP:F9 PPU:146,263 CYC:16683
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA41  60        RTS                             A:40 X:02 Y:95 P:67 SP:F9 PPU:146,269 CYC:16685
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe937, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E937  AD 47 06  LDA $0647 = EA                  A:40 X:02 Y:95 P:67 SP:FB PPU:146,287 CYC:16691
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe93a, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E93A  C9 EA     CMP #$EA                        A:EA X:02 Y:95 P:E5 SP:FB PPU:146,299 CYC:16695
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe93c, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E93C  F0 02     BEQ $E940                       A:EA X:02 Y:95 P:67 SP:FB PPU:146,305 CYC:16697
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe940, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x95, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E940  C8        INY                             A:EA X:02 Y:95 P:67 SP:FB PPU:146,314 CYC:16700
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe941, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E941  A9 00     LDA #$00                        A:EA X:02 Y:96 P:E5 SP:FB PPU:146,320 CYC:16702
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe943, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E943  8D 47 06  STA $0647 = EA                  A:00 X:02 Y:96 P:67 SP:FB PPU:146,326 CYC:16704
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe946, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E946  20 42 FA  JSR $FA42                       A:00 X:02 Y:96 P:67 SP:FB PPU:146,338 CYC:16708
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA42  B8        CLV                             A:00 X:02 Y:96 P:67 SP:F9 PPU:147, 15 CYC:16714
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA43  38        SEC                             A:00 X:02 Y:96 P:27 SP:F9 PPU:147, 21 CYC:16716
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA44  A9 FF     LDA #$FF                        A:00 X:02 Y:96 P:27 SP:F9 PPU:147, 27 CYC:16718
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA46  60        RTS                             A:FF X:02 Y:96 P:A5 SP:F9 PPU:147, 33 CYC:16720
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe949, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E949  C3 45    *DCP ($45,X) @ 47 = 0647 = 00    A:FF X:02 Y:96 P:A5 SP:FB PPU:147, 51 CYC:16726
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xe94b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E94B  EA        NOP                             A:FF X:02 Y:96 P:27 SP:FB PPU:147, 75 CYC:16734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe94c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E94C  EA        NOP                             A:FF X:02 Y:96 P:27 SP:FB PPU:147, 81 CYC:16736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe94d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E94D  EA        NOP                             A:FF X:02 Y:96 P:27 SP:FB PPU:147, 87 CYC:16738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe94e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E94E  EA        NOP                             A:FF X:02 Y:96 P:27 SP:FB PPU:147, 93 CYC:16740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe94f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E94F  20 47 FA  JSR $FA47                       A:FF X:02 Y:96 P:27 SP:FB PPU:147, 99 CYC:16742
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA47  70 1C     BVS $FA65                       A:FF X:02 Y:96 P:27 SP:F9 PPU:147,117 CYC:16748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA49  D0 1A     BNE $FA65                       A:FF X:02 Y:96 P:27 SP:F9 PPU:147,123 CYC:16750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4B  30 18     BMI $FA65                       A:FF X:02 Y:96 P:27 SP:F9 PPU:147,129 CYC:16752
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4D  90 16     BCC $FA65                       A:FF X:02 Y:96 P:27 SP:F9 PPU:147,135 CYC:16754
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4F  C9 FF     CMP #$FF                        A:FF X:02 Y:96 P:27 SP:F9 PPU:147,141 CYC:16756
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA51  D0 12     BNE $FA65                       A:FF X:02 Y:96 P:27 SP:F9 PPU:147,147 CYC:16758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA53  60        RTS                             A:FF X:02 Y:96 P:27 SP:F9 PPU:147,153 CYC:16760
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe952, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E952  AD 47 06  LDA $0647 = FF                  A:FF X:02 Y:96 P:27 SP:FB PPU:147,171 CYC:16766
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe955, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E955  C9 FF     CMP #$FF                        A:FF X:02 Y:96 P:A5 SP:FB PPU:147,183 CYC:16770
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe957, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E957  F0 02     BEQ $E95B                       A:FF X:02 Y:96 P:27 SP:FB PPU:147,189 CYC:16772
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe95b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x96, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E95B  C8        INY                             A:FF X:02 Y:96 P:27 SP:FB PPU:147,198 CYC:16775
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe95c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E95C  A9 37     LDA #$37                        A:FF X:02 Y:97 P:A5 SP:FB PPU:147,204 CYC:16777
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe95e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E95E  8D 47 06  STA $0647 = FF                  A:37 X:02 Y:97 P:25 SP:FB PPU:147,210 CYC:16779
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe961, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E961  20 54 FA  JSR $FA54                       A:37 X:02 Y:97 P:25 SP:FB PPU:147,222 CYC:16783
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa54, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA54  24 01     BIT $01 = FF                    A:37 X:02 Y:97 P:25 SP:F9 PPU:147,240 CYC:16789
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa56, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA56  A9 F0     LDA #$F0                        A:37 X:02 Y:97 P:E5 SP:F9 PPU:147,249 CYC:16792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa58, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA58  60        RTS                             A:F0 X:02 Y:97 P:E5 SP:F9 PPU:147,255 CYC:16794
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe964, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E964  C3 45    *DCP ($45,X) @ 47 = 0647 = 37    A:F0 X:02 Y:97 P:E5 SP:FB PPU:147,273 CYC:16800
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xe966, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E966  EA        NOP                             A:F0 X:02 Y:97 P:E5 SP:FB PPU:147,297 CYC:16808
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe967, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E967  EA        NOP                             A:F0 X:02 Y:97 P:E5 SP:FB PPU:147,303 CYC:16810
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe968, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E968  EA        NOP                             A:F0 X:02 Y:97 P:E5 SP:FB PPU:147,309 CYC:16812
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe969, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E969  EA        NOP                             A:F0 X:02 Y:97 P:E5 SP:FB PPU:147,315 CYC:16814
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe96a, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E96A  20 59 FA  JSR $FA59                       A:F0 X:02 Y:97 P:E5 SP:FB PPU:147,321 CYC:16816
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa59, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA59  50 0A     BVC $FA65                       A:F0 X:02 Y:97 P:E5 SP:F9 PPU:147,339 CYC:16822
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5B  F0 08     BEQ $FA65                       A:F0 X:02 Y:97 P:E5 SP:F9 PPU:148,  4 CYC:16824
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5D  10 06     BPL $FA65                       A:F0 X:02 Y:97 P:E5 SP:F9 PPU:148, 10 CYC:16826
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5F  90 04     BCC $FA65                       A:F0 X:02 Y:97 P:E5 SP:F9 PPU:148, 16 CYC:16828
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa61, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA61  C9 F0     CMP #$F0                        A:F0 X:02 Y:97 P:E5 SP:F9 PPU:148, 22 CYC:16830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa63, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA63  F0 02     BEQ $FA67                       A:F0 X:02 Y:97 P:67 SP:F9 PPU:148, 28 CYC:16832
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA67  60        RTS                             A:F0 X:02 Y:97 P:67 SP:F9 PPU:148, 37 CYC:16835
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe96d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E96D  AD 47 06  LDA $0647 = 36                  A:F0 X:02 Y:97 P:67 SP:FB PPU:148, 55 CYC:16841
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe970, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E970  C9 36     CMP #$36                        A:36 X:02 Y:97 P:65 SP:FB PPU:148, 67 CYC:16845
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe972, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E972  F0 02     BEQ $E976                       A:36 X:02 Y:97 P:67 SP:FB PPU:148, 73 CYC:16847
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe976, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x97, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E976  C8        INY                             A:36 X:02 Y:97 P:67 SP:FB PPU:148, 82 CYC:16850
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe977, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E977  A9 EB     LDA #$EB                        A:36 X:02 Y:98 P:E5 SP:FB PPU:148, 88 CYC:16852
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe979, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E979  85 47     STA $47 = 47                    A:EB X:02 Y:98 P:E5 SP:FB PPU:148, 94 CYC:16854
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe97b, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E97B  20 31 FA  JSR $FA31                       A:EB X:02 Y:98 P:E5 SP:FB PPU:148,103 CYC:16857
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa31, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA31  24 01     BIT $01 = FF                    A:EB X:02 Y:98 P:E5 SP:F9 PPU:148,121 CYC:16863
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa33, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA33  18        CLC                             A:EB X:02 Y:98 P:E5 SP:F9 PPU:148,130 CYC:16866
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA34  A9 40     LDA #$40                        A:EB X:02 Y:98 P:E4 SP:F9 PPU:148,136 CYC:16868
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa36, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA36  60        RTS                             A:40 X:02 Y:98 P:64 SP:F9 PPU:148,142 CYC:16870
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe97e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E97E  C7 47    *DCP $47 = EB                    A:40 X:02 Y:98 P:64 SP:FB PPU:148,160 CYC:16876
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe980, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E980  EA        NOP                             A:40 X:02 Y:98 P:64 SP:FB PPU:148,175 CYC:16881
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe981, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E981  EA        NOP                             A:40 X:02 Y:98 P:64 SP:FB PPU:148,181 CYC:16883
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe982, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E982  EA        NOP                             A:40 X:02 Y:98 P:64 SP:FB PPU:148,187 CYC:16885
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe983, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E983  EA        NOP                             A:40 X:02 Y:98 P:64 SP:FB PPU:148,193 CYC:16887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe984, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E984  20 37 FA  JSR $FA37                       A:40 X:02 Y:98 P:64 SP:FB PPU:148,199 CYC:16889
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa37, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA37  50 2C     BVC $FA65                       A:40 X:02 Y:98 P:64 SP:F9 PPU:148,217 CYC:16895
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA39  B0 2A     BCS $FA65                       A:40 X:02 Y:98 P:64 SP:F9 PPU:148,223 CYC:16897
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3B  30 28     BMI $FA65                       A:40 X:02 Y:98 P:64 SP:F9 PPU:148,229 CYC:16899
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3D  C9 40     CMP #$40                        A:40 X:02 Y:98 P:64 SP:F9 PPU:148,235 CYC:16901
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3F  D0 24     BNE $FA65                       A:40 X:02 Y:98 P:67 SP:F9 PPU:148,241 CYC:16903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA41  60        RTS                             A:40 X:02 Y:98 P:67 SP:F9 PPU:148,247 CYC:16905
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe987, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E987  A5 47     LDA $47 = EA                    A:40 X:02 Y:98 P:67 SP:FB PPU:148,265 CYC:16911
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe989, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E989  C9 EA     CMP #$EA                        A:EA X:02 Y:98 P:E5 SP:FB PPU:148,274 CYC:16914
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe98b, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E98B  F0 02     BEQ $E98F                       A:EA X:02 Y:98 P:67 SP:FB PPU:148,280 CYC:16916
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe98f, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x98, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E98F  C8        INY                             A:EA X:02 Y:98 P:67 SP:FB PPU:148,289 CYC:16919
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe990, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E990  A9 00     LDA #$00                        A:EA X:02 Y:99 P:E5 SP:FB PPU:148,295 CYC:16921
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe992, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E992  85 47     STA $47 = EA                    A:00 X:02 Y:99 P:67 SP:FB PPU:148,301 CYC:16923
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe994, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E994  20 42 FA  JSR $FA42                       A:00 X:02 Y:99 P:67 SP:FB PPU:148,310 CYC:16926
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA42  B8        CLV                             A:00 X:02 Y:99 P:67 SP:F9 PPU:148,328 CYC:16932
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA43  38        SEC                             A:00 X:02 Y:99 P:27 SP:F9 PPU:148,334 CYC:16934
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA44  A9 FF     LDA #$FF                        A:00 X:02 Y:99 P:27 SP:F9 PPU:148,340 CYC:16936
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA46  60        RTS                             A:FF X:02 Y:99 P:A5 SP:F9 PPU:149,  5 CYC:16938
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe997, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E997  C7 47    *DCP $47 = 00                    A:FF X:02 Y:99 P:A5 SP:FB PPU:149, 23 CYC:16944
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe999, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E999  EA        NOP                             A:FF X:02 Y:99 P:27 SP:FB PPU:149, 38 CYC:16949
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe99a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E99A  EA        NOP                             A:FF X:02 Y:99 P:27 SP:FB PPU:149, 44 CYC:16951
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe99b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E99B  EA        NOP                             A:FF X:02 Y:99 P:27 SP:FB PPU:149, 50 CYC:16953
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe99c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E99C  EA        NOP                             A:FF X:02 Y:99 P:27 SP:FB PPU:149, 56 CYC:16955
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe99d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E99D  20 47 FA  JSR $FA47                       A:FF X:02 Y:99 P:27 SP:FB PPU:149, 62 CYC:16957
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA47  70 1C     BVS $FA65                       A:FF X:02 Y:99 P:27 SP:F9 PPU:149, 80 CYC:16963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA49  D0 1A     BNE $FA65                       A:FF X:02 Y:99 P:27 SP:F9 PPU:149, 86 CYC:16965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4B  30 18     BMI $FA65                       A:FF X:02 Y:99 P:27 SP:F9 PPU:149, 92 CYC:16967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4D  90 16     BCC $FA65                       A:FF X:02 Y:99 P:27 SP:F9 PPU:149, 98 CYC:16969
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4F  C9 FF     CMP #$FF                        A:FF X:02 Y:99 P:27 SP:F9 PPU:149,104 CYC:16971
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA51  D0 12     BNE $FA65                       A:FF X:02 Y:99 P:27 SP:F9 PPU:149,110 CYC:16973
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA53  60        RTS                             A:FF X:02 Y:99 P:27 SP:F9 PPU:149,116 CYC:16975
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9a0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9A0  A5 47     LDA $47 = FF                    A:FF X:02 Y:99 P:27 SP:FB PPU:149,134 CYC:16981
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe9a2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9A2  C9 FF     CMP #$FF                        A:FF X:02 Y:99 P:A5 SP:FB PPU:149,143 CYC:16984
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9a4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9A4  F0 02     BEQ $E9A8                       A:FF X:02 Y:99 P:27 SP:FB PPU:149,149 CYC:16986
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe9a8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x99, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9A8  C8        INY                             A:FF X:02 Y:99 P:27 SP:FB PPU:149,158 CYC:16989
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9a9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9A9  A9 37     LDA #$37                        A:FF X:02 Y:9A P:A5 SP:FB PPU:149,164 CYC:16991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ab, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9AB  85 47     STA $47 = FF                    A:37 X:02 Y:9A P:25 SP:FB PPU:149,170 CYC:16993
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ad, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9AD  20 54 FA  JSR $FA54                       A:37 X:02 Y:9A P:25 SP:FB PPU:149,179 CYC:16996
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa54, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA54  24 01     BIT $01 = FF                    A:37 X:02 Y:9A P:25 SP:F9 PPU:149,197 CYC:17002
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa56, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA56  A9 F0     LDA #$F0                        A:37 X:02 Y:9A P:E5 SP:F9 PPU:149,206 CYC:17005
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa58, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA58  60        RTS                             A:F0 X:02 Y:9A P:E5 SP:F9 PPU:149,212 CYC:17007
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9b0, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9B0  C7 47    *DCP $47 = 37                    A:F0 X:02 Y:9A P:E5 SP:FB PPU:149,230 CYC:17013
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xe9b2, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9B2  EA        NOP                             A:F0 X:02 Y:9A P:E5 SP:FB PPU:149,245 CYC:17018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9b3, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9B3  EA        NOP                             A:F0 X:02 Y:9A P:E5 SP:FB PPU:149,251 CYC:17020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9b4, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9B4  EA        NOP                             A:F0 X:02 Y:9A P:E5 SP:FB PPU:149,257 CYC:17022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9b5, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9B5  EA        NOP                             A:F0 X:02 Y:9A P:E5 SP:FB PPU:149,263 CYC:17024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9b6, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9B6  20 59 FA  JSR $FA59                       A:F0 X:02 Y:9A P:E5 SP:FB PPU:149,269 CYC:17026
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa59, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA59  50 0A     BVC $FA65                       A:F0 X:02 Y:9A P:E5 SP:F9 PPU:149,287 CYC:17032
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5B  F0 08     BEQ $FA65                       A:F0 X:02 Y:9A P:E5 SP:F9 PPU:149,293 CYC:17034
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5D  10 06     BPL $FA65                       A:F0 X:02 Y:9A P:E5 SP:F9 PPU:149,299 CYC:17036
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5F  90 04     BCC $FA65                       A:F0 X:02 Y:9A P:E5 SP:F9 PPU:149,305 CYC:17038
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa61, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA61  C9 F0     CMP #$F0                        A:F0 X:02 Y:9A P:E5 SP:F9 PPU:149,311 CYC:17040
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa63, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA63  F0 02     BEQ $FA67                       A:F0 X:02 Y:9A P:67 SP:F9 PPU:149,317 CYC:17042
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA67  60        RTS                             A:F0 X:02 Y:9A P:67 SP:F9 PPU:149,326 CYC:17045
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9b9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9B9  A5 47     LDA $47 = 36                    A:F0 X:02 Y:9A P:67 SP:FB PPU:150,  3 CYC:17051
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe9bb, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9BB  C9 36     CMP #$36                        A:36 X:02 Y:9A P:65 SP:FB PPU:150, 12 CYC:17054
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9bd, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9BD  F0 02     BEQ $E9C1                       A:36 X:02 Y:9A P:67 SP:FB PPU:150, 18 CYC:17056
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe9c1, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9a, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9C1  C8        INY                             A:36 X:02 Y:9A P:67 SP:FB PPU:150, 27 CYC:17059
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9c2, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9C2  A9 EB     LDA #$EB                        A:36 X:02 Y:9B P:E5 SP:FB PPU:150, 33 CYC:17061
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9c4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9C4  8D 47 06  STA $0647 = 36                  A:EB X:02 Y:9B P:E5 SP:FB PPU:150, 39 CYC:17063
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe9c7, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9C7  20 31 FA  JSR $FA31                       A:EB X:02 Y:9B P:E5 SP:FB PPU:150, 51 CYC:17067
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa31, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA31  24 01     BIT $01 = FF                    A:EB X:02 Y:9B P:E5 SP:F9 PPU:150, 69 CYC:17073
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa33, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA33  18        CLC                             A:EB X:02 Y:9B P:E5 SP:F9 PPU:150, 78 CYC:17076
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA34  A9 40     LDA #$40                        A:EB X:02 Y:9B P:E4 SP:F9 PPU:150, 84 CYC:17078
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa36, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA36  60        RTS                             A:40 X:02 Y:9B P:64 SP:F9 PPU:150, 90 CYC:17080
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ca, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9CA  CF 47 06 *DCP $0647 = EB                  A:40 X:02 Y:9B P:64 SP:FB PPU:150,108 CYC:17086
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9cd, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9CD  EA        NOP                             A:40 X:02 Y:9B P:64 SP:FB PPU:150,126 CYC:17092
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ce, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9CE  EA        NOP                             A:40 X:02 Y:9B P:64 SP:FB PPU:150,132 CYC:17094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9cf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9CF  EA        NOP                             A:40 X:02 Y:9B P:64 SP:FB PPU:150,138 CYC:17096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9d0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9D0  EA        NOP                             A:40 X:02 Y:9B P:64 SP:FB PPU:150,144 CYC:17098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9d1, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9D1  20 37 FA  JSR $FA37                       A:40 X:02 Y:9B P:64 SP:FB PPU:150,150 CYC:17100
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa37, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA37  50 2C     BVC $FA65                       A:40 X:02 Y:9B P:64 SP:F9 PPU:150,168 CYC:17106
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA39  B0 2A     BCS $FA65                       A:40 X:02 Y:9B P:64 SP:F9 PPU:150,174 CYC:17108
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3B  30 28     BMI $FA65                       A:40 X:02 Y:9B P:64 SP:F9 PPU:150,180 CYC:17110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3D  C9 40     CMP #$40                        A:40 X:02 Y:9B P:64 SP:F9 PPU:150,186 CYC:17112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3F  D0 24     BNE $FA65                       A:40 X:02 Y:9B P:67 SP:F9 PPU:150,192 CYC:17114
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA41  60        RTS                             A:40 X:02 Y:9B P:67 SP:F9 PPU:150,198 CYC:17116
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9d4, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9D4  AD 47 06  LDA $0647 = EA                  A:40 X:02 Y:9B P:67 SP:FB PPU:150,216 CYC:17122
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe9d7, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9D7  C9 EA     CMP #$EA                        A:EA X:02 Y:9B P:E5 SP:FB PPU:150,228 CYC:17126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9d9, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9D9  F0 02     BEQ $E9DD                       A:EA X:02 Y:9B P:67 SP:FB PPU:150,234 CYC:17128
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe9dd, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9b, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9DD  C8        INY                             A:EA X:02 Y:9B P:67 SP:FB PPU:150,243 CYC:17131
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9de, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9DE  A9 00     LDA #$00                        A:EA X:02 Y:9C P:E5 SP:FB PPU:150,249 CYC:17133
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9e0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9E0  8D 47 06  STA $0647 = EA                  A:00 X:02 Y:9C P:67 SP:FB PPU:150,255 CYC:17135
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe9e3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9E3  20 42 FA  JSR $FA42                       A:00 X:02 Y:9C P:67 SP:FB PPU:150,267 CYC:17139
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA42  B8        CLV                             A:00 X:02 Y:9C P:67 SP:F9 PPU:150,285 CYC:17145
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA43  38        SEC                             A:00 X:02 Y:9C P:27 SP:F9 PPU:150,291 CYC:17147
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA44  A9 FF     LDA #$FF                        A:00 X:02 Y:9C P:27 SP:F9 PPU:150,297 CYC:17149
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA46  60        RTS                             A:FF X:02 Y:9C P:A5 SP:F9 PPU:150,303 CYC:17151
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9e6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9E6  CF 47 06 *DCP $0647 = 00                  A:FF X:02 Y:9C P:A5 SP:FB PPU:150,321 CYC:17157
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9e9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9E9  EA        NOP                             A:FF X:02 Y:9C P:27 SP:FB PPU:150,339 CYC:17163
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ea, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9EA  EA        NOP                             A:FF X:02 Y:9C P:27 SP:FB PPU:151,  4 CYC:17165
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9eb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9EB  EA        NOP                             A:FF X:02 Y:9C P:27 SP:FB PPU:151, 10 CYC:17167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ec, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9EC  EA        NOP                             A:FF X:02 Y:9C P:27 SP:FB PPU:151, 16 CYC:17169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ed, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9ED  20 47 FA  JSR $FA47                       A:FF X:02 Y:9C P:27 SP:FB PPU:151, 22 CYC:17171
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA47  70 1C     BVS $FA65                       A:FF X:02 Y:9C P:27 SP:F9 PPU:151, 40 CYC:17177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA49  D0 1A     BNE $FA65                       A:FF X:02 Y:9C P:27 SP:F9 PPU:151, 46 CYC:17179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4B  30 18     BMI $FA65                       A:FF X:02 Y:9C P:27 SP:F9 PPU:151, 52 CYC:17181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4D  90 16     BCC $FA65                       A:FF X:02 Y:9C P:27 SP:F9 PPU:151, 58 CYC:17183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4F  C9 FF     CMP #$FF                        A:FF X:02 Y:9C P:27 SP:F9 PPU:151, 64 CYC:17185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA51  D0 12     BNE $FA65                       A:FF X:02 Y:9C P:27 SP:F9 PPU:151, 70 CYC:17187
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA53  60        RTS                             A:FF X:02 Y:9C P:27 SP:F9 PPU:151, 76 CYC:17189
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xe9f0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9F0  AD 47 06  LDA $0647 = FF                  A:FF X:02 Y:9C P:27 SP:FB PPU:151, 94 CYC:17195
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe9f3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9F3  C9 FF     CMP #$FF                        A:FF X:02 Y:9C P:A5 SP:FB PPU:151,106 CYC:17199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9f5, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9F5  F0 02     BEQ $E9F9                       A:FF X:02 Y:9C P:27 SP:FB PPU:151,112 CYC:17201
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xe9f9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9F9  C8        INY                             A:FF X:02 Y:9C P:27 SP:FB PPU:151,121 CYC:17204
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9fa, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9FA  A9 37     LDA #$37                        A:FF X:02 Y:9D P:A5 SP:FB PPU:151,127 CYC:17206
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xe9fc, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9FC  8D 47 06  STA $0647 = FF                  A:37 X:02 Y:9D P:25 SP:FB PPU:151,133 CYC:17208
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xe9ff, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // E9FF  20 54 FA  JSR $FA54                       A:37 X:02 Y:9D P:25 SP:FB PPU:151,145 CYC:17212
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa54, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA54  24 01     BIT $01 = FF                    A:37 X:02 Y:9D P:25 SP:F9 PPU:151,163 CYC:17218
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa56, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA56  A9 F0     LDA #$F0                        A:37 X:02 Y:9D P:E5 SP:F9 PPU:151,172 CYC:17221
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa58, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA58  60        RTS                             A:F0 X:02 Y:9D P:E5 SP:F9 PPU:151,178 CYC:17223
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea02, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA02  CF 47 06 *DCP $0647 = 37                  A:F0 X:02 Y:9D P:E5 SP:FB PPU:151,196 CYC:17229
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea05, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA05  EA        NOP                             A:F0 X:02 Y:9D P:E5 SP:FB PPU:151,214 CYC:17235
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea06, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA06  EA        NOP                             A:F0 X:02 Y:9D P:E5 SP:FB PPU:151,220 CYC:17237
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea07, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA07  EA        NOP                             A:F0 X:02 Y:9D P:E5 SP:FB PPU:151,226 CYC:17239
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea08, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA08  EA        NOP                             A:F0 X:02 Y:9D P:E5 SP:FB PPU:151,232 CYC:17241
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea09, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA09  20 59 FA  JSR $FA59                       A:F0 X:02 Y:9D P:E5 SP:FB PPU:151,238 CYC:17243
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa59, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA59  50 0A     BVC $FA65                       A:F0 X:02 Y:9D P:E5 SP:F9 PPU:151,256 CYC:17249
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5B  F0 08     BEQ $FA65                       A:F0 X:02 Y:9D P:E5 SP:F9 PPU:151,262 CYC:17251
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5D  10 06     BPL $FA65                       A:F0 X:02 Y:9D P:E5 SP:F9 PPU:151,268 CYC:17253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5F  90 04     BCC $FA65                       A:F0 X:02 Y:9D P:E5 SP:F9 PPU:151,274 CYC:17255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa61, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA61  C9 F0     CMP #$F0                        A:F0 X:02 Y:9D P:E5 SP:F9 PPU:151,280 CYC:17257
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa63, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA63  F0 02     BEQ $FA67                       A:F0 X:02 Y:9D P:67 SP:F9 PPU:151,286 CYC:17259
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA67  60        RTS                             A:F0 X:02 Y:9D P:67 SP:F9 PPU:151,295 CYC:17262
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea0c, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA0C  AD 47 06  LDA $0647 = 36                  A:F0 X:02 Y:9D P:67 SP:FB PPU:151,313 CYC:17268
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea0f, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA0F  C9 36     CMP #$36                        A:36 X:02 Y:9D P:65 SP:FB PPU:151,325 CYC:17272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea11, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA11  F0 02     BEQ $EA15                       A:36 X:02 Y:9D P:67 SP:FB PPU:151,331 CYC:17274
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea15, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA15  A9 EB     LDA #$EB                        A:36 X:02 Y:9D P:67 SP:FB PPU:151,340 CYC:17277
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea17, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA17  8D 47 06  STA $0647 = 36                  A:EB X:02 Y:9D P:E5 SP:FB PPU:152,  5 CYC:17279
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea1a, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA1A  A9 48     LDA #$48                        A:EB X:02 Y:9D P:E5 SP:FB PPU:152, 17 CYC:17283
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea1c, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA1C  85 45     STA $45 = 32                    A:48 X:02 Y:9D P:65 SP:FB PPU:152, 23 CYC:17285
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea1e, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA1E  A9 05     LDA #$05                        A:48 X:02 Y:9D P:65 SP:FB PPU:152, 32 CYC:17288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea20, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA20  85 46     STA $46 = 04                    A:05 X:02 Y:9D P:65 SP:FB PPU:152, 38 CYC:17290
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea22, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9d, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA22  A0 FF     LDY #$FF                        A:05 X:02 Y:9D P:65 SP:FB PPU:152, 47 CYC:17293
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea24, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA24  20 31 FA  JSR $FA31                       A:05 X:02 Y:FF P:E5 SP:FB PPU:152, 53 CYC:17295
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa31, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA31  24 01     BIT $01 = FF                    A:05 X:02 Y:FF P:E5 SP:F9 PPU:152, 71 CYC:17301
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa33, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA33  18        CLC                             A:05 X:02 Y:FF P:E5 SP:F9 PPU:152, 80 CYC:17304
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa34, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA34  A9 40     LDA #$40                        A:05 X:02 Y:FF P:E4 SP:F9 PPU:152, 86 CYC:17306
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa36, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA36  60        RTS                             A:40 X:02 Y:FF P:64 SP:F9 PPU:152, 92 CYC:17308
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea27, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA27  D3 45    *DCP ($45),Y = 0548 @ 0647 = EB  A:40 X:02 Y:FF P:64 SP:FB PPU:152,110 CYC:17314
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xea29, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA29  EA        NOP                             A:40 X:02 Y:FF P:64 SP:FB PPU:152,134 CYC:17322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea2a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA2A  EA        NOP                             A:40 X:02 Y:FF P:64 SP:FB PPU:152,140 CYC:17324
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea2b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA2B  08        PHP                             A:40 X:02 Y:FF P:64 SP:FB PPU:152,146 CYC:17326
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea2c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EA2C  48        PHA                             A:40 X:02 Y:FF P:64 SP:FA PPU:152,155 CYC:17329
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea2d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EA2D  A0 9E     LDY #$9E                        A:40 X:02 Y:FF P:64 SP:F9 PPU:152,164 CYC:17332
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea2f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EA2F  68        PLA                             A:40 X:02 Y:9E P:E4 SP:F9 PPU:152,170 CYC:17334
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea30, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EA30  28        PLP                             A:40 X:02 Y:9E P:64 SP:FA PPU:152,182 CYC:17338
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea31, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA31  20 37 FA  JSR $FA37                       A:40 X:02 Y:9E P:64 SP:FB PPU:152,194 CYC:17342
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa37, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA37  50 2C     BVC $FA65                       A:40 X:02 Y:9E P:64 SP:F9 PPU:152,212 CYC:17348
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA39  B0 2A     BCS $FA65                       A:40 X:02 Y:9E P:64 SP:F9 PPU:152,218 CYC:17350
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3B  30 28     BMI $FA65                       A:40 X:02 Y:9E P:64 SP:F9 PPU:152,224 CYC:17352
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3D  C9 40     CMP #$40                        A:40 X:02 Y:9E P:64 SP:F9 PPU:152,230 CYC:17354
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3F  D0 24     BNE $FA65                       A:40 X:02 Y:9E P:67 SP:F9 PPU:152,236 CYC:17356
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA41  60        RTS                             A:40 X:02 Y:9E P:67 SP:F9 PPU:152,242 CYC:17358
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea34, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA34  AD 47 06  LDA $0647 = EA                  A:40 X:02 Y:9E P:67 SP:FB PPU:152,260 CYC:17364
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea37, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA37  C9 EA     CMP #$EA                        A:EA X:02 Y:9E P:E5 SP:FB PPU:152,272 CYC:17368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea39, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA39  F0 02     BEQ $EA3D                       A:EA X:02 Y:9E P:67 SP:FB PPU:152,278 CYC:17370
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea3d, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9e, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA3D  A0 FF     LDY #$FF                        A:EA X:02 Y:9E P:67 SP:FB PPU:152,287 CYC:17373
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea3f, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA3F  A9 00     LDA #$00                        A:EA X:02 Y:FF P:E5 SP:FB PPU:152,293 CYC:17375
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea41, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA41  8D 47 06  STA $0647 = EA                  A:00 X:02 Y:FF P:67 SP:FB PPU:152,299 CYC:17377
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA44  20 42 FA  JSR $FA42                       A:00 X:02 Y:FF P:67 SP:FB PPU:152,311 CYC:17381
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA42  B8        CLV                             A:00 X:02 Y:FF P:67 SP:F9 PPU:152,329 CYC:17387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA43  38        SEC                             A:00 X:02 Y:FF P:27 SP:F9 PPU:152,335 CYC:17389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA44  A9 FF     LDA #$FF                        A:00 X:02 Y:FF P:27 SP:F9 PPU:153,  0 CYC:17391
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA46  60        RTS                             A:FF X:02 Y:FF P:A5 SP:F9 PPU:153,  6 CYC:17393
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA47  D3 45    *DCP ($45),Y = 0548 @ 0647 = 00  A:FF X:02 Y:FF P:A5 SP:FB PPU:153, 24 CYC:17399
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xea49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA49  EA        NOP                             A:FF X:02 Y:FF P:27 SP:FB PPU:153, 48 CYC:17407
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea4a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA4A  EA        NOP                             A:FF X:02 Y:FF P:27 SP:FB PPU:153, 54 CYC:17409
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA4B  08        PHP                             A:FF X:02 Y:FF P:27 SP:FB PPU:153, 60 CYC:17411
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea4c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EA4C  48        PHA                             A:FF X:02 Y:FF P:27 SP:FA PPU:153, 69 CYC:17414
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EA4D  A0 9F     LDY #$9F                        A:FF X:02 Y:FF P:27 SP:F9 PPU:153, 78 CYC:17417
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EA4F  68        PLA                             A:FF X:02 Y:9F P:A5 SP:F9 PPU:153, 84 CYC:17419
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea50, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EA50  28        PLP                             A:FF X:02 Y:9F P:A5 SP:FA PPU:153, 96 CYC:17423
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA51  20 47 FA  JSR $FA47                       A:FF X:02 Y:9F P:27 SP:FB PPU:153,108 CYC:17427
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA47  70 1C     BVS $FA65                       A:FF X:02 Y:9F P:27 SP:F9 PPU:153,126 CYC:17433
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA49  D0 1A     BNE $FA65                       A:FF X:02 Y:9F P:27 SP:F9 PPU:153,132 CYC:17435
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4B  30 18     BMI $FA65                       A:FF X:02 Y:9F P:27 SP:F9 PPU:153,138 CYC:17437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4D  90 16     BCC $FA65                       A:FF X:02 Y:9F P:27 SP:F9 PPU:153,144 CYC:17439
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4F  C9 FF     CMP #$FF                        A:FF X:02 Y:9F P:27 SP:F9 PPU:153,150 CYC:17441
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA51  D0 12     BNE $FA65                       A:FF X:02 Y:9F P:27 SP:F9 PPU:153,156 CYC:17443
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA53  60        RTS                             A:FF X:02 Y:9F P:27 SP:F9 PPU:153,162 CYC:17445
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea54, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA54  AD 47 06  LDA $0647 = FF                  A:FF X:02 Y:9F P:27 SP:FB PPU:153,180 CYC:17451
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea57, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA57  C9 FF     CMP #$FF                        A:FF X:02 Y:9F P:A5 SP:FB PPU:153,192 CYC:17455
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea59, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA59  F0 02     BEQ $EA5D                       A:FF X:02 Y:9F P:27 SP:FB PPU:153,198 CYC:17457
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea5d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x9f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA5D  A0 FF     LDY #$FF                        A:FF X:02 Y:9F P:27 SP:FB PPU:153,207 CYC:17460
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea5f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA5F  A9 37     LDA #$37                        A:FF X:02 Y:FF P:A5 SP:FB PPU:153,213 CYC:17462
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea61, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA61  8D 47 06  STA $0647 = FF                  A:37 X:02 Y:FF P:25 SP:FB PPU:153,219 CYC:17464
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea64, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA64  20 54 FA  JSR $FA54                       A:37 X:02 Y:FF P:25 SP:FB PPU:153,231 CYC:17468
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa54, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA54  24 01     BIT $01 = FF                    A:37 X:02 Y:FF P:25 SP:F9 PPU:153,249 CYC:17474
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa56, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA56  A9 F0     LDA #$F0                        A:37 X:02 Y:FF P:E5 SP:F9 PPU:153,258 CYC:17477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa58, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA58  60        RTS                             A:F0 X:02 Y:FF P:E5 SP:F9 PPU:153,264 CYC:17479
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA67  D3 45    *DCP ($45),Y = 0548 @ 0647 = 37  A:F0 X:02 Y:FF P:E5 SP:FB PPU:153,282 CYC:17485
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xea69, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA69  EA        NOP                             A:F0 X:02 Y:FF P:E5 SP:FB PPU:153,306 CYC:17493
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea6a, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA6A  EA        NOP                             A:F0 X:02 Y:FF P:E5 SP:FB PPU:153,312 CYC:17495
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea6b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA6B  08        PHP                             A:F0 X:02 Y:FF P:E5 SP:FB PPU:153,318 CYC:17497
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea6c, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EA6C  48        PHA                             A:F0 X:02 Y:FF P:E5 SP:FA PPU:153,327 CYC:17500
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea6d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EA6D  A0 A0     LDY #$A0                        A:F0 X:02 Y:FF P:E5 SP:F9 PPU:153,336 CYC:17503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea6f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EA6F  68        PLA                             A:F0 X:02 Y:A0 P:E5 SP:F9 PPU:154,  1 CYC:17505
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea70, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EA70  28        PLP                             A:F0 X:02 Y:A0 P:E5 SP:FA PPU:154, 13 CYC:17509
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea71, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA71  20 59 FA  JSR $FA59                       A:F0 X:02 Y:A0 P:E5 SP:FB PPU:154, 25 CYC:17513
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa59, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA59  50 0A     BVC $FA65                       A:F0 X:02 Y:A0 P:E5 SP:F9 PPU:154, 43 CYC:17519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5B  F0 08     BEQ $FA65                       A:F0 X:02 Y:A0 P:E5 SP:F9 PPU:154, 49 CYC:17521
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5D  10 06     BPL $FA65                       A:F0 X:02 Y:A0 P:E5 SP:F9 PPU:154, 55 CYC:17523
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5F  90 04     BCC $FA65                       A:F0 X:02 Y:A0 P:E5 SP:F9 PPU:154, 61 CYC:17525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa61, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA61  C9 F0     CMP #$F0                        A:F0 X:02 Y:A0 P:E5 SP:F9 PPU:154, 67 CYC:17527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa63, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA63  F0 02     BEQ $FA67                       A:F0 X:02 Y:A0 P:67 SP:F9 PPU:154, 73 CYC:17529
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA67  60        RTS                             A:F0 X:02 Y:A0 P:67 SP:F9 PPU:154, 82 CYC:17532
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea74, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA74  AD 47 06  LDA $0647 = 36                  A:F0 X:02 Y:A0 P:67 SP:FB PPU:154,100 CYC:17538
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xea77, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA77  C9 36     CMP #$36                        A:36 X:02 Y:A0 P:65 SP:FB PPU:154,112 CYC:17542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea79, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA79  F0 02     BEQ $EA7D                       A:36 X:02 Y:A0 P:67 SP:FB PPU:154,118 CYC:17544
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea7d, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA7D  A0 A1     LDY #$A1                        A:36 X:02 Y:A0 P:67 SP:FB PPU:154,127 CYC:17547
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea7f, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA7F  A2 FF     LDX #$FF                        A:36 X:02 Y:A1 P:E5 SP:FB PPU:154,133 CYC:17549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea81, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA81  A9 EB     LDA #$EB                        A:36 X:FF Y:A1 P:E5 SP:FB PPU:154,139 CYC:17551
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea83, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA83  85 47     STA $47 = 36                    A:EB X:FF Y:A1 P:E5 SP:FB PPU:154,145 CYC:17553
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea85, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA85  20 31 FA  JSR $FA31                       A:EB X:FF Y:A1 P:E5 SP:FB PPU:154,154 CYC:17556
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa31, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA31  24 01     BIT $01 = FF                    A:EB X:FF Y:A1 P:E5 SP:F9 PPU:154,172 CYC:17562
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa33, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA33  18        CLC                             A:EB X:FF Y:A1 P:E5 SP:F9 PPU:154,181 CYC:17565
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA34  A9 40     LDA #$40                        A:EB X:FF Y:A1 P:E4 SP:F9 PPU:154,187 CYC:17567
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa36, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA36  60        RTS                             A:40 X:FF Y:A1 P:64 SP:F9 PPU:154,193 CYC:17569
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea88, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA88  D7 48    *DCP $48,X @ 47 = EB             A:40 X:FF Y:A1 P:64 SP:FB PPU:154,211 CYC:17575
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea8a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA8A  EA        NOP                             A:40 X:FF Y:A1 P:64 SP:FB PPU:154,229 CYC:17581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea8b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA8B  EA        NOP                             A:40 X:FF Y:A1 P:64 SP:FB PPU:154,235 CYC:17583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea8c, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA8C  EA        NOP                             A:40 X:FF Y:A1 P:64 SP:FB PPU:154,241 CYC:17585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea8d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA8D  EA        NOP                             A:40 X:FF Y:A1 P:64 SP:FB PPU:154,247 CYC:17587
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea8e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA8E  20 37 FA  JSR $FA37                       A:40 X:FF Y:A1 P:64 SP:FB PPU:154,253 CYC:17589
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa37, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA37  50 2C     BVC $FA65                       A:40 X:FF Y:A1 P:64 SP:F9 PPU:154,271 CYC:17595
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA39  B0 2A     BCS $FA65                       A:40 X:FF Y:A1 P:64 SP:F9 PPU:154,277 CYC:17597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3B  30 28     BMI $FA65                       A:40 X:FF Y:A1 P:64 SP:F9 PPU:154,283 CYC:17599
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3D  C9 40     CMP #$40                        A:40 X:FF Y:A1 P:64 SP:F9 PPU:154,289 CYC:17601
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3F  D0 24     BNE $FA65                       A:40 X:FF Y:A1 P:67 SP:F9 PPU:154,295 CYC:17603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA41  60        RTS                             A:40 X:FF Y:A1 P:67 SP:F9 PPU:154,301 CYC:17605
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xea91, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA91  A5 47     LDA $47 = EA                    A:40 X:FF Y:A1 P:67 SP:FB PPU:154,319 CYC:17611
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea93, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA93  C9 EA     CMP #$EA                        A:EA X:FF Y:A1 P:E5 SP:FB PPU:154,328 CYC:17614
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea95, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA95  F0 02     BEQ $EA99                       A:EA X:FF Y:A1 P:67 SP:FB PPU:154,334 CYC:17616
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea99, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA99  C8        INY                             A:EA X:FF Y:A1 P:67 SP:FB PPU:155,  2 CYC:17619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea9a, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA9A  A9 00     LDA #$00                        A:EA X:FF Y:A2 P:E5 SP:FB PPU:155,  8 CYC:17621
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xea9c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA9C  85 47     STA $47 = EA                    A:00 X:FF Y:A2 P:67 SP:FB PPU:155, 14 CYC:17623
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xea9e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EA9E  20 42 FA  JSR $FA42                       A:00 X:FF Y:A2 P:67 SP:FB PPU:155, 23 CYC:17626
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA42  B8        CLV                             A:00 X:FF Y:A2 P:67 SP:F9 PPU:155, 41 CYC:17632
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA43  38        SEC                             A:00 X:FF Y:A2 P:27 SP:F9 PPU:155, 47 CYC:17634
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA44  A9 FF     LDA #$FF                        A:00 X:FF Y:A2 P:27 SP:F9 PPU:155, 53 CYC:17636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA46  60        RTS                             A:FF X:FF Y:A2 P:A5 SP:F9 PPU:155, 59 CYC:17638
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeaa1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAA1  D7 48    *DCP $48,X @ 47 = 00             A:FF X:FF Y:A2 P:A5 SP:FB PPU:155, 77 CYC:17644
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeaa3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAA3  EA        NOP                             A:FF X:FF Y:A2 P:27 SP:FB PPU:155, 95 CYC:17650
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaa4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAA4  EA        NOP                             A:FF X:FF Y:A2 P:27 SP:FB PPU:155,101 CYC:17652
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaa5, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAA5  EA        NOP                             A:FF X:FF Y:A2 P:27 SP:FB PPU:155,107 CYC:17654
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaa6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAA6  EA        NOP                             A:FF X:FF Y:A2 P:27 SP:FB PPU:155,113 CYC:17656
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaa7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAA7  20 47 FA  JSR $FA47                       A:FF X:FF Y:A2 P:27 SP:FB PPU:155,119 CYC:17658
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA47  70 1C     BVS $FA65                       A:FF X:FF Y:A2 P:27 SP:F9 PPU:155,137 CYC:17664
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA49  D0 1A     BNE $FA65                       A:FF X:FF Y:A2 P:27 SP:F9 PPU:155,143 CYC:17666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4B  30 18     BMI $FA65                       A:FF X:FF Y:A2 P:27 SP:F9 PPU:155,149 CYC:17668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4D  90 16     BCC $FA65                       A:FF X:FF Y:A2 P:27 SP:F9 PPU:155,155 CYC:17670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4F  C9 FF     CMP #$FF                        A:FF X:FF Y:A2 P:27 SP:F9 PPU:155,161 CYC:17672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA51  D0 12     BNE $FA65                       A:FF X:FF Y:A2 P:27 SP:F9 PPU:155,167 CYC:17674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA53  60        RTS                             A:FF X:FF Y:A2 P:27 SP:F9 PPU:155,173 CYC:17676
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeaaa, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAAA  A5 47     LDA $47 = FF                    A:FF X:FF Y:A2 P:27 SP:FB PPU:155,191 CYC:17682
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeaac, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAAC  C9 FF     CMP #$FF                        A:FF X:FF Y:A2 P:A5 SP:FB PPU:155,200 CYC:17685
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaae, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAAE  F0 02     BEQ $EAB2                       A:FF X:FF Y:A2 P:27 SP:FB PPU:155,206 CYC:17687
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeab2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAB2  C8        INY                             A:FF X:FF Y:A2 P:27 SP:FB PPU:155,215 CYC:17690
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeab3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAB3  A9 37     LDA #$37                        A:FF X:FF Y:A3 P:A5 SP:FB PPU:155,221 CYC:17692
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeab5, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAB5  85 47     STA $47 = FF                    A:37 X:FF Y:A3 P:25 SP:FB PPU:155,227 CYC:17694
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeab7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAB7  20 54 FA  JSR $FA54                       A:37 X:FF Y:A3 P:25 SP:FB PPU:155,236 CYC:17697
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa54, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA54  24 01     BIT $01 = FF                    A:37 X:FF Y:A3 P:25 SP:F9 PPU:155,254 CYC:17703
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa56, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA56  A9 F0     LDA #$F0                        A:37 X:FF Y:A3 P:E5 SP:F9 PPU:155,263 CYC:17706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa58, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA58  60        RTS                             A:F0 X:FF Y:A3 P:E5 SP:F9 PPU:155,269 CYC:17708
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeaba, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EABA  D7 48    *DCP $48,X @ 47 = 37             A:F0 X:FF Y:A3 P:E5 SP:FB PPU:155,287 CYC:17714
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeabc, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EABC  EA        NOP                             A:F0 X:FF Y:A3 P:E5 SP:FB PPU:155,305 CYC:17720
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeabd, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EABD  EA        NOP                             A:F0 X:FF Y:A3 P:E5 SP:FB PPU:155,311 CYC:17722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeabe, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EABE  EA        NOP                             A:F0 X:FF Y:A3 P:E5 SP:FB PPU:155,317 CYC:17724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeabf, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EABF  EA        NOP                             A:F0 X:FF Y:A3 P:E5 SP:FB PPU:155,323 CYC:17726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeac0, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAC0  20 59 FA  JSR $FA59                       A:F0 X:FF Y:A3 P:E5 SP:FB PPU:155,329 CYC:17728
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa59, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA59  50 0A     BVC $FA65                       A:F0 X:FF Y:A3 P:E5 SP:F9 PPU:156,  6 CYC:17734
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5B  F0 08     BEQ $FA65                       A:F0 X:FF Y:A3 P:E5 SP:F9 PPU:156, 12 CYC:17736
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5D  10 06     BPL $FA65                       A:F0 X:FF Y:A3 P:E5 SP:F9 PPU:156, 18 CYC:17738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5F  90 04     BCC $FA65                       A:F0 X:FF Y:A3 P:E5 SP:F9 PPU:156, 24 CYC:17740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa61, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA61  C9 F0     CMP #$F0                        A:F0 X:FF Y:A3 P:E5 SP:F9 PPU:156, 30 CYC:17742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa63, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA63  F0 02     BEQ $FA67                       A:F0 X:FF Y:A3 P:67 SP:F9 PPU:156, 36 CYC:17744
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA67  60        RTS                             A:F0 X:FF Y:A3 P:67 SP:F9 PPU:156, 45 CYC:17747
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeac3, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAC3  A5 47     LDA $47 = 36                    A:F0 X:FF Y:A3 P:67 SP:FB PPU:156, 63 CYC:17753
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeac5, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAC5  C9 36     CMP #$36                        A:36 X:FF Y:A3 P:65 SP:FB PPU:156, 72 CYC:17756
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeac7, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAC7  F0 02     BEQ $EACB                       A:36 X:FF Y:A3 P:67 SP:FB PPU:156, 78 CYC:17758
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeacb, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EACB  A9 EB     LDA #$EB                        A:36 X:FF Y:A3 P:67 SP:FB PPU:156, 87 CYC:17761
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeacd, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EACD  8D 47 06  STA $0647 = 36                  A:EB X:FF Y:A3 P:E5 SP:FB PPU:156, 93 CYC:17763
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xead0, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAD0  A0 FF     LDY #$FF                        A:EB X:FF Y:A3 P:E5 SP:FB PPU:156,105 CYC:17767
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xead2, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAD2  20 31 FA  JSR $FA31                       A:EB X:FF Y:FF P:E5 SP:FB PPU:156,111 CYC:17769
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa31, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA31  24 01     BIT $01 = FF                    A:EB X:FF Y:FF P:E5 SP:F9 PPU:156,129 CYC:17775
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa33, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA33  18        CLC                             A:EB X:FF Y:FF P:E5 SP:F9 PPU:156,138 CYC:17778
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA34  A9 40     LDA #$40                        A:EB X:FF Y:FF P:E4 SP:F9 PPU:156,144 CYC:17780
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa36, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA36  60        RTS                             A:40 X:FF Y:FF P:64 SP:F9 PPU:156,150 CYC:17782
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xead5, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAD5  DB 48 05 *DCP $0548,Y @ 0647 = EB         A:40 X:FF Y:FF P:64 SP:FB PPU:156,168 CYC:17788
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xead8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAD8  EA        NOP                             A:40 X:FF Y:FF P:64 SP:FB PPU:156,189 CYC:17795
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xead9, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAD9  EA        NOP                             A:40 X:FF Y:FF P:64 SP:FB PPU:156,195 CYC:17797
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeada, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EADA  08        PHP                             A:40 X:FF Y:FF P:64 SP:FB PPU:156,201 CYC:17799
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeadb, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EADB  48        PHA                             A:40 X:FF Y:FF P:64 SP:FA PPU:156,210 CYC:17802
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeadc, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EADC  A0 A4     LDY #$A4                        A:40 X:FF Y:FF P:64 SP:F9 PPU:156,219 CYC:17805
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeade, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EADE  68        PLA                             A:40 X:FF Y:A4 P:E4 SP:F9 PPU:156,225 CYC:17807
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeadf, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EADF  28        PLP                             A:40 X:FF Y:A4 P:64 SP:FA PPU:156,237 CYC:17811
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeae0, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAE0  20 37 FA  JSR $FA37                       A:40 X:FF Y:A4 P:64 SP:FB PPU:156,249 CYC:17815
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa37, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA37  50 2C     BVC $FA65                       A:40 X:FF Y:A4 P:64 SP:F9 PPU:156,267 CYC:17821
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA39  B0 2A     BCS $FA65                       A:40 X:FF Y:A4 P:64 SP:F9 PPU:156,273 CYC:17823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3B  30 28     BMI $FA65                       A:40 X:FF Y:A4 P:64 SP:F9 PPU:156,279 CYC:17825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3D  C9 40     CMP #$40                        A:40 X:FF Y:A4 P:64 SP:F9 PPU:156,285 CYC:17827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3F  D0 24     BNE $FA65                       A:40 X:FF Y:A4 P:67 SP:F9 PPU:156,291 CYC:17829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA41  60        RTS                             A:40 X:FF Y:A4 P:67 SP:F9 PPU:156,297 CYC:17831
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeae3, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAE3  AD 47 06  LDA $0647 = EA                  A:40 X:FF Y:A4 P:67 SP:FB PPU:156,315 CYC:17837
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeae6, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAE6  C9 EA     CMP #$EA                        A:EA X:FF Y:A4 P:E5 SP:FB PPU:156,327 CYC:17841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeae8, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAE8  F0 02     BEQ $EAEC                       A:EA X:FF Y:A4 P:67 SP:FB PPU:156,333 CYC:17843
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeaec, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAEC  A0 FF     LDY #$FF                        A:EA X:FF Y:A4 P:67 SP:FB PPU:157,  1 CYC:17846
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaee, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAEE  A9 00     LDA #$00                        A:EA X:FF Y:FF P:E5 SP:FB PPU:157,  7 CYC:17848
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaf0, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAF0  8D 47 06  STA $0647 = EA                  A:00 X:FF Y:FF P:67 SP:FB PPU:157, 13 CYC:17850
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeaf3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAF3  20 42 FA  JSR $FA42                       A:00 X:FF Y:FF P:67 SP:FB PPU:157, 25 CYC:17854
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA42  B8        CLV                             A:00 X:FF Y:FF P:67 SP:F9 PPU:157, 43 CYC:17860
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA43  38        SEC                             A:00 X:FF Y:FF P:27 SP:F9 PPU:157, 49 CYC:17862
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA44  A9 FF     LDA #$FF                        A:00 X:FF Y:FF P:27 SP:F9 PPU:157, 55 CYC:17864
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA46  60        RTS                             A:FF X:FF Y:FF P:A5 SP:F9 PPU:157, 61 CYC:17866
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeaf6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAF6  DB 48 05 *DCP $0548,Y @ 0647 = 00         A:FF X:FF Y:FF P:A5 SP:FB PPU:157, 79 CYC:17872
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xeaf9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAF9  EA        NOP                             A:FF X:FF Y:FF P:27 SP:FB PPU:157,100 CYC:17879
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeafa, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAFA  EA        NOP                             A:FF X:FF Y:FF P:27 SP:FB PPU:157,106 CYC:17881
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeafb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EAFB  08        PHP                             A:FF X:FF Y:FF P:27 SP:FB PPU:157,112 CYC:17883
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeafc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EAFC  48        PHA                             A:FF X:FF Y:FF P:27 SP:FA PPU:157,121 CYC:17886
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeafd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EAFD  A0 A5     LDY #$A5                        A:FF X:FF Y:FF P:27 SP:F9 PPU:157,130 CYC:17889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeaff, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EAFF  68        PLA                             A:FF X:FF Y:A5 P:A5 SP:F9 PPU:157,136 CYC:17891
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb00, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EB00  28        PLP                             A:FF X:FF Y:A5 P:A5 SP:FA PPU:157,148 CYC:17895
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb01, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB01  20 47 FA  JSR $FA47                       A:FF X:FF Y:A5 P:27 SP:FB PPU:157,160 CYC:17899
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA47  70 1C     BVS $FA65                       A:FF X:FF Y:A5 P:27 SP:F9 PPU:157,178 CYC:17905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA49  D0 1A     BNE $FA65                       A:FF X:FF Y:A5 P:27 SP:F9 PPU:157,184 CYC:17907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4B  30 18     BMI $FA65                       A:FF X:FF Y:A5 P:27 SP:F9 PPU:157,190 CYC:17909
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4D  90 16     BCC $FA65                       A:FF X:FF Y:A5 P:27 SP:F9 PPU:157,196 CYC:17911
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4F  C9 FF     CMP #$FF                        A:FF X:FF Y:A5 P:27 SP:F9 PPU:157,202 CYC:17913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA51  D0 12     BNE $FA65                       A:FF X:FF Y:A5 P:27 SP:F9 PPU:157,208 CYC:17915
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA53  60        RTS                             A:FF X:FF Y:A5 P:27 SP:F9 PPU:157,214 CYC:17917
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb04, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB04  AD 47 06  LDA $0647 = FF                  A:FF X:FF Y:A5 P:27 SP:FB PPU:157,232 CYC:17923
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb07, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB07  C9 FF     CMP #$FF                        A:FF X:FF Y:A5 P:A5 SP:FB PPU:157,244 CYC:17927
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb09, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB09  F0 02     BEQ $EB0D                       A:FF X:FF Y:A5 P:27 SP:FB PPU:157,250 CYC:17929
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb0d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB0D  A0 FF     LDY #$FF                        A:FF X:FF Y:A5 P:27 SP:FB PPU:157,259 CYC:17932
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb0f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB0F  A9 37     LDA #$37                        A:FF X:FF Y:FF P:A5 SP:FB PPU:157,265 CYC:17934
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb11, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB11  8D 47 06  STA $0647 = FF                  A:37 X:FF Y:FF P:25 SP:FB PPU:157,271 CYC:17936
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb14, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB14  20 54 FA  JSR $FA54                       A:37 X:FF Y:FF P:25 SP:FB PPU:157,283 CYC:17940
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa54, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA54  24 01     BIT $01 = FF                    A:37 X:FF Y:FF P:25 SP:F9 PPU:157,301 CYC:17946
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa56, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA56  A9 F0     LDA #$F0                        A:37 X:FF Y:FF P:E5 SP:F9 PPU:157,310 CYC:17949
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa58, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA58  60        RTS                             A:F0 X:FF Y:FF P:E5 SP:F9 PPU:157,316 CYC:17951
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb17, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB17  DB 48 05 *DCP $0548,Y @ 0647 = 37         A:F0 X:FF Y:FF P:E5 SP:FB PPU:157,334 CYC:17957
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xeb1a, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB1A  EA        NOP                             A:F0 X:FF Y:FF P:E5 SP:FB PPU:158, 14 CYC:17964
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb1b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB1B  EA        NOP                             A:F0 X:FF Y:FF P:E5 SP:FB PPU:158, 20 CYC:17966
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb1c, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB1C  08        PHP                             A:F0 X:FF Y:FF P:E5 SP:FB PPU:158, 26 CYC:17968
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb1d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EB1D  48        PHA                             A:F0 X:FF Y:FF P:E5 SP:FA PPU:158, 35 CYC:17971
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb1e, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EB1E  A0 A6     LDY #$A6                        A:F0 X:FF Y:FF P:E5 SP:F9 PPU:158, 44 CYC:17974
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb20, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EB20  68        PLA                             A:F0 X:FF Y:A6 P:E5 SP:F9 PPU:158, 50 CYC:17976
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb21, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EB21  28        PLP                             A:F0 X:FF Y:A6 P:E5 SP:FA PPU:158, 62 CYC:17980
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb22, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB22  20 59 FA  JSR $FA59                       A:F0 X:FF Y:A6 P:E5 SP:FB PPU:158, 74 CYC:17984
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa59, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA59  50 0A     BVC $FA65                       A:F0 X:FF Y:A6 P:E5 SP:F9 PPU:158, 92 CYC:17990
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5B  F0 08     BEQ $FA65                       A:F0 X:FF Y:A6 P:E5 SP:F9 PPU:158, 98 CYC:17992
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5D  10 06     BPL $FA65                       A:F0 X:FF Y:A6 P:E5 SP:F9 PPU:158,104 CYC:17994
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5F  90 04     BCC $FA65                       A:F0 X:FF Y:A6 P:E5 SP:F9 PPU:158,110 CYC:17996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa61, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA61  C9 F0     CMP #$F0                        A:F0 X:FF Y:A6 P:E5 SP:F9 PPU:158,116 CYC:17998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa63, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA63  F0 02     BEQ $FA67                       A:F0 X:FF Y:A6 P:67 SP:F9 PPU:158,122 CYC:18000
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA67  60        RTS                             A:F0 X:FF Y:A6 P:67 SP:F9 PPU:158,131 CYC:18003
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb25, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB25  AD 47 06  LDA $0647 = 36                  A:F0 X:FF Y:A6 P:67 SP:FB PPU:158,149 CYC:18009
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb28, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB28  C9 36     CMP #$36                        A:36 X:FF Y:A6 P:65 SP:FB PPU:158,161 CYC:18013
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb2a, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB2A  F0 02     BEQ $EB2E                       A:36 X:FF Y:A6 P:67 SP:FB PPU:158,167 CYC:18015
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb2e, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB2E  A0 A7     LDY #$A7                        A:36 X:FF Y:A6 P:67 SP:FB PPU:158,176 CYC:18018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb30, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB30  A2 FF     LDX #$FF                        A:36 X:FF Y:A7 P:E5 SP:FB PPU:158,182 CYC:18020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb32, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB32  A9 EB     LDA #$EB                        A:36 X:FF Y:A7 P:E5 SP:FB PPU:158,188 CYC:18022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB34  8D 47 06  STA $0647 = 36                  A:EB X:FF Y:A7 P:E5 SP:FB PPU:158,194 CYC:18024
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb37, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB37  20 31 FA  JSR $FA31                       A:EB X:FF Y:A7 P:E5 SP:FB PPU:158,206 CYC:18028
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa31, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA31  24 01     BIT $01 = FF                    A:EB X:FF Y:A7 P:E5 SP:F9 PPU:158,224 CYC:18034
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa33, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA33  18        CLC                             A:EB X:FF Y:A7 P:E5 SP:F9 PPU:158,233 CYC:18037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA34  A9 40     LDA #$40                        A:EB X:FF Y:A7 P:E4 SP:F9 PPU:158,239 CYC:18039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa36, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA36  60        RTS                             A:40 X:FF Y:A7 P:64 SP:F9 PPU:158,245 CYC:18041
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb3a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB3A  DF 48 05 *DCP $0548,X @ 0647 = EB         A:40 X:FF Y:A7 P:64 SP:FB PPU:158,263 CYC:18047
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xeb3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB3D  EA        NOP                             A:40 X:FF Y:A7 P:64 SP:FB PPU:158,284 CYC:18054
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb3e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB3E  EA        NOP                             A:40 X:FF Y:A7 P:64 SP:FB PPU:158,290 CYC:18056
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB3F  EA        NOP                             A:40 X:FF Y:A7 P:64 SP:FB PPU:158,296 CYC:18058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb40, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB40  EA        NOP                             A:40 X:FF Y:A7 P:64 SP:FB PPU:158,302 CYC:18060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB41  20 37 FA  JSR $FA37                       A:40 X:FF Y:A7 P:64 SP:FB PPU:158,308 CYC:18062
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa37, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA37  50 2C     BVC $FA65                       A:40 X:FF Y:A7 P:64 SP:F9 PPU:158,326 CYC:18068
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa39, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA39  B0 2A     BCS $FA65                       A:40 X:FF Y:A7 P:64 SP:F9 PPU:158,332 CYC:18070
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3b, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3B  30 28     BMI $FA65                       A:40 X:FF Y:A7 P:64 SP:F9 PPU:158,338 CYC:18072
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3d, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3D  C9 40     CMP #$40                        A:40 X:FF Y:A7 P:64 SP:F9 PPU:159,  3 CYC:18074
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa3f, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA3F  D0 24     BNE $FA65                       A:40 X:FF Y:A7 P:67 SP:F9 PPU:159,  9 CYC:18076
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa41, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA41  60        RTS                             A:40 X:FF Y:A7 P:67 SP:F9 PPU:159, 15 CYC:18078
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb44, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB44  AD 47 06  LDA $0647 = EA                  A:40 X:FF Y:A7 P:67 SP:FB PPU:159, 33 CYC:18084
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb47, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB47  C9 EA     CMP #$EA                        A:EA X:FF Y:A7 P:E5 SP:FB PPU:159, 45 CYC:18088
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb49, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB49  F0 02     BEQ $EB4D                       A:EA X:FF Y:A7 P:67 SP:FB PPU:159, 51 CYC:18090
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb4d, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB4D  C8        INY                             A:EA X:FF Y:A7 P:67 SP:FB PPU:159, 60 CYC:18093
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb4e, cpu.pc);
    try expectEqual(0xea, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB4E  A9 00     LDA #$00                        A:EA X:FF Y:A8 P:E5 SP:FB PPU:159, 66 CYC:18095
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb50, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB50  8D 47 06  STA $0647 = EA                  A:00 X:FF Y:A8 P:67 SP:FB PPU:159, 72 CYC:18097
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb53, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB53  20 42 FA  JSR $FA42                       A:00 X:FF Y:A8 P:67 SP:FB PPU:159, 84 CYC:18101
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa42, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA42  B8        CLV                             A:00 X:FF Y:A8 P:67 SP:F9 PPU:159,102 CYC:18107
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa43, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA43  38        SEC                             A:00 X:FF Y:A8 P:27 SP:F9 PPU:159,108 CYC:18109
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa44, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA44  A9 FF     LDA #$FF                        A:00 X:FF Y:A8 P:27 SP:F9 PPU:159,114 CYC:18111
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa46, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA46  60        RTS                             A:FF X:FF Y:A8 P:A5 SP:F9 PPU:159,120 CYC:18113
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb56, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB56  DF 48 05 *DCP $0548,X @ 0647 = 00         A:FF X:FF Y:A8 P:A5 SP:FB PPU:159,138 CYC:18119
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xeb59, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB59  EA        NOP                             A:FF X:FF Y:A8 P:27 SP:FB PPU:159,159 CYC:18126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb5a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB5A  EA        NOP                             A:FF X:FF Y:A8 P:27 SP:FB PPU:159,165 CYC:18128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb5b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB5B  EA        NOP                             A:FF X:FF Y:A8 P:27 SP:FB PPU:159,171 CYC:18130
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb5c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB5C  EA        NOP                             A:FF X:FF Y:A8 P:27 SP:FB PPU:159,177 CYC:18132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb5d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB5D  20 47 FA  JSR $FA47                       A:FF X:FF Y:A8 P:27 SP:FB PPU:159,183 CYC:18134
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa47, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA47  70 1C     BVS $FA65                       A:FF X:FF Y:A8 P:27 SP:F9 PPU:159,201 CYC:18140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa49, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA49  D0 1A     BNE $FA65                       A:FF X:FF Y:A8 P:27 SP:F9 PPU:159,207 CYC:18142
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4B  30 18     BMI $FA65                       A:FF X:FF Y:A8 P:27 SP:F9 PPU:159,213 CYC:18144
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4D  90 16     BCC $FA65                       A:FF X:FF Y:A8 P:27 SP:F9 PPU:159,219 CYC:18146
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa4f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA4F  C9 FF     CMP #$FF                        A:FF X:FF Y:A8 P:27 SP:F9 PPU:159,225 CYC:18148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa51, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA51  D0 12     BNE $FA65                       A:FF X:FF Y:A8 P:27 SP:F9 PPU:159,231 CYC:18150
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA53  60        RTS                             A:FF X:FF Y:A8 P:27 SP:F9 PPU:159,237 CYC:18152
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb60, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB60  AD 47 06  LDA $0647 = FF                  A:FF X:FF Y:A8 P:27 SP:FB PPU:159,255 CYC:18158
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb63, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB63  C9 FF     CMP #$FF                        A:FF X:FF Y:A8 P:A5 SP:FB PPU:159,267 CYC:18162
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb65, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB65  F0 02     BEQ $EB69                       A:FF X:FF Y:A8 P:27 SP:FB PPU:159,273 CYC:18164
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb69, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB69  C8        INY                             A:FF X:FF Y:A8 P:27 SP:FB PPU:159,282 CYC:18167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb6a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB6A  A9 37     LDA #$37                        A:FF X:FF Y:A9 P:A5 SP:FB PPU:159,288 CYC:18169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb6c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB6C  8D 47 06  STA $0647 = FF                  A:37 X:FF Y:A9 P:25 SP:FB PPU:159,294 CYC:18171
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb6f, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB6F  20 54 FA  JSR $FA54                       A:37 X:FF Y:A9 P:25 SP:FB PPU:159,306 CYC:18175
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa54, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA54  24 01     BIT $01 = FF                    A:37 X:FF Y:A9 P:25 SP:F9 PPU:159,324 CYC:18181
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa56, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA56  A9 F0     LDA #$F0                        A:37 X:FF Y:A9 P:E5 SP:F9 PPU:159,333 CYC:18184
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa58, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA58  60        RTS                             A:F0 X:FF Y:A9 P:E5 SP:F9 PPU:159,339 CYC:18186
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb72, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB72  DF 48 05 *DCP $0548,X @ 0647 = 37         A:F0 X:FF Y:A9 P:E5 SP:FB PPU:160, 16 CYC:18192
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xeb75, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB75  EA        NOP                             A:F0 X:FF Y:A9 P:E5 SP:FB PPU:160, 37 CYC:18199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb76, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB76  EA        NOP                             A:F0 X:FF Y:A9 P:E5 SP:FB PPU:160, 43 CYC:18201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb77, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB77  EA        NOP                             A:F0 X:FF Y:A9 P:E5 SP:FB PPU:160, 49 CYC:18203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb78, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB78  EA        NOP                             A:F0 X:FF Y:A9 P:E5 SP:FB PPU:160, 55 CYC:18205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb79, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB79  20 59 FA  JSR $FA59                       A:F0 X:FF Y:A9 P:E5 SP:FB PPU:160, 61 CYC:18207
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa59, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA59  50 0A     BVC $FA65                       A:F0 X:FF Y:A9 P:E5 SP:F9 PPU:160, 79 CYC:18213
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5b, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5B  F0 08     BEQ $FA65                       A:F0 X:FF Y:A9 P:E5 SP:F9 PPU:160, 85 CYC:18215
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5d, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5D  10 06     BPL $FA65                       A:F0 X:FF Y:A9 P:E5 SP:F9 PPU:160, 91 CYC:18217
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa5f, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA5F  90 04     BCC $FA65                       A:F0 X:FF Y:A9 P:E5 SP:F9 PPU:160, 97 CYC:18219
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa61, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA61  C9 F0     CMP #$F0                        A:F0 X:FF Y:A9 P:E5 SP:F9 PPU:160,103 CYC:18221
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa63, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA63  F0 02     BEQ $FA67                       A:F0 X:FF Y:A9 P:67 SP:F9 PPU:160,109 CYC:18223
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa67, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA67  60        RTS                             A:F0 X:FF Y:A9 P:67 SP:F9 PPU:160,118 CYC:18226
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb7c, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB7C  AD 47 06  LDA $0647 = 36                  A:F0 X:FF Y:A9 P:67 SP:FB PPU:160,136 CYC:18232
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb7f, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB7F  C9 36     CMP #$36                        A:36 X:FF Y:A9 P:65 SP:FB PPU:160,148 CYC:18236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb81, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB81  F0 02     BEQ $EB85                       A:36 X:FF Y:A9 P:67 SP:FB PPU:160,154 CYC:18238
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb85, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB85  60        RTS                             A:36 X:FF Y:A9 P:67 SP:FB PPU:160,163 CYC:18241
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc63e, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C63E  20 86 EB  JSR $EB86                       A:36 X:FF Y:A9 P:67 SP:FD PPU:160,181 CYC:18247
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb86, cpu.pc);
    try expectEqual(0x36, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB86  A9 FF     LDA #$FF                        A:36 X:FF Y:A9 P:67 SP:FB PPU:160,199 CYC:18253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb88, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB88  85 01     STA $01 = FF                    A:FF X:FF Y:A9 P:E5 SP:FB PPU:160,205 CYC:18255
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb8a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xa9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB8A  A0 AA     LDY #$AA                        A:FF X:FF Y:A9 P:E5 SP:FB PPU:160,214 CYC:18258
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb8c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB8C  A2 02     LDX #$02                        A:FF X:FF Y:AA P:E5 SP:FB PPU:160,220 CYC:18260
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb8e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB8E  A9 47     LDA #$47                        A:FF X:02 Y:AA P:65 SP:FB PPU:160,226 CYC:18262
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb90, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB90  85 47     STA $47 = 36                    A:47 X:02 Y:AA P:65 SP:FB PPU:160,232 CYC:18264
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb92, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB92  A9 06     LDA #$06                        A:47 X:02 Y:AA P:65 SP:FB PPU:160,241 CYC:18267
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb94, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB94  85 48     STA $48 = 06                    A:06 X:02 Y:AA P:65 SP:FB PPU:160,247 CYC:18269
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeb96, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB96  A9 EB     LDA #$EB                        A:06 X:02 Y:AA P:65 SP:FB PPU:160,256 CYC:18272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeb98, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB98  8D 47 06  STA $0647 = 36                  A:EB X:02 Y:AA P:E5 SP:FB PPU:160,262 CYC:18274
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeb9b, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB9B  20 B1 FA  JSR $FAB1                       A:EB X:02 Y:AA P:E5 SP:FB PPU:160,274 CYC:18278
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab1, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB1  24 01     BIT $01 = FF                    A:EB X:02 Y:AA P:E5 SP:F9 PPU:160,292 CYC:18284
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfab3, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB3  18        CLC                             A:EB X:02 Y:AA P:E5 SP:F9 PPU:160,301 CYC:18287
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB4  A9 40     LDA #$40                        A:EB X:02 Y:AA P:E4 SP:F9 PPU:160,307 CYC:18289
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB6  60        RTS                             A:40 X:02 Y:AA P:64 SP:F9 PPU:160,313 CYC:18291
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeb9e, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EB9E  E3 45    *ISB ($45,X) @ 47 = 0647 = EB    A:40 X:02 Y:AA P:64 SP:FB PPU:160,331 CYC:18297
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xeba0, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBA0  EA        NOP                             A:53 X:02 Y:AA P:24 SP:FB PPU:161, 14 CYC:18305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeba1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBA1  EA        NOP                             A:53 X:02 Y:AA P:24 SP:FB PPU:161, 20 CYC:18307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeba2, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBA2  EA        NOP                             A:53 X:02 Y:AA P:24 SP:FB PPU:161, 26 CYC:18309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeba3, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBA3  EA        NOP                             A:53 X:02 Y:AA P:24 SP:FB PPU:161, 32 CYC:18311
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeba4, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBA4  20 B7 FA  JSR $FAB7                       A:53 X:02 Y:AA P:24 SP:FB PPU:161, 38 CYC:18313
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB7  70 2D     BVS $FAE6                       A:53 X:02 Y:AA P:24 SP:F9 PPU:161, 56 CYC:18319
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab9, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB9  B0 2B     BCS $FAE6                       A:53 X:02 Y:AA P:24 SP:F9 PPU:161, 62 CYC:18321
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABB  30 29     BMI $FAE6                       A:53 X:02 Y:AA P:24 SP:F9 PPU:161, 68 CYC:18323
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABD  C9 53     CMP #$53                        A:53 X:02 Y:AA P:24 SP:F9 PPU:161, 74 CYC:18325
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABF  D0 25     BNE $FAE6                       A:53 X:02 Y:AA P:27 SP:F9 PPU:161, 80 CYC:18327
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC1  60        RTS                             A:53 X:02 Y:AA P:27 SP:F9 PPU:161, 86 CYC:18329
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeba7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBA7  AD 47 06  LDA $0647 = EC                  A:53 X:02 Y:AA P:27 SP:FB PPU:161,104 CYC:18335
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xebaa, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBAA  C9 EC     CMP #$EC                        A:EC X:02 Y:AA P:A5 SP:FB PPU:161,116 CYC:18339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebac, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBAC  F0 02     BEQ $EBB0                       A:EC X:02 Y:AA P:27 SP:FB PPU:161,122 CYC:18341
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xebb0, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaa, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBB0  C8        INY                             A:EC X:02 Y:AA P:27 SP:FB PPU:161,131 CYC:18344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebb1, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBB1  A9 FF     LDA #$FF                        A:EC X:02 Y:AB P:A5 SP:FB PPU:161,137 CYC:18346
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebb3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBB3  8D 47 06  STA $0647 = EC                  A:FF X:02 Y:AB P:A5 SP:FB PPU:161,143 CYC:18348
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xebb6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBB6  20 C2 FA  JSR $FAC2                       A:FF X:02 Y:AB P:A5 SP:FB PPU:161,155 CYC:18352
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC2  B8        CLV                             A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,173 CYC:18358
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC3  38        SEC                             A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,179 CYC:18360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC4  A9 FF     LDA #$FF                        A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,185 CYC:18362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC6  60        RTS                             A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,191 CYC:18364
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xebb9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBB9  E3 45    *ISB ($45,X) @ 47 = 0647 = FF    A:FF X:02 Y:AB P:A5 SP:FB PPU:161,209 CYC:18370
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xebbb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBBB  EA        NOP                             A:FF X:02 Y:AB P:A5 SP:FB PPU:161,233 CYC:18378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebbc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBBC  EA        NOP                             A:FF X:02 Y:AB P:A5 SP:FB PPU:161,239 CYC:18380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebbd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBBD  EA        NOP                             A:FF X:02 Y:AB P:A5 SP:FB PPU:161,245 CYC:18382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebbe, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBBE  EA        NOP                             A:FF X:02 Y:AB P:A5 SP:FB PPU:161,251 CYC:18384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebbf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBBF  20 C7 FA  JSR $FAC7                       A:FF X:02 Y:AB P:A5 SP:FB PPU:161,257 CYC:18386
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC7  70 1D     BVS $FAE6                       A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,275 CYC:18392
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC9  F0 1B     BEQ $FAE6                       A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,281 CYC:18394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACB  10 19     BPL $FAE6                       A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,287 CYC:18396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACD  90 17     BCC $FAE6                       A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,293 CYC:18398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACF  C9 FF     CMP #$FF                        A:FF X:02 Y:AB P:A5 SP:F9 PPU:161,299 CYC:18400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD1  D0 13     BNE $FAE6                       A:FF X:02 Y:AB P:27 SP:F9 PPU:161,305 CYC:18402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD3  60        RTS                             A:FF X:02 Y:AB P:27 SP:F9 PPU:161,311 CYC:18404
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xebc2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBC2  AD 47 06  LDA $0647 = 00                  A:FF X:02 Y:AB P:27 SP:FB PPU:161,329 CYC:18410
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xebc5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBC5  C9 00     CMP #$00                        A:00 X:02 Y:AB P:27 SP:FB PPU:162,  0 CYC:18414
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebc7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBC7  F0 02     BEQ $EBCB                       A:00 X:02 Y:AB P:27 SP:FB PPU:162,  6 CYC:18416
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xebcb, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xab, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBCB  C8        INY                             A:00 X:02 Y:AB P:27 SP:FB PPU:162, 15 CYC:18419
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebcc, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBCC  A9 37     LDA #$37                        A:00 X:02 Y:AC P:A5 SP:FB PPU:162, 21 CYC:18421
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebce, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBCE  8D 47 06  STA $0647 = 00                  A:37 X:02 Y:AC P:25 SP:FB PPU:162, 27 CYC:18423
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xebd1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBD1  20 D4 FA  JSR $FAD4                       A:37 X:02 Y:AC P:25 SP:FB PPU:162, 39 CYC:18427
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfad4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD4  24 01     BIT $01 = FF                    A:37 X:02 Y:AC P:25 SP:F9 PPU:162, 57 CYC:18433
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfad6, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD6  38        SEC                             A:37 X:02 Y:AC P:E5 SP:F9 PPU:162, 66 CYC:18436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD7  A9 F0     LDA #$F0                        A:37 X:02 Y:AC P:E5 SP:F9 PPU:162, 72 CYC:18438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD9  60        RTS                             A:F0 X:02 Y:AC P:E5 SP:F9 PPU:162, 78 CYC:18440
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xebd4, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBD4  E3 45    *ISB ($45,X) @ 47 = 0647 = 37    A:F0 X:02 Y:AC P:E5 SP:FB PPU:162, 96 CYC:18446
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xebd6, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBD6  EA        NOP                             A:B8 X:02 Y:AC P:A5 SP:FB PPU:162,120 CYC:18454
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebd7, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBD7  EA        NOP                             A:B8 X:02 Y:AC P:A5 SP:FB PPU:162,126 CYC:18456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebd8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBD8  EA        NOP                             A:B8 X:02 Y:AC P:A5 SP:FB PPU:162,132 CYC:18458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebd9, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBD9  EA        NOP                             A:B8 X:02 Y:AC P:A5 SP:FB PPU:162,138 CYC:18460
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebda, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBDA  20 DA FA  JSR $FADA                       A:B8 X:02 Y:AC P:A5 SP:FB PPU:162,144 CYC:18462
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfada, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADA  70 0A     BVS $FAE6                       A:B8 X:02 Y:AC P:A5 SP:F9 PPU:162,162 CYC:18468
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfadc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADC  F0 08     BEQ $FAE6                       A:B8 X:02 Y:AC P:A5 SP:F9 PPU:162,168 CYC:18470
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfade, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADE  10 06     BPL $FAE6                       A:B8 X:02 Y:AC P:A5 SP:F9 PPU:162,174 CYC:18472
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE0  90 04     BCC $FAE6                       A:B8 X:02 Y:AC P:A5 SP:F9 PPU:162,180 CYC:18474
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae2, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE2  C9 B8     CMP #$B8                        A:B8 X:02 Y:AC P:A5 SP:F9 PPU:162,186 CYC:18476
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE4  F0 02     BEQ $FAE8                       A:B8 X:02 Y:AC P:27 SP:F9 PPU:162,192 CYC:18478
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfae8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE8  60        RTS                             A:B8 X:02 Y:AC P:27 SP:F9 PPU:162,201 CYC:18481
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xebdd, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBDD  AD 47 06  LDA $0647 = 38                  A:B8 X:02 Y:AC P:27 SP:FB PPU:162,219 CYC:18487
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xebe0, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBE0  C9 38     CMP #$38                        A:38 X:02 Y:AC P:25 SP:FB PPU:162,231 CYC:18491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebe2, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBE2  F0 02     BEQ $EBE6                       A:38 X:02 Y:AC P:27 SP:FB PPU:162,237 CYC:18493
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xebe6, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xac, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBE6  C8        INY                             A:38 X:02 Y:AC P:27 SP:FB PPU:162,246 CYC:18496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebe7, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBE7  A9 EB     LDA #$EB                        A:38 X:02 Y:AD P:A5 SP:FB PPU:162,252 CYC:18498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebe9, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBE9  85 47     STA $47 = 47                    A:EB X:02 Y:AD P:A5 SP:FB PPU:162,258 CYC:18500
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xebeb, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBEB  20 B1 FA  JSR $FAB1                       A:EB X:02 Y:AD P:A5 SP:FB PPU:162,267 CYC:18503
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab1, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB1  24 01     BIT $01 = FF                    A:EB X:02 Y:AD P:A5 SP:F9 PPU:162,285 CYC:18509
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfab3, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB3  18        CLC                             A:EB X:02 Y:AD P:E5 SP:F9 PPU:162,294 CYC:18512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB4  A9 40     LDA #$40                        A:EB X:02 Y:AD P:E4 SP:F9 PPU:162,300 CYC:18514
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB6  60        RTS                             A:40 X:02 Y:AD P:64 SP:F9 PPU:162,306 CYC:18516
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xebee, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBEE  E7 47    *ISB $47 = EB                    A:40 X:02 Y:AD P:64 SP:FB PPU:162,324 CYC:18522
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xebf0, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBF0  EA        NOP                             A:53 X:02 Y:AD P:24 SP:FB PPU:162,339 CYC:18527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebf1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBF1  EA        NOP                             A:53 X:02 Y:AD P:24 SP:FB PPU:163,  4 CYC:18529
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebf2, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBF2  EA        NOP                             A:53 X:02 Y:AD P:24 SP:FB PPU:163, 10 CYC:18531
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebf3, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBF3  EA        NOP                             A:53 X:02 Y:AD P:24 SP:FB PPU:163, 16 CYC:18533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebf4, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBF4  20 B7 FA  JSR $FAB7                       A:53 X:02 Y:AD P:24 SP:FB PPU:163, 22 CYC:18535
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB7  70 2D     BVS $FAE6                       A:53 X:02 Y:AD P:24 SP:F9 PPU:163, 40 CYC:18541
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab9, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB9  B0 2B     BCS $FAE6                       A:53 X:02 Y:AD P:24 SP:F9 PPU:163, 46 CYC:18543
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABB  30 29     BMI $FAE6                       A:53 X:02 Y:AD P:24 SP:F9 PPU:163, 52 CYC:18545
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABD  C9 53     CMP #$53                        A:53 X:02 Y:AD P:24 SP:F9 PPU:163, 58 CYC:18547
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABF  D0 25     BNE $FAE6                       A:53 X:02 Y:AD P:27 SP:F9 PPU:163, 64 CYC:18549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC1  60        RTS                             A:53 X:02 Y:AD P:27 SP:F9 PPU:163, 70 CYC:18551
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xebf7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBF7  A5 47     LDA $47 = EC                    A:53 X:02 Y:AD P:27 SP:FB PPU:163, 88 CYC:18557
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xebf9, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBF9  C9 EC     CMP #$EC                        A:EC X:02 Y:AD P:A5 SP:FB PPU:163, 97 CYC:18560
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xebfb, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBFB  F0 02     BEQ $EBFF                       A:EC X:02 Y:AD P:27 SP:FB PPU:163,103 CYC:18562
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xebff, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xad, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EBFF  C8        INY                             A:EC X:02 Y:AD P:27 SP:FB PPU:163,112 CYC:18565
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec00, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC00  A9 FF     LDA #$FF                        A:EC X:02 Y:AE P:A5 SP:FB PPU:163,118 CYC:18567
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec02, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC02  85 47     STA $47 = EC                    A:FF X:02 Y:AE P:A5 SP:FB PPU:163,124 CYC:18569
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec04, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC04  20 C2 FA  JSR $FAC2                       A:FF X:02 Y:AE P:A5 SP:FB PPU:163,133 CYC:18572
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC2  B8        CLV                             A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,151 CYC:18578
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC3  38        SEC                             A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,157 CYC:18580
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC4  A9 FF     LDA #$FF                        A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,163 CYC:18582
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC6  60        RTS                             A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,169 CYC:18584
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec07, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC07  E7 47    *ISB $47 = FF                    A:FF X:02 Y:AE P:A5 SP:FB PPU:163,187 CYC:18590
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xec09, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC09  EA        NOP                             A:FF X:02 Y:AE P:A5 SP:FB PPU:163,202 CYC:18595
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec0a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC0A  EA        NOP                             A:FF X:02 Y:AE P:A5 SP:FB PPU:163,208 CYC:18597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec0b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC0B  EA        NOP                             A:FF X:02 Y:AE P:A5 SP:FB PPU:163,214 CYC:18599
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec0c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC0C  EA        NOP                             A:FF X:02 Y:AE P:A5 SP:FB PPU:163,220 CYC:18601
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec0d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC0D  20 C7 FA  JSR $FAC7                       A:FF X:02 Y:AE P:A5 SP:FB PPU:163,226 CYC:18603
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC7  70 1D     BVS $FAE6                       A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,244 CYC:18609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC9  F0 1B     BEQ $FAE6                       A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,250 CYC:18611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACB  10 19     BPL $FAE6                       A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,256 CYC:18613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACD  90 17     BCC $FAE6                       A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,262 CYC:18615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACF  C9 FF     CMP #$FF                        A:FF X:02 Y:AE P:A5 SP:F9 PPU:163,268 CYC:18617
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD1  D0 13     BNE $FAE6                       A:FF X:02 Y:AE P:27 SP:F9 PPU:163,274 CYC:18619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD3  60        RTS                             A:FF X:02 Y:AE P:27 SP:F9 PPU:163,280 CYC:18621
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec10, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC10  A5 47     LDA $47 = 00                    A:FF X:02 Y:AE P:27 SP:FB PPU:163,298 CYC:18627
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec12, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC12  C9 00     CMP #$00                        A:00 X:02 Y:AE P:27 SP:FB PPU:163,307 CYC:18630
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec14, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC14  F0 02     BEQ $EC18                       A:00 X:02 Y:AE P:27 SP:FB PPU:163,313 CYC:18632
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec18, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xae, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC18  C8        INY                             A:00 X:02 Y:AE P:27 SP:FB PPU:163,322 CYC:18635
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec19, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC19  A9 37     LDA #$37                        A:00 X:02 Y:AF P:A5 SP:FB PPU:163,328 CYC:18637
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec1b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC1B  85 47     STA $47 = 00                    A:37 X:02 Y:AF P:25 SP:FB PPU:163,334 CYC:18639
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec1d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC1D  20 D4 FA  JSR $FAD4                       A:37 X:02 Y:AF P:25 SP:FB PPU:164,  2 CYC:18642
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfad4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD4  24 01     BIT $01 = FF                    A:37 X:02 Y:AF P:25 SP:F9 PPU:164, 20 CYC:18648
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfad6, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD6  38        SEC                             A:37 X:02 Y:AF P:E5 SP:F9 PPU:164, 29 CYC:18651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD7  A9 F0     LDA #$F0                        A:37 X:02 Y:AF P:E5 SP:F9 PPU:164, 35 CYC:18653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD9  60        RTS                             A:F0 X:02 Y:AF P:E5 SP:F9 PPU:164, 41 CYC:18655
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec20, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC20  E7 47    *ISB $47 = 37                    A:F0 X:02 Y:AF P:E5 SP:FB PPU:164, 59 CYC:18661
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xec22, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC22  EA        NOP                             A:B8 X:02 Y:AF P:A5 SP:FB PPU:164, 74 CYC:18666
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec23, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC23  EA        NOP                             A:B8 X:02 Y:AF P:A5 SP:FB PPU:164, 80 CYC:18668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec24, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC24  EA        NOP                             A:B8 X:02 Y:AF P:A5 SP:FB PPU:164, 86 CYC:18670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec25, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC25  EA        NOP                             A:B8 X:02 Y:AF P:A5 SP:FB PPU:164, 92 CYC:18672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec26, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC26  20 DA FA  JSR $FADA                       A:B8 X:02 Y:AF P:A5 SP:FB PPU:164, 98 CYC:18674
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfada, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADA  70 0A     BVS $FAE6                       A:B8 X:02 Y:AF P:A5 SP:F9 PPU:164,116 CYC:18680
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfadc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADC  F0 08     BEQ $FAE6                       A:B8 X:02 Y:AF P:A5 SP:F9 PPU:164,122 CYC:18682
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfade, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADE  10 06     BPL $FAE6                       A:B8 X:02 Y:AF P:A5 SP:F9 PPU:164,128 CYC:18684
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE0  90 04     BCC $FAE6                       A:B8 X:02 Y:AF P:A5 SP:F9 PPU:164,134 CYC:18686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae2, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE2  C9 B8     CMP #$B8                        A:B8 X:02 Y:AF P:A5 SP:F9 PPU:164,140 CYC:18688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE4  F0 02     BEQ $FAE8                       A:B8 X:02 Y:AF P:27 SP:F9 PPU:164,146 CYC:18690
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfae8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE8  60        RTS                             A:B8 X:02 Y:AF P:27 SP:F9 PPU:164,155 CYC:18693
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec29, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC29  A5 47     LDA $47 = 38                    A:B8 X:02 Y:AF P:27 SP:FB PPU:164,173 CYC:18699
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec2b, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC2B  C9 38     CMP #$38                        A:38 X:02 Y:AF P:25 SP:FB PPU:164,182 CYC:18702
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec2d, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC2D  F0 02     BEQ $EC31                       A:38 X:02 Y:AF P:27 SP:FB PPU:164,188 CYC:18704
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec31, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xaf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC31  C8        INY                             A:38 X:02 Y:AF P:27 SP:FB PPU:164,197 CYC:18707
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec32, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC32  A9 EB     LDA #$EB                        A:38 X:02 Y:B0 P:A5 SP:FB PPU:164,203 CYC:18709
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec34, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC34  8D 47 06  STA $0647 = 38                  A:EB X:02 Y:B0 P:A5 SP:FB PPU:164,209 CYC:18711
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xec37, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC37  20 B1 FA  JSR $FAB1                       A:EB X:02 Y:B0 P:A5 SP:FB PPU:164,221 CYC:18715
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab1, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB1  24 01     BIT $01 = FF                    A:EB X:02 Y:B0 P:A5 SP:F9 PPU:164,239 CYC:18721
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfab3, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB3  18        CLC                             A:EB X:02 Y:B0 P:E5 SP:F9 PPU:164,248 CYC:18724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB4  A9 40     LDA #$40                        A:EB X:02 Y:B0 P:E4 SP:F9 PPU:164,254 CYC:18726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB6  60        RTS                             A:40 X:02 Y:B0 P:64 SP:F9 PPU:164,260 CYC:18728
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec3a, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC3A  EF 47 06 *ISB $0647 = EB                  A:40 X:02 Y:B0 P:64 SP:FB PPU:164,278 CYC:18734
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec3d, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC3D  EA        NOP                             A:53 X:02 Y:B0 P:24 SP:FB PPU:164,296 CYC:18740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec3e, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC3E  EA        NOP                             A:53 X:02 Y:B0 P:24 SP:FB PPU:164,302 CYC:18742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec3f, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC3F  EA        NOP                             A:53 X:02 Y:B0 P:24 SP:FB PPU:164,308 CYC:18744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec40, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC40  EA        NOP                             A:53 X:02 Y:B0 P:24 SP:FB PPU:164,314 CYC:18746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec41, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC41  20 B7 FA  JSR $FAB7                       A:53 X:02 Y:B0 P:24 SP:FB PPU:164,320 CYC:18748
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB7  70 2D     BVS $FAE6                       A:53 X:02 Y:B0 P:24 SP:F9 PPU:164,338 CYC:18754
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab9, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB9  B0 2B     BCS $FAE6                       A:53 X:02 Y:B0 P:24 SP:F9 PPU:165,  3 CYC:18756
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABB  30 29     BMI $FAE6                       A:53 X:02 Y:B0 P:24 SP:F9 PPU:165,  9 CYC:18758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABD  C9 53     CMP #$53                        A:53 X:02 Y:B0 P:24 SP:F9 PPU:165, 15 CYC:18760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABF  D0 25     BNE $FAE6                       A:53 X:02 Y:B0 P:27 SP:F9 PPU:165, 21 CYC:18762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC1  60        RTS                             A:53 X:02 Y:B0 P:27 SP:F9 PPU:165, 27 CYC:18764
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec44, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC44  AD 47 06  LDA $0647 = EC                  A:53 X:02 Y:B0 P:27 SP:FB PPU:165, 45 CYC:18770
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xec47, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC47  C9 EC     CMP #$EC                        A:EC X:02 Y:B0 P:A5 SP:FB PPU:165, 57 CYC:18774
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec49, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC49  F0 02     BEQ $EC4D                       A:EC X:02 Y:B0 P:27 SP:FB PPU:165, 63 CYC:18776
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec4d, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC4D  C8        INY                             A:EC X:02 Y:B0 P:27 SP:FB PPU:165, 72 CYC:18779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec4e, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC4E  A9 FF     LDA #$FF                        A:EC X:02 Y:B1 P:A5 SP:FB PPU:165, 78 CYC:18781
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec50, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC50  8D 47 06  STA $0647 = EC                  A:FF X:02 Y:B1 P:A5 SP:FB PPU:165, 84 CYC:18783
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xec53, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC53  20 C2 FA  JSR $FAC2                       A:FF X:02 Y:B1 P:A5 SP:FB PPU:165, 96 CYC:18787
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC2  B8        CLV                             A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,114 CYC:18793
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC3  38        SEC                             A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,120 CYC:18795
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC4  A9 FF     LDA #$FF                        A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,126 CYC:18797
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC6  60        RTS                             A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,132 CYC:18799
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec56, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC56  EF 47 06 *ISB $0647 = FF                  A:FF X:02 Y:B1 P:A5 SP:FB PPU:165,150 CYC:18805
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec59, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC59  EA        NOP                             A:FF X:02 Y:B1 P:A5 SP:FB PPU:165,168 CYC:18811
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec5a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC5A  EA        NOP                             A:FF X:02 Y:B1 P:A5 SP:FB PPU:165,174 CYC:18813
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec5b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC5B  EA        NOP                             A:FF X:02 Y:B1 P:A5 SP:FB PPU:165,180 CYC:18815
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec5c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC5C  EA        NOP                             A:FF X:02 Y:B1 P:A5 SP:FB PPU:165,186 CYC:18817
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec5d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC5D  20 C7 FA  JSR $FAC7                       A:FF X:02 Y:B1 P:A5 SP:FB PPU:165,192 CYC:18819
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC7  70 1D     BVS $FAE6                       A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,210 CYC:18825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC9  F0 1B     BEQ $FAE6                       A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,216 CYC:18827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACB  10 19     BPL $FAE6                       A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,222 CYC:18829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACD  90 17     BCC $FAE6                       A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,228 CYC:18831
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACF  C9 FF     CMP #$FF                        A:FF X:02 Y:B1 P:A5 SP:F9 PPU:165,234 CYC:18833
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD1  D0 13     BNE $FAE6                       A:FF X:02 Y:B1 P:27 SP:F9 PPU:165,240 CYC:18835
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD3  60        RTS                             A:FF X:02 Y:B1 P:27 SP:F9 PPU:165,246 CYC:18837
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec60, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC60  AD 47 06  LDA $0647 = 00                  A:FF X:02 Y:B1 P:27 SP:FB PPU:165,264 CYC:18843
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xec63, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC63  C9 00     CMP #$00                        A:00 X:02 Y:B1 P:27 SP:FB PPU:165,276 CYC:18847
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec65, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC65  F0 02     BEQ $EC69                       A:00 X:02 Y:B1 P:27 SP:FB PPU:165,282 CYC:18849
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec69, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC69  C8        INY                             A:00 X:02 Y:B1 P:27 SP:FB PPU:165,291 CYC:18852
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec6a, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC6A  A9 37     LDA #$37                        A:00 X:02 Y:B2 P:A5 SP:FB PPU:165,297 CYC:18854
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec6c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC6C  8D 47 06  STA $0647 = 00                  A:37 X:02 Y:B2 P:25 SP:FB PPU:165,303 CYC:18856
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xec6f, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC6F  20 D4 FA  JSR $FAD4                       A:37 X:02 Y:B2 P:25 SP:FB PPU:165,315 CYC:18860
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfad4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD4  24 01     BIT $01 = FF                    A:37 X:02 Y:B2 P:25 SP:F9 PPU:165,333 CYC:18866
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfad6, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD6  38        SEC                             A:37 X:02 Y:B2 P:E5 SP:F9 PPU:166,  1 CYC:18869
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD7  A9 F0     LDA #$F0                        A:37 X:02 Y:B2 P:E5 SP:F9 PPU:166,  7 CYC:18871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD9  60        RTS                             A:F0 X:02 Y:B2 P:E5 SP:F9 PPU:166, 13 CYC:18873
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec72, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC72  EF 47 06 *ISB $0647 = 37                  A:F0 X:02 Y:B2 P:E5 SP:FB PPU:166, 31 CYC:18879
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec75, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC75  EA        NOP                             A:B8 X:02 Y:B2 P:A5 SP:FB PPU:166, 49 CYC:18885
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec76, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC76  EA        NOP                             A:B8 X:02 Y:B2 P:A5 SP:FB PPU:166, 55 CYC:18887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec77, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC77  EA        NOP                             A:B8 X:02 Y:B2 P:A5 SP:FB PPU:166, 61 CYC:18889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec78, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC78  EA        NOP                             A:B8 X:02 Y:B2 P:A5 SP:FB PPU:166, 67 CYC:18891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec79, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC79  20 DA FA  JSR $FADA                       A:B8 X:02 Y:B2 P:A5 SP:FB PPU:166, 73 CYC:18893
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfada, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADA  70 0A     BVS $FAE6                       A:B8 X:02 Y:B2 P:A5 SP:F9 PPU:166, 91 CYC:18899
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfadc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADC  F0 08     BEQ $FAE6                       A:B8 X:02 Y:B2 P:A5 SP:F9 PPU:166, 97 CYC:18901
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfade, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADE  10 06     BPL $FAE6                       A:B8 X:02 Y:B2 P:A5 SP:F9 PPU:166,103 CYC:18903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE0  90 04     BCC $FAE6                       A:B8 X:02 Y:B2 P:A5 SP:F9 PPU:166,109 CYC:18905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae2, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE2  C9 B8     CMP #$B8                        A:B8 X:02 Y:B2 P:A5 SP:F9 PPU:166,115 CYC:18907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE4  F0 02     BEQ $FAE8                       A:B8 X:02 Y:B2 P:27 SP:F9 PPU:166,121 CYC:18909
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfae8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE8  60        RTS                             A:B8 X:02 Y:B2 P:27 SP:F9 PPU:166,130 CYC:18912
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec7c, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC7C  AD 47 06  LDA $0647 = 38                  A:B8 X:02 Y:B2 P:27 SP:FB PPU:166,148 CYC:18918
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xec7f, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC7F  C9 38     CMP #$38                        A:38 X:02 Y:B2 P:25 SP:FB PPU:166,160 CYC:18922
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec81, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC81  F0 02     BEQ $EC85                       A:38 X:02 Y:B2 P:27 SP:FB PPU:166,166 CYC:18924
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec85, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC85  A9 EB     LDA #$EB                        A:38 X:02 Y:B2 P:27 SP:FB PPU:166,175 CYC:18927
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec87, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC87  8D 47 06  STA $0647 = 38                  A:EB X:02 Y:B2 P:A5 SP:FB PPU:166,181 CYC:18929
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xec8a, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC8A  A9 48     LDA #$48                        A:EB X:02 Y:B2 P:A5 SP:FB PPU:166,193 CYC:18933
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec8c, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC8C  85 45     STA $45 = 48                    A:48 X:02 Y:B2 P:25 SP:FB PPU:166,199 CYC:18935
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec8e, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC8E  A9 05     LDA #$05                        A:48 X:02 Y:B2 P:25 SP:FB PPU:166,208 CYC:18938
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec90, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC90  85 46     STA $46 = 05                    A:05 X:02 Y:B2 P:25 SP:FB PPU:166,214 CYC:18940
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec92, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC92  A0 FF     LDY #$FF                        A:05 X:02 Y:B2 P:25 SP:FB PPU:166,223 CYC:18943
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec94, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC94  20 B1 FA  JSR $FAB1                       A:05 X:02 Y:FF P:A5 SP:FB PPU:166,229 CYC:18945
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB1  24 01     BIT $01 = FF                    A:05 X:02 Y:FF P:A5 SP:F9 PPU:166,247 CYC:18951
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfab3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB3  18        CLC                             A:05 X:02 Y:FF P:E5 SP:F9 PPU:166,256 CYC:18954
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab4, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB4  A9 40     LDA #$40                        A:05 X:02 Y:FF P:E4 SP:F9 PPU:166,262 CYC:18956
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB6  60        RTS                             A:40 X:02 Y:FF P:64 SP:F9 PPU:166,268 CYC:18958
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xec97, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC97  F3 45    *ISB ($45),Y = 0548 @ 0647 = EB  A:40 X:02 Y:FF P:64 SP:FB PPU:166,286 CYC:18964
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xec99, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC99  EA        NOP                             A:53 X:02 Y:FF P:24 SP:FB PPU:166,310 CYC:18972
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec9a, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC9A  EA        NOP                             A:53 X:02 Y:FF P:24 SP:FB PPU:166,316 CYC:18974
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec9b, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EC9B  08        PHP                             A:53 X:02 Y:FF P:24 SP:FB PPU:166,322 CYC:18976
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec9c, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EC9C  48        PHA                             A:53 X:02 Y:FF P:24 SP:FA PPU:166,331 CYC:18979
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xec9d, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EC9D  A0 B3     LDY #$B3                        A:53 X:02 Y:FF P:24 SP:F9 PPU:166,340 CYC:18982
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xec9f, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EC9F  68        PLA                             A:53 X:02 Y:B3 P:A4 SP:F9 PPU:167,  5 CYC:18984
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeca0, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ECA0  28        PLP                             A:53 X:02 Y:B3 P:24 SP:FA PPU:167, 17 CYC:18988
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeca1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECA1  20 B7 FA  JSR $FAB7                       A:53 X:02 Y:B3 P:24 SP:FB PPU:167, 29 CYC:18992
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB7  70 2D     BVS $FAE6                       A:53 X:02 Y:B3 P:24 SP:F9 PPU:167, 47 CYC:18998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab9, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB9  B0 2B     BCS $FAE6                       A:53 X:02 Y:B3 P:24 SP:F9 PPU:167, 53 CYC:19000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABB  30 29     BMI $FAE6                       A:53 X:02 Y:B3 P:24 SP:F9 PPU:167, 59 CYC:19002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABD  C9 53     CMP #$53                        A:53 X:02 Y:B3 P:24 SP:F9 PPU:167, 65 CYC:19004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABF  D0 25     BNE $FAE6                       A:53 X:02 Y:B3 P:27 SP:F9 PPU:167, 71 CYC:19006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC1  60        RTS                             A:53 X:02 Y:B3 P:27 SP:F9 PPU:167, 77 CYC:19008
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeca4, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECA4  AD 47 06  LDA $0647 = EC                  A:53 X:02 Y:B3 P:27 SP:FB PPU:167, 95 CYC:19014
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeca7, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECA7  C9 EC     CMP #$EC                        A:EC X:02 Y:B3 P:A5 SP:FB PPU:167,107 CYC:19018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeca9, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECA9  F0 02     BEQ $ECAD                       A:EC X:02 Y:B3 P:27 SP:FB PPU:167,113 CYC:19020
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xecad, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECAD  A0 FF     LDY #$FF                        A:EC X:02 Y:B3 P:27 SP:FB PPU:167,122 CYC:19023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecaf, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECAF  A9 FF     LDA #$FF                        A:EC X:02 Y:FF P:A5 SP:FB PPU:167,128 CYC:19025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecb1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECB1  8D 47 06  STA $0647 = EC                  A:FF X:02 Y:FF P:A5 SP:FB PPU:167,134 CYC:19027
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xecb4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECB4  20 C2 FA  JSR $FAC2                       A:FF X:02 Y:FF P:A5 SP:FB PPU:167,146 CYC:19031
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC2  B8        CLV                             A:FF X:02 Y:FF P:A5 SP:F9 PPU:167,164 CYC:19037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC3  38        SEC                             A:FF X:02 Y:FF P:A5 SP:F9 PPU:167,170 CYC:19039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC4  A9 FF     LDA #$FF                        A:FF X:02 Y:FF P:A5 SP:F9 PPU:167,176 CYC:19041
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC6  60        RTS                             A:FF X:02 Y:FF P:A5 SP:F9 PPU:167,182 CYC:19043
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xecb7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECB7  F3 45    *ISB ($45),Y = 0548 @ 0647 = FF  A:FF X:02 Y:FF P:A5 SP:FB PPU:167,200 CYC:19049
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xecb9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECB9  EA        NOP                             A:FF X:02 Y:FF P:A5 SP:FB PPU:167,224 CYC:19057
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecba, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECBA  EA        NOP                             A:FF X:02 Y:FF P:A5 SP:FB PPU:167,230 CYC:19059
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecbb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECBB  08        PHP                             A:FF X:02 Y:FF P:A5 SP:FB PPU:167,236 CYC:19061
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xecbc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ECBC  48        PHA                             A:FF X:02 Y:FF P:A5 SP:FA PPU:167,245 CYC:19064
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xecbd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ECBD  A0 B4     LDY #$B4                        A:FF X:02 Y:FF P:A5 SP:F9 PPU:167,254 CYC:19067
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecbf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ECBF  68        PLA                             A:FF X:02 Y:B4 P:A5 SP:F9 PPU:167,260 CYC:19069
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xecc0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ECC0  28        PLP                             A:FF X:02 Y:B4 P:A5 SP:FA PPU:167,272 CYC:19073
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xecc1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECC1  20 C7 FA  JSR $FAC7                       A:FF X:02 Y:B4 P:A5 SP:FB PPU:167,284 CYC:19077
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC7  70 1D     BVS $FAE6                       A:FF X:02 Y:B4 P:A5 SP:F9 PPU:167,302 CYC:19083
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC9  F0 1B     BEQ $FAE6                       A:FF X:02 Y:B4 P:A5 SP:F9 PPU:167,308 CYC:19085
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACB  10 19     BPL $FAE6                       A:FF X:02 Y:B4 P:A5 SP:F9 PPU:167,314 CYC:19087
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACD  90 17     BCC $FAE6                       A:FF X:02 Y:B4 P:A5 SP:F9 PPU:167,320 CYC:19089
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACF  C9 FF     CMP #$FF                        A:FF X:02 Y:B4 P:A5 SP:F9 PPU:167,326 CYC:19091
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD1  D0 13     BNE $FAE6                       A:FF X:02 Y:B4 P:27 SP:F9 PPU:167,332 CYC:19093
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD3  60        RTS                             A:FF X:02 Y:B4 P:27 SP:F9 PPU:167,338 CYC:19095
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xecc4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECC4  AD 47 06  LDA $0647 = 00                  A:FF X:02 Y:B4 P:27 SP:FB PPU:168, 15 CYC:19101
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xecc7, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECC7  C9 00     CMP #$00                        A:00 X:02 Y:B4 P:27 SP:FB PPU:168, 27 CYC:19105
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecc9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECC9  F0 02     BEQ $ECCD                       A:00 X:02 Y:B4 P:27 SP:FB PPU:168, 33 CYC:19107
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeccd, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECCD  A0 FF     LDY #$FF                        A:00 X:02 Y:B4 P:27 SP:FB PPU:168, 42 CYC:19110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeccf, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECCF  A9 37     LDA #$37                        A:00 X:02 Y:FF P:A5 SP:FB PPU:168, 48 CYC:19112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecd1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECD1  8D 47 06  STA $0647 = 00                  A:37 X:02 Y:FF P:25 SP:FB PPU:168, 54 CYC:19114
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xecd4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECD4  20 D4 FA  JSR $FAD4                       A:37 X:02 Y:FF P:25 SP:FB PPU:168, 66 CYC:19118
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfad4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD4  24 01     BIT $01 = FF                    A:37 X:02 Y:FF P:25 SP:F9 PPU:168, 84 CYC:19124
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfad6, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD6  38        SEC                             A:37 X:02 Y:FF P:E5 SP:F9 PPU:168, 93 CYC:19127
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD7  A9 F0     LDA #$F0                        A:37 X:02 Y:FF P:E5 SP:F9 PPU:168, 99 CYC:19129
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD9  60        RTS                             A:F0 X:02 Y:FF P:E5 SP:F9 PPU:168,105 CYC:19131
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xecd7, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECD7  F3 45    *ISB ($45),Y = 0548 @ 0647 = 37  A:F0 X:02 Y:FF P:E5 SP:FB PPU:168,123 CYC:19137
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xecd9, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECD9  EA        NOP                             A:B8 X:02 Y:FF P:A5 SP:FB PPU:168,147 CYC:19145
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecda, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECDA  EA        NOP                             A:B8 X:02 Y:FF P:A5 SP:FB PPU:168,153 CYC:19147
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecdb, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECDB  08        PHP                             A:B8 X:02 Y:FF P:A5 SP:FB PPU:168,159 CYC:19149
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xecdc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ECDC  48        PHA                             A:B8 X:02 Y:FF P:A5 SP:FA PPU:168,168 CYC:19152
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xecdd, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ECDD  A0 B5     LDY #$B5                        A:B8 X:02 Y:FF P:A5 SP:F9 PPU:168,177 CYC:19155
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecdf, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ECDF  68        PLA                             A:B8 X:02 Y:B5 P:A5 SP:F9 PPU:168,183 CYC:19157
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xece0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ECE0  28        PLP                             A:B8 X:02 Y:B5 P:A5 SP:FA PPU:168,195 CYC:19161
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xece1, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECE1  20 DA FA  JSR $FADA                       A:B8 X:02 Y:B5 P:A5 SP:FB PPU:168,207 CYC:19165
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfada, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADA  70 0A     BVS $FAE6                       A:B8 X:02 Y:B5 P:A5 SP:F9 PPU:168,225 CYC:19171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfadc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADC  F0 08     BEQ $FAE6                       A:B8 X:02 Y:B5 P:A5 SP:F9 PPU:168,231 CYC:19173
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfade, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADE  10 06     BPL $FAE6                       A:B8 X:02 Y:B5 P:A5 SP:F9 PPU:168,237 CYC:19175
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE0  90 04     BCC $FAE6                       A:B8 X:02 Y:B5 P:A5 SP:F9 PPU:168,243 CYC:19177
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae2, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE2  C9 B8     CMP #$B8                        A:B8 X:02 Y:B5 P:A5 SP:F9 PPU:168,249 CYC:19179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE4  F0 02     BEQ $FAE8                       A:B8 X:02 Y:B5 P:27 SP:F9 PPU:168,255 CYC:19181
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfae8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE8  60        RTS                             A:B8 X:02 Y:B5 P:27 SP:F9 PPU:168,264 CYC:19184
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xece4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECE4  AD 47 06  LDA $0647 = 38                  A:B8 X:02 Y:B5 P:27 SP:FB PPU:168,282 CYC:19190
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xece7, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECE7  C9 38     CMP #$38                        A:38 X:02 Y:B5 P:25 SP:FB PPU:168,294 CYC:19194
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xece9, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECE9  F0 02     BEQ $ECED                       A:38 X:02 Y:B5 P:27 SP:FB PPU:168,300 CYC:19196
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeced, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECED  A0 B6     LDY #$B6                        A:38 X:02 Y:B5 P:27 SP:FB PPU:168,309 CYC:19199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecef, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECEF  A2 FF     LDX #$FF                        A:38 X:02 Y:B6 P:A5 SP:FB PPU:168,315 CYC:19201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecf1, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECF1  A9 EB     LDA #$EB                        A:38 X:FF Y:B6 P:A5 SP:FB PPU:168,321 CYC:19203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecf3, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECF3  85 47     STA $47 = 38                    A:EB X:FF Y:B6 P:A5 SP:FB PPU:168,327 CYC:19205
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xecf5, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECF5  20 B1 FA  JSR $FAB1                       A:EB X:FF Y:B6 P:A5 SP:FB PPU:168,336 CYC:19208
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab1, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB1  24 01     BIT $01 = FF                    A:EB X:FF Y:B6 P:A5 SP:F9 PPU:169, 13 CYC:19214
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfab3, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB3  18        CLC                             A:EB X:FF Y:B6 P:E5 SP:F9 PPU:169, 22 CYC:19217
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB4  A9 40     LDA #$40                        A:EB X:FF Y:B6 P:E4 SP:F9 PPU:169, 28 CYC:19219
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB6  60        RTS                             A:40 X:FF Y:B6 P:64 SP:F9 PPU:169, 34 CYC:19221
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xecf8, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECF8  F7 48    *ISB $48,X @ 47 = EB             A:40 X:FF Y:B6 P:64 SP:FB PPU:169, 52 CYC:19227
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xecfa, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECFA  EA        NOP                             A:53 X:FF Y:B6 P:24 SP:FB PPU:169, 70 CYC:19233
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecfb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECFB  EA        NOP                             A:53 X:FF Y:B6 P:24 SP:FB PPU:169, 76 CYC:19235
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecfc, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECFC  EA        NOP                             A:53 X:FF Y:B6 P:24 SP:FB PPU:169, 82 CYC:19237
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecfd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECFD  EA        NOP                             A:53 X:FF Y:B6 P:24 SP:FB PPU:169, 88 CYC:19239
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xecfe, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ECFE  20 B7 FA  JSR $FAB7                       A:53 X:FF Y:B6 P:24 SP:FB PPU:169, 94 CYC:19241
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB7  70 2D     BVS $FAE6                       A:53 X:FF Y:B6 P:24 SP:F9 PPU:169,112 CYC:19247
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab9, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB9  B0 2B     BCS $FAE6                       A:53 X:FF Y:B6 P:24 SP:F9 PPU:169,118 CYC:19249
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABB  30 29     BMI $FAE6                       A:53 X:FF Y:B6 P:24 SP:F9 PPU:169,124 CYC:19251
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABD  C9 53     CMP #$53                        A:53 X:FF Y:B6 P:24 SP:F9 PPU:169,130 CYC:19253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABF  D0 25     BNE $FAE6                       A:53 X:FF Y:B6 P:27 SP:F9 PPU:169,136 CYC:19255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC1  60        RTS                             A:53 X:FF Y:B6 P:27 SP:F9 PPU:169,142 CYC:19257
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed01, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED01  A5 47     LDA $47 = EC                    A:53 X:FF Y:B6 P:27 SP:FB PPU:169,160 CYC:19263
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed03, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED03  C9 EC     CMP #$EC                        A:EC X:FF Y:B6 P:A5 SP:FB PPU:169,169 CYC:19266
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed05, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED05  F0 02     BEQ $ED09                       A:EC X:FF Y:B6 P:27 SP:FB PPU:169,175 CYC:19268
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed09, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED09  C8        INY                             A:EC X:FF Y:B6 P:27 SP:FB PPU:169,184 CYC:19271
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed0a, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED0A  A9 FF     LDA #$FF                        A:EC X:FF Y:B7 P:A5 SP:FB PPU:169,190 CYC:19273
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed0c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED0C  85 47     STA $47 = EC                    A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,196 CYC:19275
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed0e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED0E  20 C2 FA  JSR $FAC2                       A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,205 CYC:19278
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC2  B8        CLV                             A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,223 CYC:19284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC3  38        SEC                             A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,229 CYC:19286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC4  A9 FF     LDA #$FF                        A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,235 CYC:19288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC6  60        RTS                             A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,241 CYC:19290
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed11, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED11  F7 48    *ISB $48,X @ 47 = FF             A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,259 CYC:19296
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed13, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED13  EA        NOP                             A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,277 CYC:19302
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed14, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED14  EA        NOP                             A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,283 CYC:19304
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed15, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED15  EA        NOP                             A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,289 CYC:19306
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed16, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED16  EA        NOP                             A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,295 CYC:19308
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed17, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED17  20 C7 FA  JSR $FAC7                       A:FF X:FF Y:B7 P:A5 SP:FB PPU:169,301 CYC:19310
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC7  70 1D     BVS $FAE6                       A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,319 CYC:19316
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC9  F0 1B     BEQ $FAE6                       A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,325 CYC:19318
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACB  10 19     BPL $FAE6                       A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,331 CYC:19320
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACD  90 17     BCC $FAE6                       A:FF X:FF Y:B7 P:A5 SP:F9 PPU:169,337 CYC:19322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACF  C9 FF     CMP #$FF                        A:FF X:FF Y:B7 P:A5 SP:F9 PPU:170,  2 CYC:19324
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD1  D0 13     BNE $FAE6                       A:FF X:FF Y:B7 P:27 SP:F9 PPU:170,  8 CYC:19326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD3  60        RTS                             A:FF X:FF Y:B7 P:27 SP:F9 PPU:170, 14 CYC:19328
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed1a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED1A  A5 47     LDA $47 = 00                    A:FF X:FF Y:B7 P:27 SP:FB PPU:170, 32 CYC:19334
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed1c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED1C  C9 00     CMP #$00                        A:00 X:FF Y:B7 P:27 SP:FB PPU:170, 41 CYC:19337
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed1e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED1E  F0 02     BEQ $ED22                       A:00 X:FF Y:B7 P:27 SP:FB PPU:170, 47 CYC:19339
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed22, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED22  C8        INY                             A:00 X:FF Y:B7 P:27 SP:FB PPU:170, 56 CYC:19342
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed23, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED23  A9 37     LDA #$37                        A:00 X:FF Y:B8 P:A5 SP:FB PPU:170, 62 CYC:19344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed25, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED25  85 47     STA $47 = 00                    A:37 X:FF Y:B8 P:25 SP:FB PPU:170, 68 CYC:19346
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed27, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED27  20 D4 FA  JSR $FAD4                       A:37 X:FF Y:B8 P:25 SP:FB PPU:170, 77 CYC:19349
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfad4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD4  24 01     BIT $01 = FF                    A:37 X:FF Y:B8 P:25 SP:F9 PPU:170, 95 CYC:19355
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfad6, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD6  38        SEC                             A:37 X:FF Y:B8 P:E5 SP:F9 PPU:170,104 CYC:19358
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD7  A9 F0     LDA #$F0                        A:37 X:FF Y:B8 P:E5 SP:F9 PPU:170,110 CYC:19360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD9  60        RTS                             A:F0 X:FF Y:B8 P:E5 SP:F9 PPU:170,116 CYC:19362
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed2a, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED2A  F7 48    *ISB $48,X @ 47 = 37             A:F0 X:FF Y:B8 P:E5 SP:FB PPU:170,134 CYC:19368
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed2c, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED2C  EA        NOP                             A:B8 X:FF Y:B8 P:A5 SP:FB PPU:170,152 CYC:19374
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed2d, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED2D  EA        NOP                             A:B8 X:FF Y:B8 P:A5 SP:FB PPU:170,158 CYC:19376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed2e, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED2E  EA        NOP                             A:B8 X:FF Y:B8 P:A5 SP:FB PPU:170,164 CYC:19378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed2f, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED2F  EA        NOP                             A:B8 X:FF Y:B8 P:A5 SP:FB PPU:170,170 CYC:19380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed30, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED30  20 DA FA  JSR $FADA                       A:B8 X:FF Y:B8 P:A5 SP:FB PPU:170,176 CYC:19382
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfada, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADA  70 0A     BVS $FAE6                       A:B8 X:FF Y:B8 P:A5 SP:F9 PPU:170,194 CYC:19388
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfadc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADC  F0 08     BEQ $FAE6                       A:B8 X:FF Y:B8 P:A5 SP:F9 PPU:170,200 CYC:19390
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfade, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADE  10 06     BPL $FAE6                       A:B8 X:FF Y:B8 P:A5 SP:F9 PPU:170,206 CYC:19392
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE0  90 04     BCC $FAE6                       A:B8 X:FF Y:B8 P:A5 SP:F9 PPU:170,212 CYC:19394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae2, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE2  C9 B8     CMP #$B8                        A:B8 X:FF Y:B8 P:A5 SP:F9 PPU:170,218 CYC:19396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE4  F0 02     BEQ $FAE8                       A:B8 X:FF Y:B8 P:27 SP:F9 PPU:170,224 CYC:19398
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfae8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE8  60        RTS                             A:B8 X:FF Y:B8 P:27 SP:F9 PPU:170,233 CYC:19401
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed33, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED33  A5 47     LDA $47 = 38                    A:B8 X:FF Y:B8 P:27 SP:FB PPU:170,251 CYC:19407
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed35, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED35  C9 38     CMP #$38                        A:38 X:FF Y:B8 P:25 SP:FB PPU:170,260 CYC:19410
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed37, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED37  F0 02     BEQ $ED3B                       A:38 X:FF Y:B8 P:27 SP:FB PPU:170,266 CYC:19412
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed3b, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED3B  A9 EB     LDA #$EB                        A:38 X:FF Y:B8 P:27 SP:FB PPU:170,275 CYC:19415
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed3d, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED3D  8D 47 06  STA $0647 = 38                  A:EB X:FF Y:B8 P:A5 SP:FB PPU:170,281 CYC:19417
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed40, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED40  A0 FF     LDY #$FF                        A:EB X:FF Y:B8 P:A5 SP:FB PPU:170,293 CYC:19421
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed42, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED42  20 B1 FA  JSR $FAB1                       A:EB X:FF Y:FF P:A5 SP:FB PPU:170,299 CYC:19423
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab1, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB1  24 01     BIT $01 = FF                    A:EB X:FF Y:FF P:A5 SP:F9 PPU:170,317 CYC:19429
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfab3, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB3  18        CLC                             A:EB X:FF Y:FF P:E5 SP:F9 PPU:170,326 CYC:19432
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB4  A9 40     LDA #$40                        A:EB X:FF Y:FF P:E4 SP:F9 PPU:170,332 CYC:19434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB6  60        RTS                             A:40 X:FF Y:FF P:64 SP:F9 PPU:170,338 CYC:19436
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed45, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED45  FB 48 05 *ISB $0548,Y @ 0647 = EB         A:40 X:FF Y:FF P:64 SP:FB PPU:171, 15 CYC:19442
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xed48, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED48  EA        NOP                             A:53 X:FF Y:FF P:24 SP:FB PPU:171, 36 CYC:19449
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed49, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED49  EA        NOP                             A:53 X:FF Y:FF P:24 SP:FB PPU:171, 42 CYC:19451
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed4a, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED4A  08        PHP                             A:53 X:FF Y:FF P:24 SP:FB PPU:171, 48 CYC:19453
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed4b, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ED4B  48        PHA                             A:53 X:FF Y:FF P:24 SP:FA PPU:171, 57 CYC:19456
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed4c, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ED4C  A0 B9     LDY #$B9                        A:53 X:FF Y:FF P:24 SP:F9 PPU:171, 66 CYC:19459
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed4e, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ED4E  68        PLA                             A:53 X:FF Y:B9 P:A4 SP:F9 PPU:171, 72 CYC:19461
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed4f, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ED4F  28        PLP                             A:53 X:FF Y:B9 P:24 SP:FA PPU:171, 84 CYC:19465
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed50, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED50  20 B7 FA  JSR $FAB7                       A:53 X:FF Y:B9 P:24 SP:FB PPU:171, 96 CYC:19469
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB7  70 2D     BVS $FAE6                       A:53 X:FF Y:B9 P:24 SP:F9 PPU:171,114 CYC:19475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab9, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB9  B0 2B     BCS $FAE6                       A:53 X:FF Y:B9 P:24 SP:F9 PPU:171,120 CYC:19477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABB  30 29     BMI $FAE6                       A:53 X:FF Y:B9 P:24 SP:F9 PPU:171,126 CYC:19479
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABD  C9 53     CMP #$53                        A:53 X:FF Y:B9 P:24 SP:F9 PPU:171,132 CYC:19481
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABF  D0 25     BNE $FAE6                       A:53 X:FF Y:B9 P:27 SP:F9 PPU:171,138 CYC:19483
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC1  60        RTS                             A:53 X:FF Y:B9 P:27 SP:F9 PPU:171,144 CYC:19485
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed53, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED53  AD 47 06  LDA $0647 = EC                  A:53 X:FF Y:B9 P:27 SP:FB PPU:171,162 CYC:19491
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed56, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED56  C9 EC     CMP #$EC                        A:EC X:FF Y:B9 P:A5 SP:FB PPU:171,174 CYC:19495
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed58, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED58  F0 02     BEQ $ED5C                       A:EC X:FF Y:B9 P:27 SP:FB PPU:171,180 CYC:19497
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed5c, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xb9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED5C  A0 FF     LDY #$FF                        A:EC X:FF Y:B9 P:27 SP:FB PPU:171,189 CYC:19500
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed5e, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED5E  A9 FF     LDA #$FF                        A:EC X:FF Y:FF P:A5 SP:FB PPU:171,195 CYC:19502
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed60, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED60  8D 47 06  STA $0647 = EC                  A:FF X:FF Y:FF P:A5 SP:FB PPU:171,201 CYC:19504
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed63, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED63  20 C2 FA  JSR $FAC2                       A:FF X:FF Y:FF P:A5 SP:FB PPU:171,213 CYC:19508
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC2  B8        CLV                             A:FF X:FF Y:FF P:A5 SP:F9 PPU:171,231 CYC:19514
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC3  38        SEC                             A:FF X:FF Y:FF P:A5 SP:F9 PPU:171,237 CYC:19516
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC4  A9 FF     LDA #$FF                        A:FF X:FF Y:FF P:A5 SP:F9 PPU:171,243 CYC:19518
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC6  60        RTS                             A:FF X:FF Y:FF P:A5 SP:F9 PPU:171,249 CYC:19520
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed66, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED66  FB 48 05 *ISB $0548,Y @ 0647 = FF         A:FF X:FF Y:FF P:A5 SP:FB PPU:171,267 CYC:19526
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xed69, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED69  EA        NOP                             A:FF X:FF Y:FF P:A5 SP:FB PPU:171,288 CYC:19533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed6a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED6A  EA        NOP                             A:FF X:FF Y:FF P:A5 SP:FB PPU:171,294 CYC:19535
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed6b, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED6B  08        PHP                             A:FF X:FF Y:FF P:A5 SP:FB PPU:171,300 CYC:19537
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed6c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ED6C  48        PHA                             A:FF X:FF Y:FF P:A5 SP:FA PPU:171,309 CYC:19540
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed6d, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ED6D  A0 BA     LDY #$BA                        A:FF X:FF Y:FF P:A5 SP:F9 PPU:171,318 CYC:19543
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed6f, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ED6F  68        PLA                             A:FF X:FF Y:BA P:A5 SP:F9 PPU:171,324 CYC:19545
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed70, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ED70  28        PLP                             A:FF X:FF Y:BA P:A5 SP:FA PPU:171,336 CYC:19549
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed71, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED71  20 C7 FA  JSR $FAC7                       A:FF X:FF Y:BA P:A5 SP:FB PPU:172,  7 CYC:19553
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC7  70 1D     BVS $FAE6                       A:FF X:FF Y:BA P:A5 SP:F9 PPU:172, 25 CYC:19559
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC9  F0 1B     BEQ $FAE6                       A:FF X:FF Y:BA P:A5 SP:F9 PPU:172, 31 CYC:19561
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACB  10 19     BPL $FAE6                       A:FF X:FF Y:BA P:A5 SP:F9 PPU:172, 37 CYC:19563
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACD  90 17     BCC $FAE6                       A:FF X:FF Y:BA P:A5 SP:F9 PPU:172, 43 CYC:19565
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACF  C9 FF     CMP #$FF                        A:FF X:FF Y:BA P:A5 SP:F9 PPU:172, 49 CYC:19567
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD1  D0 13     BNE $FAE6                       A:FF X:FF Y:BA P:27 SP:F9 PPU:172, 55 CYC:19569
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD3  60        RTS                             A:FF X:FF Y:BA P:27 SP:F9 PPU:172, 61 CYC:19571
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed74, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED74  AD 47 06  LDA $0647 = 00                  A:FF X:FF Y:BA P:27 SP:FB PPU:172, 79 CYC:19577
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed77, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED77  C9 00     CMP #$00                        A:00 X:FF Y:BA P:27 SP:FB PPU:172, 91 CYC:19581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed79, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED79  F0 02     BEQ $ED7D                       A:00 X:FF Y:BA P:27 SP:FB PPU:172, 97 CYC:19583
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed7d, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xba, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED7D  A0 FF     LDY #$FF                        A:00 X:FF Y:BA P:27 SP:FB PPU:172,106 CYC:19586
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed7f, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED7F  A9 37     LDA #$37                        A:00 X:FF Y:FF P:A5 SP:FB PPU:172,112 CYC:19588
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed81, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED81  8D 47 06  STA $0647 = 00                  A:37 X:FF Y:FF P:25 SP:FB PPU:172,118 CYC:19590
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed84, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED84  20 D4 FA  JSR $FAD4                       A:37 X:FF Y:FF P:25 SP:FB PPU:172,130 CYC:19594
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfad4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD4  24 01     BIT $01 = FF                    A:37 X:FF Y:FF P:25 SP:F9 PPU:172,148 CYC:19600
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfad6, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD6  38        SEC                             A:37 X:FF Y:FF P:E5 SP:F9 PPU:172,157 CYC:19603
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD7  A9 F0     LDA #$F0                        A:37 X:FF Y:FF P:E5 SP:F9 PPU:172,163 CYC:19605
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD9  60        RTS                             A:F0 X:FF Y:FF P:E5 SP:F9 PPU:172,169 CYC:19607
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed87, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED87  FB 48 05 *ISB $0548,Y @ 0647 = 37         A:F0 X:FF Y:FF P:E5 SP:FB PPU:172,187 CYC:19613
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xed8a, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED8A  EA        NOP                             A:B8 X:FF Y:FF P:A5 SP:FB PPU:172,208 CYC:19620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed8b, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED8B  EA        NOP                             A:B8 X:FF Y:FF P:A5 SP:FB PPU:172,214 CYC:19622
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed8c, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED8C  08        PHP                             A:B8 X:FF Y:FF P:A5 SP:FB PPU:172,220 CYC:19624
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed8d, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ED8D  48        PHA                             A:B8 X:FF Y:FF P:A5 SP:FA PPU:172,229 CYC:19627
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed8e, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ED8E  A0 BB     LDY #$BB                        A:B8 X:FF Y:FF P:A5 SP:F9 PPU:172,238 CYC:19630
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed90, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // ED90  68        PLA                             A:B8 X:FF Y:BB P:A5 SP:F9 PPU:172,244 CYC:19632
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed91, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // ED91  28        PLP                             A:B8 X:FF Y:BB P:A5 SP:FA PPU:172,256 CYC:19636
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed92, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED92  20 DA FA  JSR $FADA                       A:B8 X:FF Y:BB P:A5 SP:FB PPU:172,268 CYC:19640
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfada, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADA  70 0A     BVS $FAE6                       A:B8 X:FF Y:BB P:A5 SP:F9 PPU:172,286 CYC:19646
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfadc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADC  F0 08     BEQ $FAE6                       A:B8 X:FF Y:BB P:A5 SP:F9 PPU:172,292 CYC:19648
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfade, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADE  10 06     BPL $FAE6                       A:B8 X:FF Y:BB P:A5 SP:F9 PPU:172,298 CYC:19650
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE0  90 04     BCC $FAE6                       A:B8 X:FF Y:BB P:A5 SP:F9 PPU:172,304 CYC:19652
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae2, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE2  C9 B8     CMP #$B8                        A:B8 X:FF Y:BB P:A5 SP:F9 PPU:172,310 CYC:19654
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE4  F0 02     BEQ $FAE8                       A:B8 X:FF Y:BB P:27 SP:F9 PPU:172,316 CYC:19656
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfae8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE8  60        RTS                             A:B8 X:FF Y:BB P:27 SP:F9 PPU:172,325 CYC:19659
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xed95, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED95  AD 47 06  LDA $0647 = 38                  A:B8 X:FF Y:BB P:27 SP:FB PPU:173,  2 CYC:19665
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xed98, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED98  C9 38     CMP #$38                        A:38 X:FF Y:BB P:25 SP:FB PPU:173, 14 CYC:19669
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xed9a, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED9A  F0 02     BEQ $ED9E                       A:38 X:FF Y:BB P:27 SP:FB PPU:173, 20 CYC:19671
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xed9e, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // ED9E  A0 BC     LDY #$BC                        A:38 X:FF Y:BB P:27 SP:FB PPU:173, 29 CYC:19674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeda0, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDA0  A2 FF     LDX #$FF                        A:38 X:FF Y:BC P:A5 SP:FB PPU:173, 35 CYC:19676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeda2, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDA2  A9 EB     LDA #$EB                        A:38 X:FF Y:BC P:A5 SP:FB PPU:173, 41 CYC:19678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeda4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDA4  8D 47 06  STA $0647 = 38                  A:EB X:FF Y:BC P:A5 SP:FB PPU:173, 47 CYC:19680
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeda7, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDA7  20 B1 FA  JSR $FAB1                       A:EB X:FF Y:BC P:A5 SP:FB PPU:173, 59 CYC:19684
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab1, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB1  24 01     BIT $01 = FF                    A:EB X:FF Y:BC P:A5 SP:F9 PPU:173, 77 CYC:19690
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfab3, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB3  18        CLC                             A:EB X:FF Y:BC P:E5 SP:F9 PPU:173, 86 CYC:19693
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab4, cpu.pc);
    try expectEqual(0xeb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB4  A9 40     LDA #$40                        A:EB X:FF Y:BC P:E4 SP:F9 PPU:173, 92 CYC:19695
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab6, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB6  60        RTS                             A:40 X:FF Y:BC P:64 SP:F9 PPU:173, 98 CYC:19697
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xedaa, cpu.pc);
    try expectEqual(0x40, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDAA  FF 48 05 *ISB $0548,X @ 0647 = EB         A:40 X:FF Y:BC P:64 SP:FB PPU:173,116 CYC:19703
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xedad, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDAD  EA        NOP                             A:53 X:FF Y:BC P:24 SP:FB PPU:173,137 CYC:19710
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedae, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDAE  EA        NOP                             A:53 X:FF Y:BC P:24 SP:FB PPU:173,143 CYC:19712
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedaf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDAF  EA        NOP                             A:53 X:FF Y:BC P:24 SP:FB PPU:173,149 CYC:19714
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedb0, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDB0  EA        NOP                             A:53 X:FF Y:BC P:24 SP:FB PPU:173,155 CYC:19716
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedb1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDB1  20 B7 FA  JSR $FAB7                       A:53 X:FF Y:BC P:24 SP:FB PPU:173,161 CYC:19718
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfab7, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB7  70 2D     BVS $FAE6                       A:53 X:FF Y:BC P:24 SP:F9 PPU:173,179 CYC:19724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab9, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB9  B0 2B     BCS $FAE6                       A:53 X:FF Y:BC P:24 SP:F9 PPU:173,185 CYC:19726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabb, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABB  30 29     BMI $FAE6                       A:53 X:FF Y:BC P:24 SP:F9 PPU:173,191 CYC:19728
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabd, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABD  C9 53     CMP #$53                        A:53 X:FF Y:BC P:24 SP:F9 PPU:173,197 CYC:19730
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfabf, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FABF  D0 25     BNE $FAE6                       A:53 X:FF Y:BC P:27 SP:F9 PPU:173,203 CYC:19732
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac1, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC1  60        RTS                             A:53 X:FF Y:BC P:27 SP:F9 PPU:173,209 CYC:19734
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xedb4, cpu.pc);
    try expectEqual(0x53, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDB4  AD 47 06  LDA $0647 = EC                  A:53 X:FF Y:BC P:27 SP:FB PPU:173,227 CYC:19740
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xedb7, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDB7  C9 EC     CMP #$EC                        A:EC X:FF Y:BC P:A5 SP:FB PPU:173,239 CYC:19744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedb9, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDB9  F0 02     BEQ $EDBD                       A:EC X:FF Y:BC P:27 SP:FB PPU:173,245 CYC:19746
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xedbd, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDBD  C8        INY                             A:EC X:FF Y:BC P:27 SP:FB PPU:173,254 CYC:19749
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedbe, cpu.pc);
    try expectEqual(0xec, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDBE  A9 FF     LDA #$FF                        A:EC X:FF Y:BD P:A5 SP:FB PPU:173,260 CYC:19751
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedc0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDC0  8D 47 06  STA $0647 = EC                  A:FF X:FF Y:BD P:A5 SP:FB PPU:173,266 CYC:19753
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xedc3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDC3  20 C2 FA  JSR $FAC2                       A:FF X:FF Y:BD P:A5 SP:FB PPU:173,278 CYC:19757
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac2, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC2  B8        CLV                             A:FF X:FF Y:BD P:A5 SP:F9 PPU:173,296 CYC:19763
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC3  38        SEC                             A:FF X:FF Y:BD P:A5 SP:F9 PPU:173,302 CYC:19765
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac4, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC4  A9 FF     LDA #$FF                        A:FF X:FF Y:BD P:A5 SP:F9 PPU:173,308 CYC:19767
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC6  60        RTS                             A:FF X:FF Y:BD P:A5 SP:F9 PPU:173,314 CYC:19769
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xedc6, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDC6  FF 48 05 *ISB $0548,X @ 0647 = FF         A:FF X:FF Y:BD P:A5 SP:FB PPU:173,332 CYC:19775
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xedc9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDC9  EA        NOP                             A:FF X:FF Y:BD P:A5 SP:FB PPU:174, 12 CYC:19782
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedca, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDCA  EA        NOP                             A:FF X:FF Y:BD P:A5 SP:FB PPU:174, 18 CYC:19784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedcb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDCB  EA        NOP                             A:FF X:FF Y:BD P:A5 SP:FB PPU:174, 24 CYC:19786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedcc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDCC  EA        NOP                             A:FF X:FF Y:BD P:A5 SP:FB PPU:174, 30 CYC:19788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedcd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDCD  20 C7 FA  JSR $FAC7                       A:FF X:FF Y:BD P:A5 SP:FB PPU:174, 36 CYC:19790
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfac7, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC7  70 1D     BVS $FAE6                       A:FF X:FF Y:BD P:A5 SP:F9 PPU:174, 54 CYC:19796
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfac9, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAC9  F0 1B     BEQ $FAE6                       A:FF X:FF Y:BD P:A5 SP:F9 PPU:174, 60 CYC:19798
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacb, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACB  10 19     BPL $FAE6                       A:FF X:FF Y:BD P:A5 SP:F9 PPU:174, 66 CYC:19800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacd, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACD  90 17     BCC $FAE6                       A:FF X:FF Y:BD P:A5 SP:F9 PPU:174, 72 CYC:19802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfacf, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FACF  C9 FF     CMP #$FF                        A:FF X:FF Y:BD P:A5 SP:F9 PPU:174, 78 CYC:19804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad1, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD1  D0 13     BNE $FAE6                       A:FF X:FF Y:BD P:27 SP:F9 PPU:174, 84 CYC:19806
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad3, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD3  60        RTS                             A:FF X:FF Y:BD P:27 SP:F9 PPU:174, 90 CYC:19808
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xedd0, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDD0  AD 47 06  LDA $0647 = 00                  A:FF X:FF Y:BD P:27 SP:FB PPU:174,108 CYC:19814
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xedd3, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDD3  C9 00     CMP #$00                        A:00 X:FF Y:BD P:27 SP:FB PPU:174,120 CYC:19818
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedd5, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDD5  F0 02     BEQ $EDD9                       A:00 X:FF Y:BD P:27 SP:FB PPU:174,126 CYC:19820
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xedd9, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbd, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDD9  C8        INY                             A:00 X:FF Y:BD P:27 SP:FB PPU:174,135 CYC:19823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedda, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDDA  A9 37     LDA #$37                        A:00 X:FF Y:BE P:A5 SP:FB PPU:174,141 CYC:19825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeddc, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDDC  8D 47 06  STA $0647 = 00                  A:37 X:FF Y:BE P:25 SP:FB PPU:174,147 CYC:19827
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeddf, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDDF  20 D4 FA  JSR $FAD4                       A:37 X:FF Y:BE P:25 SP:FB PPU:174,159 CYC:19831
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfad4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD4  24 01     BIT $01 = FF                    A:37 X:FF Y:BE P:25 SP:F9 PPU:174,177 CYC:19837
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfad6, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD6  38        SEC                             A:37 X:FF Y:BE P:E5 SP:F9 PPU:174,186 CYC:19840
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD7  A9 F0     LDA #$F0                        A:37 X:FF Y:BE P:E5 SP:F9 PPU:174,192 CYC:19842
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfad9, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAD9  60        RTS                             A:F0 X:FF Y:BE P:E5 SP:F9 PPU:174,198 CYC:19844
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xede2, cpu.pc);
    try expectEqual(0xf0, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDE2  FF 48 05 *ISB $0548,X @ 0647 = 37         A:F0 X:FF Y:BE P:E5 SP:FB PPU:174,216 CYC:19850
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xede5, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDE5  EA        NOP                             A:B8 X:FF Y:BE P:A5 SP:FB PPU:174,237 CYC:19857
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xede6, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDE6  EA        NOP                             A:B8 X:FF Y:BE P:A5 SP:FB PPU:174,243 CYC:19859
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xede7, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDE7  EA        NOP                             A:B8 X:FF Y:BE P:A5 SP:FB PPU:174,249 CYC:19861
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xede8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDE8  EA        NOP                             A:B8 X:FF Y:BE P:A5 SP:FB PPU:174,255 CYC:19863
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xede9, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDE9  20 DA FA  JSR $FADA                       A:B8 X:FF Y:BE P:A5 SP:FB PPU:174,261 CYC:19865
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfada, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADA  70 0A     BVS $FAE6                       A:B8 X:FF Y:BE P:A5 SP:F9 PPU:174,279 CYC:19871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfadc, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADC  F0 08     BEQ $FAE6                       A:B8 X:FF Y:BE P:A5 SP:F9 PPU:174,285 CYC:19873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfade, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FADE  10 06     BPL $FAE6                       A:B8 X:FF Y:BE P:A5 SP:F9 PPU:174,291 CYC:19875
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae0, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE0  90 04     BCC $FAE6                       A:B8 X:FF Y:BE P:A5 SP:F9 PPU:174,297 CYC:19877
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae2, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE2  C9 B8     CMP #$B8                        A:B8 X:FF Y:BE P:A5 SP:F9 PPU:174,303 CYC:19879
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfae4, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE4  F0 02     BEQ $FAE8                       A:B8 X:FF Y:BE P:27 SP:F9 PPU:174,309 CYC:19881
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfae8, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE8  60        RTS                             A:B8 X:FF Y:BE P:27 SP:F9 PPU:174,318 CYC:19884
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xedec, cpu.pc);
    try expectEqual(0xb8, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDEC  AD 47 06  LDA $0647 = 38                  A:B8 X:FF Y:BE P:27 SP:FB PPU:174,336 CYC:19890
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xedef, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDEF  C9 38     CMP #$38                        A:38 X:FF Y:BE P:25 SP:FB PPU:175,  7 CYC:19894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedf1, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDF1  F0 02     BEQ $EDF5                       A:38 X:FF Y:BE P:27 SP:FB PPU:175, 13 CYC:19896
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xedf5, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDF5  60        RTS                             A:38 X:FF Y:BE P:27 SP:FB PPU:175, 22 CYC:19899
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc641, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C641  20 F6 ED  JSR $EDF6                       A:38 X:FF Y:BE P:27 SP:FD PPU:175, 40 CYC:19905
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xedf6, cpu.pc);
    try expectEqual(0x38, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDF6  A9 FF     LDA #$FF                        A:38 X:FF Y:BE P:27 SP:FB PPU:175, 58 CYC:19911
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedf8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDF8  85 01     STA $01 = FF                    A:FF X:FF Y:BE P:A5 SP:FB PPU:175, 64 CYC:19913
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xedfa, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbe, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDFA  A0 BF     LDY #$BF                        A:FF X:FF Y:BE P:A5 SP:FB PPU:175, 73 CYC:19916
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedfc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDFC  A2 02     LDX #$02                        A:FF X:FF Y:BF P:A5 SP:FB PPU:175, 79 CYC:19918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xedfe, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EDFE  A9 47     LDA #$47                        A:FF X:02 Y:BF P:25 SP:FB PPU:175, 85 CYC:19920
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee00, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE00  85 47     STA $47 = 38                    A:47 X:02 Y:BF P:25 SP:FB PPU:175, 91 CYC:19922
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee02, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE02  A9 06     LDA #$06                        A:47 X:02 Y:BF P:25 SP:FB PPU:175,100 CYC:19925
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee04, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE04  85 48     STA $48 = 06                    A:06 X:02 Y:BF P:25 SP:FB PPU:175,106 CYC:19927
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee06, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE06  A9 A5     LDA #$A5                        A:06 X:02 Y:BF P:25 SP:FB PPU:175,115 CYC:19930
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee08, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE08  8D 47 06  STA $0647 = 38                  A:A5 X:02 Y:BF P:A5 SP:FB PPU:175,121 CYC:19932
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xee0b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE0B  20 7B FA  JSR $FA7B                       A:A5 X:02 Y:BF P:A5 SP:FB PPU:175,133 CYC:19936
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7B  24 01     BIT $01 = FF                    A:A5 X:02 Y:BF P:A5 SP:F9 PPU:175,151 CYC:19942
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7D  18        CLC                             A:A5 X:02 Y:BF P:E5 SP:F9 PPU:175,160 CYC:19945
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7e, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7E  A9 B3     LDA #$B3                        A:A5 X:02 Y:BF P:E4 SP:F9 PPU:175,166 CYC:19947
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa80, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA80  60        RTS                             A:B3 X:02 Y:BF P:E4 SP:F9 PPU:175,172 CYC:19949
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee0e, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE0E  03 45    *SLO ($45,X) @ 47 = 0647 = A5    A:B3 X:02 Y:BF P:E4 SP:FB PPU:175,190 CYC:19955
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xee10, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE10  EA        NOP                             A:FB X:02 Y:BF P:E5 SP:FB PPU:175,214 CYC:19963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee11, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE11  EA        NOP                             A:FB X:02 Y:BF P:E5 SP:FB PPU:175,220 CYC:19965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee12, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE12  EA        NOP                             A:FB X:02 Y:BF P:E5 SP:FB PPU:175,226 CYC:19967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee13, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE13  EA        NOP                             A:FB X:02 Y:BF P:E5 SP:FB PPU:175,232 CYC:19969
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee14, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE14  20 81 FA  JSR $FA81                       A:FB X:02 Y:BF P:E5 SP:FB PPU:175,238 CYC:19971
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa81, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA81  50 63     BVC $FAE6                       A:FB X:02 Y:BF P:E5 SP:F9 PPU:175,256 CYC:19977
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa83, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA83  90 61     BCC $FAE6                       A:FB X:02 Y:BF P:E5 SP:F9 PPU:175,262 CYC:19979
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa85, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA85  10 5F     BPL $FAE6                       A:FB X:02 Y:BF P:E5 SP:F9 PPU:175,268 CYC:19981
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa87, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA87  C9 FB     CMP #$FB                        A:FB X:02 Y:BF P:E5 SP:F9 PPU:175,274 CYC:19983
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa89, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA89  D0 5B     BNE $FAE6                       A:FB X:02 Y:BF P:67 SP:F9 PPU:175,280 CYC:19985
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8B  60        RTS                             A:FB X:02 Y:BF P:67 SP:F9 PPU:175,286 CYC:19987
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee17, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE17  AD 47 06  LDA $0647 = 4A                  A:FB X:02 Y:BF P:67 SP:FB PPU:175,304 CYC:19993
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xee1a, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE1A  C9 4A     CMP #$4A                        A:4A X:02 Y:BF P:65 SP:FB PPU:175,316 CYC:19997
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee1c, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE1C  F0 02     BEQ $EE20                       A:4A X:02 Y:BF P:67 SP:FB PPU:175,322 CYC:19999
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee20, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xbf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE20  C8        INY                             A:4A X:02 Y:BF P:67 SP:FB PPU:175,331 CYC:20002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee21, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE21  A9 29     LDA #$29                        A:4A X:02 Y:C0 P:E5 SP:FB PPU:175,337 CYC:20004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee23, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE23  8D 47 06  STA $0647 = 4A                  A:29 X:02 Y:C0 P:65 SP:FB PPU:176,  2 CYC:20006
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xee26, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE26  20 8C FA  JSR $FA8C                       A:29 X:02 Y:C0 P:65 SP:FB PPU:176, 14 CYC:20010
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8C  B8        CLV                             A:29 X:02 Y:C0 P:65 SP:F9 PPU:176, 32 CYC:20016
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8d, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8D  18        CLC                             A:29 X:02 Y:C0 P:25 SP:F9 PPU:176, 38 CYC:20018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8E  A9 C3     LDA #$C3                        A:29 X:02 Y:C0 P:24 SP:F9 PPU:176, 44 CYC:20020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa90, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA90  60        RTS                             A:C3 X:02 Y:C0 P:A4 SP:F9 PPU:176, 50 CYC:20022
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee29, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE29  03 45    *SLO ($45,X) @ 47 = 0647 = 29    A:C3 X:02 Y:C0 P:A4 SP:FB PPU:176, 68 CYC:20028
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xee2b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE2B  EA        NOP                             A:D3 X:02 Y:C0 P:A4 SP:FB PPU:176, 92 CYC:20036
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee2c, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE2C  EA        NOP                             A:D3 X:02 Y:C0 P:A4 SP:FB PPU:176, 98 CYC:20038
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee2d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE2D  EA        NOP                             A:D3 X:02 Y:C0 P:A4 SP:FB PPU:176,104 CYC:20040
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee2e, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE2E  EA        NOP                             A:D3 X:02 Y:C0 P:A4 SP:FB PPU:176,110 CYC:20042
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee2f, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE2F  20 91 FA  JSR $FA91                       A:D3 X:02 Y:C0 P:A4 SP:FB PPU:176,116 CYC:20044
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa91, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA91  70 53     BVS $FAE6                       A:D3 X:02 Y:C0 P:A4 SP:F9 PPU:176,134 CYC:20050
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa93, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA93  F0 51     BEQ $FAE6                       A:D3 X:02 Y:C0 P:A4 SP:F9 PPU:176,140 CYC:20052
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa95, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA95  10 4F     BPL $FAE6                       A:D3 X:02 Y:C0 P:A4 SP:F9 PPU:176,146 CYC:20054
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa97, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA97  B0 4D     BCS $FAE6                       A:D3 X:02 Y:C0 P:A4 SP:F9 PPU:176,152 CYC:20056
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa99, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA99  C9 D3     CMP #$D3                        A:D3 X:02 Y:C0 P:A4 SP:F9 PPU:176,158 CYC:20058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9B  D0 49     BNE $FAE6                       A:D3 X:02 Y:C0 P:27 SP:F9 PPU:176,164 CYC:20060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9D  60        RTS                             A:D3 X:02 Y:C0 P:27 SP:F9 PPU:176,170 CYC:20062
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee32, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE32  AD 47 06  LDA $0647 = 52                  A:D3 X:02 Y:C0 P:27 SP:FB PPU:176,188 CYC:20068
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xee35, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE35  C9 52     CMP #$52                        A:52 X:02 Y:C0 P:25 SP:FB PPU:176,200 CYC:20072
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee37, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE37  F0 02     BEQ $EE3B                       A:52 X:02 Y:C0 P:27 SP:FB PPU:176,206 CYC:20074
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee3b, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE3B  C8        INY                             A:52 X:02 Y:C0 P:27 SP:FB PPU:176,215 CYC:20077
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee3c, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE3C  A9 37     LDA #$37                        A:52 X:02 Y:C1 P:A5 SP:FB PPU:176,221 CYC:20079
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee3e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE3E  8D 47 06  STA $0647 = 52                  A:37 X:02 Y:C1 P:25 SP:FB PPU:176,227 CYC:20081
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xee41, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE41  20 9E FA  JSR $FA9E                       A:37 X:02 Y:C1 P:25 SP:FB PPU:176,239 CYC:20085
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9E  24 01     BIT $01 = FF                    A:37 X:02 Y:C1 P:25 SP:F9 PPU:176,257 CYC:20091
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa0, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA0  38        SEC                             A:37 X:02 Y:C1 P:E5 SP:F9 PPU:176,266 CYC:20094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA1  A9 10     LDA #$10                        A:37 X:02 Y:C1 P:E5 SP:F9 PPU:176,272 CYC:20096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa3, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA3  60        RTS                             A:10 X:02 Y:C1 P:65 SP:F9 PPU:176,278 CYC:20098
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee44, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE44  03 45    *SLO ($45,X) @ 47 = 0647 = 37    A:10 X:02 Y:C1 P:65 SP:FB PPU:176,296 CYC:20104
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xee46, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE46  EA        NOP                             A:7E X:02 Y:C1 P:64 SP:FB PPU:176,320 CYC:20112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee47, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE47  EA        NOP                             A:7E X:02 Y:C1 P:64 SP:FB PPU:176,326 CYC:20114
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee48, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE48  EA        NOP                             A:7E X:02 Y:C1 P:64 SP:FB PPU:176,332 CYC:20116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee49, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE49  EA        NOP                             A:7E X:02 Y:C1 P:64 SP:FB PPU:176,338 CYC:20118
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee4a, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE4A  20 A4 FA  JSR $FAA4                       A:7E X:02 Y:C1 P:64 SP:FB PPU:177,  3 CYC:20120
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa4, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA4  50 40     BVC $FAE6                       A:7E X:02 Y:C1 P:64 SP:F9 PPU:177, 21 CYC:20126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA6  F0 3E     BEQ $FAE6                       A:7E X:02 Y:C1 P:64 SP:F9 PPU:177, 27 CYC:20128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA8  30 3C     BMI $FAE6                       A:7E X:02 Y:C1 P:64 SP:F9 PPU:177, 33 CYC:20130
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaaa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAA  B0 3A     BCS $FAE6                       A:7E X:02 Y:C1 P:64 SP:F9 PPU:177, 39 CYC:20132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaac, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAC  C9 7E     CMP #$7E                        A:7E X:02 Y:C1 P:64 SP:F9 PPU:177, 45 CYC:20134
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaae, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAE  D0 36     BNE $FAE6                       A:7E X:02 Y:C1 P:67 SP:F9 PPU:177, 51 CYC:20136
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB0  60        RTS                             A:7E X:02 Y:C1 P:67 SP:F9 PPU:177, 57 CYC:20138
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee4d, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE4D  AD 47 06  LDA $0647 = 6E                  A:7E X:02 Y:C1 P:67 SP:FB PPU:177, 75 CYC:20144
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xee50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE50  C9 6E     CMP #$6E                        A:6E X:02 Y:C1 P:65 SP:FB PPU:177, 87 CYC:20148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE52  F0 02     BEQ $EE56                       A:6E X:02 Y:C1 P:67 SP:FB PPU:177, 93 CYC:20150
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee56, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE56  C8        INY                             A:6E X:02 Y:C1 P:67 SP:FB PPU:177,102 CYC:20153
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee57, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE57  A9 A5     LDA #$A5                        A:6E X:02 Y:C2 P:E5 SP:FB PPU:177,108 CYC:20155
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee59, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE59  85 47     STA $47 = 47                    A:A5 X:02 Y:C2 P:E5 SP:FB PPU:177,114 CYC:20157
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee5b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE5B  20 7B FA  JSR $FA7B                       A:A5 X:02 Y:C2 P:E5 SP:FB PPU:177,123 CYC:20160
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7B  24 01     BIT $01 = FF                    A:A5 X:02 Y:C2 P:E5 SP:F9 PPU:177,141 CYC:20166
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7D  18        CLC                             A:A5 X:02 Y:C2 P:E5 SP:F9 PPU:177,150 CYC:20169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7e, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7E  A9 B3     LDA #$B3                        A:A5 X:02 Y:C2 P:E4 SP:F9 PPU:177,156 CYC:20171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa80, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA80  60        RTS                             A:B3 X:02 Y:C2 P:E4 SP:F9 PPU:177,162 CYC:20173
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee5e, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE5E  07 47    *SLO $47 = A5                    A:B3 X:02 Y:C2 P:E4 SP:FB PPU:177,180 CYC:20179
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xee60, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE60  EA        NOP                             A:FB X:02 Y:C2 P:E5 SP:FB PPU:177,195 CYC:20184
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee61, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE61  EA        NOP                             A:FB X:02 Y:C2 P:E5 SP:FB PPU:177,201 CYC:20186
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee62, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE62  EA        NOP                             A:FB X:02 Y:C2 P:E5 SP:FB PPU:177,207 CYC:20188
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee63, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE63  EA        NOP                             A:FB X:02 Y:C2 P:E5 SP:FB PPU:177,213 CYC:20190
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee64, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE64  20 81 FA  JSR $FA81                       A:FB X:02 Y:C2 P:E5 SP:FB PPU:177,219 CYC:20192
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa81, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA81  50 63     BVC $FAE6                       A:FB X:02 Y:C2 P:E5 SP:F9 PPU:177,237 CYC:20198
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa83, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA83  90 61     BCC $FAE6                       A:FB X:02 Y:C2 P:E5 SP:F9 PPU:177,243 CYC:20200
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa85, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA85  10 5F     BPL $FAE6                       A:FB X:02 Y:C2 P:E5 SP:F9 PPU:177,249 CYC:20202
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa87, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA87  C9 FB     CMP #$FB                        A:FB X:02 Y:C2 P:E5 SP:F9 PPU:177,255 CYC:20204
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa89, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA89  D0 5B     BNE $FAE6                       A:FB X:02 Y:C2 P:67 SP:F9 PPU:177,261 CYC:20206
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8B  60        RTS                             A:FB X:02 Y:C2 P:67 SP:F9 PPU:177,267 CYC:20208
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee67, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE67  A5 47     LDA $47 = 4A                    A:FB X:02 Y:C2 P:67 SP:FB PPU:177,285 CYC:20214
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee69, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE69  C9 4A     CMP #$4A                        A:4A X:02 Y:C2 P:65 SP:FB PPU:177,294 CYC:20217
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee6b, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE6B  F0 02     BEQ $EE6F                       A:4A X:02 Y:C2 P:67 SP:FB PPU:177,300 CYC:20219
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee6f, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE6F  C8        INY                             A:4A X:02 Y:C2 P:67 SP:FB PPU:177,309 CYC:20222
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee70, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE70  A9 29     LDA #$29                        A:4A X:02 Y:C3 P:E5 SP:FB PPU:177,315 CYC:20224
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee72, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE72  85 47     STA $47 = 4A                    A:29 X:02 Y:C3 P:65 SP:FB PPU:177,321 CYC:20226
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee74, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE74  20 8C FA  JSR $FA8C                       A:29 X:02 Y:C3 P:65 SP:FB PPU:177,330 CYC:20229
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8C  B8        CLV                             A:29 X:02 Y:C3 P:65 SP:F9 PPU:178,  7 CYC:20235
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8d, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8D  18        CLC                             A:29 X:02 Y:C3 P:25 SP:F9 PPU:178, 13 CYC:20237
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8E  A9 C3     LDA #$C3                        A:29 X:02 Y:C3 P:24 SP:F9 PPU:178, 19 CYC:20239
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa90, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA90  60        RTS                             A:C3 X:02 Y:C3 P:A4 SP:F9 PPU:178, 25 CYC:20241
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee77, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE77  07 47    *SLO $47 = 29                    A:C3 X:02 Y:C3 P:A4 SP:FB PPU:178, 43 CYC:20247
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xee79, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE79  EA        NOP                             A:D3 X:02 Y:C3 P:A4 SP:FB PPU:178, 58 CYC:20252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee7a, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE7A  EA        NOP                             A:D3 X:02 Y:C3 P:A4 SP:FB PPU:178, 64 CYC:20254
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee7b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE7B  EA        NOP                             A:D3 X:02 Y:C3 P:A4 SP:FB PPU:178, 70 CYC:20256
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee7c, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE7C  EA        NOP                             A:D3 X:02 Y:C3 P:A4 SP:FB PPU:178, 76 CYC:20258
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee7d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE7D  20 91 FA  JSR $FA91                       A:D3 X:02 Y:C3 P:A4 SP:FB PPU:178, 82 CYC:20260
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa91, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA91  70 53     BVS $FAE6                       A:D3 X:02 Y:C3 P:A4 SP:F9 PPU:178,100 CYC:20266
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa93, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA93  F0 51     BEQ $FAE6                       A:D3 X:02 Y:C3 P:A4 SP:F9 PPU:178,106 CYC:20268
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa95, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA95  10 4F     BPL $FAE6                       A:D3 X:02 Y:C3 P:A4 SP:F9 PPU:178,112 CYC:20270
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa97, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA97  B0 4D     BCS $FAE6                       A:D3 X:02 Y:C3 P:A4 SP:F9 PPU:178,118 CYC:20272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa99, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA99  C9 D3     CMP #$D3                        A:D3 X:02 Y:C3 P:A4 SP:F9 PPU:178,124 CYC:20274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9B  D0 49     BNE $FAE6                       A:D3 X:02 Y:C3 P:27 SP:F9 PPU:178,130 CYC:20276
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9D  60        RTS                             A:D3 X:02 Y:C3 P:27 SP:F9 PPU:178,136 CYC:20278
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee80, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE80  A5 47     LDA $47 = 52                    A:D3 X:02 Y:C3 P:27 SP:FB PPU:178,154 CYC:20284
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee82, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE82  C9 52     CMP #$52                        A:52 X:02 Y:C3 P:25 SP:FB PPU:178,163 CYC:20287
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee84, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE84  F0 02     BEQ $EE88                       A:52 X:02 Y:C3 P:27 SP:FB PPU:178,169 CYC:20289
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee88, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE88  C8        INY                             A:52 X:02 Y:C3 P:27 SP:FB PPU:178,178 CYC:20292
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee89, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE89  A9 37     LDA #$37                        A:52 X:02 Y:C4 P:A5 SP:FB PPU:178,184 CYC:20294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee8b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE8B  85 47     STA $47 = 52                    A:37 X:02 Y:C4 P:25 SP:FB PPU:178,190 CYC:20296
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee8d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE8D  20 9E FA  JSR $FA9E                       A:37 X:02 Y:C4 P:25 SP:FB PPU:178,199 CYC:20299
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9E  24 01     BIT $01 = FF                    A:37 X:02 Y:C4 P:25 SP:F9 PPU:178,217 CYC:20305
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa0, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA0  38        SEC                             A:37 X:02 Y:C4 P:E5 SP:F9 PPU:178,226 CYC:20308
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA1  A9 10     LDA #$10                        A:37 X:02 Y:C4 P:E5 SP:F9 PPU:178,232 CYC:20310
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa3, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA3  60        RTS                             A:10 X:02 Y:C4 P:65 SP:F9 PPU:178,238 CYC:20312
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee90, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE90  07 47    *SLO $47 = 37                    A:10 X:02 Y:C4 P:65 SP:FB PPU:178,256 CYC:20318
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xee92, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE92  EA        NOP                             A:7E X:02 Y:C4 P:64 SP:FB PPU:178,271 CYC:20323
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee93, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE93  EA        NOP                             A:7E X:02 Y:C4 P:64 SP:FB PPU:178,277 CYC:20325
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee94, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE94  EA        NOP                             A:7E X:02 Y:C4 P:64 SP:FB PPU:178,283 CYC:20327
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee95, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE95  EA        NOP                             A:7E X:02 Y:C4 P:64 SP:FB PPU:178,289 CYC:20329
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee96, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE96  20 A4 FA  JSR $FAA4                       A:7E X:02 Y:C4 P:64 SP:FB PPU:178,295 CYC:20331
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa4, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA4  50 40     BVC $FAE6                       A:7E X:02 Y:C4 P:64 SP:F9 PPU:178,313 CYC:20337
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA6  F0 3E     BEQ $FAE6                       A:7E X:02 Y:C4 P:64 SP:F9 PPU:178,319 CYC:20339
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA8  30 3C     BMI $FAE6                       A:7E X:02 Y:C4 P:64 SP:F9 PPU:178,325 CYC:20341
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaaa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAA  B0 3A     BCS $FAE6                       A:7E X:02 Y:C4 P:64 SP:F9 PPU:178,331 CYC:20343
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaac, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAC  C9 7E     CMP #$7E                        A:7E X:02 Y:C4 P:64 SP:F9 PPU:178,337 CYC:20345
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaae, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAE  D0 36     BNE $FAE6                       A:7E X:02 Y:C4 P:67 SP:F9 PPU:179,  2 CYC:20347
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB0  60        RTS                             A:7E X:02 Y:C4 P:67 SP:F9 PPU:179,  8 CYC:20349
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xee99, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE99  A5 47     LDA $47 = 6E                    A:7E X:02 Y:C4 P:67 SP:FB PPU:179, 26 CYC:20355
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xee9b, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE9B  C9 6E     CMP #$6E                        A:6E X:02 Y:C4 P:65 SP:FB PPU:179, 35 CYC:20358
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xee9d, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EE9D  F0 02     BEQ $EEA1                       A:6E X:02 Y:C4 P:67 SP:FB PPU:179, 41 CYC:20360
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeea1, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEA1  C8        INY                             A:6E X:02 Y:C4 P:67 SP:FB PPU:179, 50 CYC:20363
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeea2, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEA2  A9 A5     LDA #$A5                        A:6E X:02 Y:C5 P:E5 SP:FB PPU:179, 56 CYC:20365
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeea4, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEA4  8D 47 06  STA $0647 = 6E                  A:A5 X:02 Y:C5 P:E5 SP:FB PPU:179, 62 CYC:20367
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeea7, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEA7  20 7B FA  JSR $FA7B                       A:A5 X:02 Y:C5 P:E5 SP:FB PPU:179, 74 CYC:20371
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7B  24 01     BIT $01 = FF                    A:A5 X:02 Y:C5 P:E5 SP:F9 PPU:179, 92 CYC:20377
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7D  18        CLC                             A:A5 X:02 Y:C5 P:E5 SP:F9 PPU:179,101 CYC:20380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7e, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7E  A9 B3     LDA #$B3                        A:A5 X:02 Y:C5 P:E4 SP:F9 PPU:179,107 CYC:20382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa80, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA80  60        RTS                             A:B3 X:02 Y:C5 P:E4 SP:F9 PPU:179,113 CYC:20384
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeeaa, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEAA  0F 47 06 *SLO $0647 = A5                  A:B3 X:02 Y:C5 P:E4 SP:FB PPU:179,131 CYC:20390
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeead, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEAD  EA        NOP                             A:FB X:02 Y:C5 P:E5 SP:FB PPU:179,149 CYC:20396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeeae, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEAE  EA        NOP                             A:FB X:02 Y:C5 P:E5 SP:FB PPU:179,155 CYC:20398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeeaf, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEAF  EA        NOP                             A:FB X:02 Y:C5 P:E5 SP:FB PPU:179,161 CYC:20400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeeb0, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEB0  EA        NOP                             A:FB X:02 Y:C5 P:E5 SP:FB PPU:179,167 CYC:20402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeeb1, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEB1  20 81 FA  JSR $FA81                       A:FB X:02 Y:C5 P:E5 SP:FB PPU:179,173 CYC:20404
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa81, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA81  50 63     BVC $FAE6                       A:FB X:02 Y:C5 P:E5 SP:F9 PPU:179,191 CYC:20410
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa83, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA83  90 61     BCC $FAE6                       A:FB X:02 Y:C5 P:E5 SP:F9 PPU:179,197 CYC:20412
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa85, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA85  10 5F     BPL $FAE6                       A:FB X:02 Y:C5 P:E5 SP:F9 PPU:179,203 CYC:20414
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa87, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA87  C9 FB     CMP #$FB                        A:FB X:02 Y:C5 P:E5 SP:F9 PPU:179,209 CYC:20416
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa89, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA89  D0 5B     BNE $FAE6                       A:FB X:02 Y:C5 P:67 SP:F9 PPU:179,215 CYC:20418
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8B  60        RTS                             A:FB X:02 Y:C5 P:67 SP:F9 PPU:179,221 CYC:20420
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeeb4, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEB4  AD 47 06  LDA $0647 = 4A                  A:FB X:02 Y:C5 P:67 SP:FB PPU:179,239 CYC:20426
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeeb7, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEB7  C9 4A     CMP #$4A                        A:4A X:02 Y:C5 P:65 SP:FB PPU:179,251 CYC:20430
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeeb9, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEB9  F0 02     BEQ $EEBD                       A:4A X:02 Y:C5 P:67 SP:FB PPU:179,257 CYC:20432
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeebd, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEBD  C8        INY                             A:4A X:02 Y:C5 P:67 SP:FB PPU:179,266 CYC:20435
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeebe, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEBE  A9 29     LDA #$29                        A:4A X:02 Y:C6 P:E5 SP:FB PPU:179,272 CYC:20437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeec0, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEC0  8D 47 06  STA $0647 = 4A                  A:29 X:02 Y:C6 P:65 SP:FB PPU:179,278 CYC:20439
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeec3, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEC3  20 8C FA  JSR $FA8C                       A:29 X:02 Y:C6 P:65 SP:FB PPU:179,290 CYC:20443
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8C  B8        CLV                             A:29 X:02 Y:C6 P:65 SP:F9 PPU:179,308 CYC:20449
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8d, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8D  18        CLC                             A:29 X:02 Y:C6 P:25 SP:F9 PPU:179,314 CYC:20451
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8E  A9 C3     LDA #$C3                        A:29 X:02 Y:C6 P:24 SP:F9 PPU:179,320 CYC:20453
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa90, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA90  60        RTS                             A:C3 X:02 Y:C6 P:A4 SP:F9 PPU:179,326 CYC:20455
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeec6, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEC6  0F 47 06 *SLO $0647 = 29                  A:C3 X:02 Y:C6 P:A4 SP:FB PPU:180,  3 CYC:20461
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeec9, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEC9  EA        NOP                             A:D3 X:02 Y:C6 P:A4 SP:FB PPU:180, 21 CYC:20467
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeeca, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EECA  EA        NOP                             A:D3 X:02 Y:C6 P:A4 SP:FB PPU:180, 27 CYC:20469
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeecb, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EECB  EA        NOP                             A:D3 X:02 Y:C6 P:A4 SP:FB PPU:180, 33 CYC:20471
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeecc, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EECC  EA        NOP                             A:D3 X:02 Y:C6 P:A4 SP:FB PPU:180, 39 CYC:20473
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeecd, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EECD  20 91 FA  JSR $FA91                       A:D3 X:02 Y:C6 P:A4 SP:FB PPU:180, 45 CYC:20475
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa91, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA91  70 53     BVS $FAE6                       A:D3 X:02 Y:C6 P:A4 SP:F9 PPU:180, 63 CYC:20481
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa93, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA93  F0 51     BEQ $FAE6                       A:D3 X:02 Y:C6 P:A4 SP:F9 PPU:180, 69 CYC:20483
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa95, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA95  10 4F     BPL $FAE6                       A:D3 X:02 Y:C6 P:A4 SP:F9 PPU:180, 75 CYC:20485
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa97, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA97  B0 4D     BCS $FAE6                       A:D3 X:02 Y:C6 P:A4 SP:F9 PPU:180, 81 CYC:20487
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa99, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA99  C9 D3     CMP #$D3                        A:D3 X:02 Y:C6 P:A4 SP:F9 PPU:180, 87 CYC:20489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9B  D0 49     BNE $FAE6                       A:D3 X:02 Y:C6 P:27 SP:F9 PPU:180, 93 CYC:20491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9D  60        RTS                             A:D3 X:02 Y:C6 P:27 SP:F9 PPU:180, 99 CYC:20493
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeed0, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EED0  AD 47 06  LDA $0647 = 52                  A:D3 X:02 Y:C6 P:27 SP:FB PPU:180,117 CYC:20499
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeed3, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EED3  C9 52     CMP #$52                        A:52 X:02 Y:C6 P:25 SP:FB PPU:180,129 CYC:20503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeed5, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EED5  F0 02     BEQ $EED9                       A:52 X:02 Y:C6 P:27 SP:FB PPU:180,135 CYC:20505
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeed9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EED9  C8        INY                             A:52 X:02 Y:C6 P:27 SP:FB PPU:180,144 CYC:20508
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeeda, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEDA  A9 37     LDA #$37                        A:52 X:02 Y:C7 P:A5 SP:FB PPU:180,150 CYC:20510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeedc, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEDC  8D 47 06  STA $0647 = 52                  A:37 X:02 Y:C7 P:25 SP:FB PPU:180,156 CYC:20512
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeedf, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEDF  20 9E FA  JSR $FA9E                       A:37 X:02 Y:C7 P:25 SP:FB PPU:180,168 CYC:20516
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9E  24 01     BIT $01 = FF                    A:37 X:02 Y:C7 P:25 SP:F9 PPU:180,186 CYC:20522
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa0, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA0  38        SEC                             A:37 X:02 Y:C7 P:E5 SP:F9 PPU:180,195 CYC:20525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA1  A9 10     LDA #$10                        A:37 X:02 Y:C7 P:E5 SP:F9 PPU:180,201 CYC:20527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa3, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA3  60        RTS                             A:10 X:02 Y:C7 P:65 SP:F9 PPU:180,207 CYC:20529
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeee2, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEE2  0F 47 06 *SLO $0647 = 37                  A:10 X:02 Y:C7 P:65 SP:FB PPU:180,225 CYC:20535
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeee5, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEE5  EA        NOP                             A:7E X:02 Y:C7 P:64 SP:FB PPU:180,243 CYC:20541
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeee6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEE6  EA        NOP                             A:7E X:02 Y:C7 P:64 SP:FB PPU:180,249 CYC:20543
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeee7, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEE7  EA        NOP                             A:7E X:02 Y:C7 P:64 SP:FB PPU:180,255 CYC:20545
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeee8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEE8  EA        NOP                             A:7E X:02 Y:C7 P:64 SP:FB PPU:180,261 CYC:20547
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeee9, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEE9  20 A4 FA  JSR $FAA4                       A:7E X:02 Y:C7 P:64 SP:FB PPU:180,267 CYC:20549
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa4, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA4  50 40     BVC $FAE6                       A:7E X:02 Y:C7 P:64 SP:F9 PPU:180,285 CYC:20555
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA6  F0 3E     BEQ $FAE6                       A:7E X:02 Y:C7 P:64 SP:F9 PPU:180,291 CYC:20557
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA8  30 3C     BMI $FAE6                       A:7E X:02 Y:C7 P:64 SP:F9 PPU:180,297 CYC:20559
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaaa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAA  B0 3A     BCS $FAE6                       A:7E X:02 Y:C7 P:64 SP:F9 PPU:180,303 CYC:20561
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaac, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAC  C9 7E     CMP #$7E                        A:7E X:02 Y:C7 P:64 SP:F9 PPU:180,309 CYC:20563
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaae, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAE  D0 36     BNE $FAE6                       A:7E X:02 Y:C7 P:67 SP:F9 PPU:180,315 CYC:20565
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB0  60        RTS                             A:7E X:02 Y:C7 P:67 SP:F9 PPU:180,321 CYC:20567
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeeec, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEEC  AD 47 06  LDA $0647 = 6E                  A:7E X:02 Y:C7 P:67 SP:FB PPU:180,339 CYC:20573
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeeef, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEEF  C9 6E     CMP #$6E                        A:6E X:02 Y:C7 P:65 SP:FB PPU:181, 10 CYC:20577
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeef1, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEF1  F0 02     BEQ $EEF5                       A:6E X:02 Y:C7 P:67 SP:FB PPU:181, 16 CYC:20579
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeef5, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEF5  A9 A5     LDA #$A5                        A:6E X:02 Y:C7 P:67 SP:FB PPU:181, 25 CYC:20582
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeef7, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEF7  8D 47 06  STA $0647 = 6E                  A:A5 X:02 Y:C7 P:E5 SP:FB PPU:181, 31 CYC:20584
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeefa, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEFA  A9 48     LDA #$48                        A:A5 X:02 Y:C7 P:E5 SP:FB PPU:181, 43 CYC:20588
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeefc, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEFC  85 45     STA $45 = 48                    A:48 X:02 Y:C7 P:65 SP:FB PPU:181, 49 CYC:20590
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeefe, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EEFE  A9 05     LDA #$05                        A:48 X:02 Y:C7 P:65 SP:FB PPU:181, 58 CYC:20593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef00, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF00  85 46     STA $46 = 05                    A:05 X:02 Y:C7 P:65 SP:FB PPU:181, 64 CYC:20595
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef02, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF02  A0 FF     LDY #$FF                        A:05 X:02 Y:C7 P:65 SP:FB PPU:181, 73 CYC:20598
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef04, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF04  20 7B FA  JSR $FA7B                       A:05 X:02 Y:FF P:E5 SP:FB PPU:181, 79 CYC:20600
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7b, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7B  24 01     BIT $01 = FF                    A:05 X:02 Y:FF P:E5 SP:F9 PPU:181, 97 CYC:20606
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7d, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7D  18        CLC                             A:05 X:02 Y:FF P:E5 SP:F9 PPU:181,106 CYC:20609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7e, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7E  A9 B3     LDA #$B3                        A:05 X:02 Y:FF P:E4 SP:F9 PPU:181,112 CYC:20611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa80, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA80  60        RTS                             A:B3 X:02 Y:FF P:E4 SP:F9 PPU:181,118 CYC:20613
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef07, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF07  13 45    *SLO ($45),Y = 0548 @ 0647 = A5  A:B3 X:02 Y:FF P:E4 SP:FB PPU:181,136 CYC:20619
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xef09, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF09  EA        NOP                             A:FB X:02 Y:FF P:E5 SP:FB PPU:181,160 CYC:20627
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef0a, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF0A  EA        NOP                             A:FB X:02 Y:FF P:E5 SP:FB PPU:181,166 CYC:20629
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef0b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF0B  08        PHP                             A:FB X:02 Y:FF P:E5 SP:FB PPU:181,172 CYC:20631
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef0c, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EF0C  48        PHA                             A:FB X:02 Y:FF P:E5 SP:FA PPU:181,181 CYC:20634
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef0d, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EF0D  A0 C8     LDY #$C8                        A:FB X:02 Y:FF P:E5 SP:F9 PPU:181,190 CYC:20637
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef0f, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EF0F  68        PLA                             A:FB X:02 Y:C8 P:E5 SP:F9 PPU:181,196 CYC:20639
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef10, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EF10  28        PLP                             A:FB X:02 Y:C8 P:E5 SP:FA PPU:181,208 CYC:20643
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef11, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF11  20 81 FA  JSR $FA81                       A:FB X:02 Y:C8 P:E5 SP:FB PPU:181,220 CYC:20647
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa81, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA81  50 63     BVC $FAE6                       A:FB X:02 Y:C8 P:E5 SP:F9 PPU:181,238 CYC:20653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa83, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA83  90 61     BCC $FAE6                       A:FB X:02 Y:C8 P:E5 SP:F9 PPU:181,244 CYC:20655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa85, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA85  10 5F     BPL $FAE6                       A:FB X:02 Y:C8 P:E5 SP:F9 PPU:181,250 CYC:20657
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa87, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA87  C9 FB     CMP #$FB                        A:FB X:02 Y:C8 P:E5 SP:F9 PPU:181,256 CYC:20659
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa89, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA89  D0 5B     BNE $FAE6                       A:FB X:02 Y:C8 P:67 SP:F9 PPU:181,262 CYC:20661
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8B  60        RTS                             A:FB X:02 Y:C8 P:67 SP:F9 PPU:181,268 CYC:20663
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef14, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF14  AD 47 06  LDA $0647 = 4A                  A:FB X:02 Y:C8 P:67 SP:FB PPU:181,286 CYC:20669
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef17, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF17  C9 4A     CMP #$4A                        A:4A X:02 Y:C8 P:65 SP:FB PPU:181,298 CYC:20673
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef19, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF19  F0 02     BEQ $EF1D                       A:4A X:02 Y:C8 P:67 SP:FB PPU:181,304 CYC:20675
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef1d, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF1D  A0 FF     LDY #$FF                        A:4A X:02 Y:C8 P:67 SP:FB PPU:181,313 CYC:20678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef1f, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF1F  A9 29     LDA #$29                        A:4A X:02 Y:FF P:E5 SP:FB PPU:181,319 CYC:20680
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef21, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF21  8D 47 06  STA $0647 = 4A                  A:29 X:02 Y:FF P:65 SP:FB PPU:181,325 CYC:20682
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef24, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF24  20 8C FA  JSR $FA8C                       A:29 X:02 Y:FF P:65 SP:FB PPU:181,337 CYC:20686
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8C  B8        CLV                             A:29 X:02 Y:FF P:65 SP:F9 PPU:182, 14 CYC:20692
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8d, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8D  18        CLC                             A:29 X:02 Y:FF P:25 SP:F9 PPU:182, 20 CYC:20694
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8E  A9 C3     LDA #$C3                        A:29 X:02 Y:FF P:24 SP:F9 PPU:182, 26 CYC:20696
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa90, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA90  60        RTS                             A:C3 X:02 Y:FF P:A4 SP:F9 PPU:182, 32 CYC:20698
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef27, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF27  13 45    *SLO ($45),Y = 0548 @ 0647 = 29  A:C3 X:02 Y:FF P:A4 SP:FB PPU:182, 50 CYC:20704
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xef29, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF29  EA        NOP                             A:D3 X:02 Y:FF P:A4 SP:FB PPU:182, 74 CYC:20712
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef2a, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF2A  EA        NOP                             A:D3 X:02 Y:FF P:A4 SP:FB PPU:182, 80 CYC:20714
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef2b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF2B  08        PHP                             A:D3 X:02 Y:FF P:A4 SP:FB PPU:182, 86 CYC:20716
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef2c, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EF2C  48        PHA                             A:D3 X:02 Y:FF P:A4 SP:FA PPU:182, 95 CYC:20719
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef2d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EF2D  A0 C9     LDY #$C9                        A:D3 X:02 Y:FF P:A4 SP:F9 PPU:182,104 CYC:20722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef2f, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EF2F  68        PLA                             A:D3 X:02 Y:C9 P:A4 SP:F9 PPU:182,110 CYC:20724
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef30, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EF30  28        PLP                             A:D3 X:02 Y:C9 P:A4 SP:FA PPU:182,122 CYC:20728
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef31, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF31  20 91 FA  JSR $FA91                       A:D3 X:02 Y:C9 P:A4 SP:FB PPU:182,134 CYC:20732
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa91, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA91  70 53     BVS $FAE6                       A:D3 X:02 Y:C9 P:A4 SP:F9 PPU:182,152 CYC:20738
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa93, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA93  F0 51     BEQ $FAE6                       A:D3 X:02 Y:C9 P:A4 SP:F9 PPU:182,158 CYC:20740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa95, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA95  10 4F     BPL $FAE6                       A:D3 X:02 Y:C9 P:A4 SP:F9 PPU:182,164 CYC:20742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa97, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA97  B0 4D     BCS $FAE6                       A:D3 X:02 Y:C9 P:A4 SP:F9 PPU:182,170 CYC:20744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa99, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA99  C9 D3     CMP #$D3                        A:D3 X:02 Y:C9 P:A4 SP:F9 PPU:182,176 CYC:20746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9B  D0 49     BNE $FAE6                       A:D3 X:02 Y:C9 P:27 SP:F9 PPU:182,182 CYC:20748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9D  60        RTS                             A:D3 X:02 Y:C9 P:27 SP:F9 PPU:182,188 CYC:20750
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef34, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF34  AD 47 06  LDA $0647 = 52                  A:D3 X:02 Y:C9 P:27 SP:FB PPU:182,206 CYC:20756
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef37, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF37  C9 52     CMP #$52                        A:52 X:02 Y:C9 P:25 SP:FB PPU:182,218 CYC:20760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef39, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF39  F0 02     BEQ $EF3D                       A:52 X:02 Y:C9 P:27 SP:FB PPU:182,224 CYC:20762
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef3d, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xc9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF3D  A0 FF     LDY #$FF                        A:52 X:02 Y:C9 P:27 SP:FB PPU:182,233 CYC:20765
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef3f, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF3F  A9 37     LDA #$37                        A:52 X:02 Y:FF P:A5 SP:FB PPU:182,239 CYC:20767
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef41, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF41  8D 47 06  STA $0647 = 52                  A:37 X:02 Y:FF P:25 SP:FB PPU:182,245 CYC:20769
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef44, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF44  20 9E FA  JSR $FA9E                       A:37 X:02 Y:FF P:25 SP:FB PPU:182,257 CYC:20773
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9E  24 01     BIT $01 = FF                    A:37 X:02 Y:FF P:25 SP:F9 PPU:182,275 CYC:20779
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa0, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA0  38        SEC                             A:37 X:02 Y:FF P:E5 SP:F9 PPU:182,284 CYC:20782
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA1  A9 10     LDA #$10                        A:37 X:02 Y:FF P:E5 SP:F9 PPU:182,290 CYC:20784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa3, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA3  60        RTS                             A:10 X:02 Y:FF P:65 SP:F9 PPU:182,296 CYC:20786
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef47, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF47  13 45    *SLO ($45),Y = 0548 @ 0647 = 37  A:10 X:02 Y:FF P:65 SP:FB PPU:182,314 CYC:20792
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xef49, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF49  EA        NOP                             A:7E X:02 Y:FF P:64 SP:FB PPU:182,338 CYC:20800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef4a, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF4A  EA        NOP                             A:7E X:02 Y:FF P:64 SP:FB PPU:183,  3 CYC:20802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef4b, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF4B  08        PHP                             A:7E X:02 Y:FF P:64 SP:FB PPU:183,  9 CYC:20804
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef4c, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EF4C  48        PHA                             A:7E X:02 Y:FF P:64 SP:FA PPU:183, 18 CYC:20807
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef4d, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EF4D  A0 CA     LDY #$CA                        A:7E X:02 Y:FF P:64 SP:F9 PPU:183, 27 CYC:20810
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef4f, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EF4F  68        PLA                             A:7E X:02 Y:CA P:E4 SP:F9 PPU:183, 33 CYC:20812
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef50, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EF50  28        PLP                             A:7E X:02 Y:CA P:64 SP:FA PPU:183, 45 CYC:20816
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef51, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF51  20 A4 FA  JSR $FAA4                       A:7E X:02 Y:CA P:64 SP:FB PPU:183, 57 CYC:20820
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa4, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA4  50 40     BVC $FAE6                       A:7E X:02 Y:CA P:64 SP:F9 PPU:183, 75 CYC:20826
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA6  F0 3E     BEQ $FAE6                       A:7E X:02 Y:CA P:64 SP:F9 PPU:183, 81 CYC:20828
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA8  30 3C     BMI $FAE6                       A:7E X:02 Y:CA P:64 SP:F9 PPU:183, 87 CYC:20830
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaaa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAA  B0 3A     BCS $FAE6                       A:7E X:02 Y:CA P:64 SP:F9 PPU:183, 93 CYC:20832
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaac, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAC  C9 7E     CMP #$7E                        A:7E X:02 Y:CA P:64 SP:F9 PPU:183, 99 CYC:20834
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaae, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAE  D0 36     BNE $FAE6                       A:7E X:02 Y:CA P:67 SP:F9 PPU:183,105 CYC:20836
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB0  60        RTS                             A:7E X:02 Y:CA P:67 SP:F9 PPU:183,111 CYC:20838
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef54, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF54  AD 47 06  LDA $0647 = 6E                  A:7E X:02 Y:CA P:67 SP:FB PPU:183,129 CYC:20844
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xef57, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF57  C9 6E     CMP #$6E                        A:6E X:02 Y:CA P:65 SP:FB PPU:183,141 CYC:20848
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef59, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF59  F0 02     BEQ $EF5D                       A:6E X:02 Y:CA P:67 SP:FB PPU:183,147 CYC:20850
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef5d, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xca, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF5D  A0 CB     LDY #$CB                        A:6E X:02 Y:CA P:67 SP:FB PPU:183,156 CYC:20853
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef5f, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF5F  A2 FF     LDX #$FF                        A:6E X:02 Y:CB P:E5 SP:FB PPU:183,162 CYC:20855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef61, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF61  A9 A5     LDA #$A5                        A:6E X:FF Y:CB P:E5 SP:FB PPU:183,168 CYC:20857
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef63, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF63  85 47     STA $47 = 6E                    A:A5 X:FF Y:CB P:E5 SP:FB PPU:183,174 CYC:20859
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef65, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF65  20 7B FA  JSR $FA7B                       A:A5 X:FF Y:CB P:E5 SP:FB PPU:183,183 CYC:20862
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7B  24 01     BIT $01 = FF                    A:A5 X:FF Y:CB P:E5 SP:F9 PPU:183,201 CYC:20868
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7D  18        CLC                             A:A5 X:FF Y:CB P:E5 SP:F9 PPU:183,210 CYC:20871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7e, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7E  A9 B3     LDA #$B3                        A:A5 X:FF Y:CB P:E4 SP:F9 PPU:183,216 CYC:20873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa80, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA80  60        RTS                             A:B3 X:FF Y:CB P:E4 SP:F9 PPU:183,222 CYC:20875
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef68, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF68  17 48    *SLO $48,X @ 47 = A5             A:B3 X:FF Y:CB P:E4 SP:FB PPU:183,240 CYC:20881
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef6a, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF6A  EA        NOP                             A:FB X:FF Y:CB P:E5 SP:FB PPU:183,258 CYC:20887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef6b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF6B  EA        NOP                             A:FB X:FF Y:CB P:E5 SP:FB PPU:183,264 CYC:20889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef6c, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF6C  EA        NOP                             A:FB X:FF Y:CB P:E5 SP:FB PPU:183,270 CYC:20891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef6d, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF6D  EA        NOP                             A:FB X:FF Y:CB P:E5 SP:FB PPU:183,276 CYC:20893
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef6e, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF6E  20 81 FA  JSR $FA81                       A:FB X:FF Y:CB P:E5 SP:FB PPU:183,282 CYC:20895
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa81, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA81  50 63     BVC $FAE6                       A:FB X:FF Y:CB P:E5 SP:F9 PPU:183,300 CYC:20901
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa83, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA83  90 61     BCC $FAE6                       A:FB X:FF Y:CB P:E5 SP:F9 PPU:183,306 CYC:20903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa85, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA85  10 5F     BPL $FAE6                       A:FB X:FF Y:CB P:E5 SP:F9 PPU:183,312 CYC:20905
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa87, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA87  C9 FB     CMP #$FB                        A:FB X:FF Y:CB P:E5 SP:F9 PPU:183,318 CYC:20907
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa89, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA89  D0 5B     BNE $FAE6                       A:FB X:FF Y:CB P:67 SP:F9 PPU:183,324 CYC:20909
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8B  60        RTS                             A:FB X:FF Y:CB P:67 SP:F9 PPU:183,330 CYC:20911
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef71, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF71  A5 47     LDA $47 = 4A                    A:FB X:FF Y:CB P:67 SP:FB PPU:184,  7 CYC:20917
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef73, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF73  C9 4A     CMP #$4A                        A:4A X:FF Y:CB P:65 SP:FB PPU:184, 16 CYC:20920
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef75, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF75  F0 02     BEQ $EF79                       A:4A X:FF Y:CB P:67 SP:FB PPU:184, 22 CYC:20922
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef79, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF79  C8        INY                             A:4A X:FF Y:CB P:67 SP:FB PPU:184, 31 CYC:20925
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef7a, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF7A  A9 29     LDA #$29                        A:4A X:FF Y:CC P:E5 SP:FB PPU:184, 37 CYC:20927
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef7c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF7C  85 47     STA $47 = 4A                    A:29 X:FF Y:CC P:65 SP:FB PPU:184, 43 CYC:20929
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef7e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF7E  20 8C FA  JSR $FA8C                       A:29 X:FF Y:CC P:65 SP:FB PPU:184, 52 CYC:20932
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8C  B8        CLV                             A:29 X:FF Y:CC P:65 SP:F9 PPU:184, 70 CYC:20938
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8d, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8D  18        CLC                             A:29 X:FF Y:CC P:25 SP:F9 PPU:184, 76 CYC:20940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8E  A9 C3     LDA #$C3                        A:29 X:FF Y:CC P:24 SP:F9 PPU:184, 82 CYC:20942
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa90, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA90  60        RTS                             A:C3 X:FF Y:CC P:A4 SP:F9 PPU:184, 88 CYC:20944
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef81, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF81  17 48    *SLO $48,X @ 47 = 29             A:C3 X:FF Y:CC P:A4 SP:FB PPU:184,106 CYC:20950
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef83, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF83  EA        NOP                             A:D3 X:FF Y:CC P:A4 SP:FB PPU:184,124 CYC:20956
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef84, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF84  EA        NOP                             A:D3 X:FF Y:CC P:A4 SP:FB PPU:184,130 CYC:20958
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef85, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF85  EA        NOP                             A:D3 X:FF Y:CC P:A4 SP:FB PPU:184,136 CYC:20960
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef86, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF86  EA        NOP                             A:D3 X:FF Y:CC P:A4 SP:FB PPU:184,142 CYC:20962
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef87, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF87  20 91 FA  JSR $FA91                       A:D3 X:FF Y:CC P:A4 SP:FB PPU:184,148 CYC:20964
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa91, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA91  70 53     BVS $FAE6                       A:D3 X:FF Y:CC P:A4 SP:F9 PPU:184,166 CYC:20970
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa93, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA93  F0 51     BEQ $FAE6                       A:D3 X:FF Y:CC P:A4 SP:F9 PPU:184,172 CYC:20972
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa95, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA95  10 4F     BPL $FAE6                       A:D3 X:FF Y:CC P:A4 SP:F9 PPU:184,178 CYC:20974
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa97, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA97  B0 4D     BCS $FAE6                       A:D3 X:FF Y:CC P:A4 SP:F9 PPU:184,184 CYC:20976
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa99, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA99  C9 D3     CMP #$D3                        A:D3 X:FF Y:CC P:A4 SP:F9 PPU:184,190 CYC:20978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9B  D0 49     BNE $FAE6                       A:D3 X:FF Y:CC P:27 SP:F9 PPU:184,196 CYC:20980
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9D  60        RTS                             A:D3 X:FF Y:CC P:27 SP:F9 PPU:184,202 CYC:20982
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef8a, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF8A  A5 47     LDA $47 = 52                    A:D3 X:FF Y:CC P:27 SP:FB PPU:184,220 CYC:20988
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef8c, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF8C  C9 52     CMP #$52                        A:52 X:FF Y:CC P:25 SP:FB PPU:184,229 CYC:20991
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef8e, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF8E  F0 02     BEQ $EF92                       A:52 X:FF Y:CC P:27 SP:FB PPU:184,235 CYC:20993
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef92, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF92  C8        INY                             A:52 X:FF Y:CC P:27 SP:FB PPU:184,244 CYC:20996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef93, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF93  A9 37     LDA #$37                        A:52 X:FF Y:CD P:A5 SP:FB PPU:184,250 CYC:20998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef95, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF95  85 47     STA $47 = 52                    A:37 X:FF Y:CD P:25 SP:FB PPU:184,256 CYC:21000
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xef97, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF97  20 9E FA  JSR $FA9E                       A:37 X:FF Y:CD P:25 SP:FB PPU:184,265 CYC:21003
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9E  24 01     BIT $01 = FF                    A:37 X:FF Y:CD P:25 SP:F9 PPU:184,283 CYC:21009
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa0, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA0  38        SEC                             A:37 X:FF Y:CD P:E5 SP:F9 PPU:184,292 CYC:21012
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA1  A9 10     LDA #$10                        A:37 X:FF Y:CD P:E5 SP:F9 PPU:184,298 CYC:21014
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa3, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA3  60        RTS                             A:10 X:FF Y:CD P:65 SP:F9 PPU:184,304 CYC:21016
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef9a, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF9A  17 48    *SLO $48,X @ 47 = 37             A:10 X:FF Y:CD P:65 SP:FB PPU:184,322 CYC:21022
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xef9c, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF9C  EA        NOP                             A:7E X:FF Y:CD P:64 SP:FB PPU:184,340 CYC:21028
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef9d, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF9D  EA        NOP                             A:7E X:FF Y:CD P:64 SP:FB PPU:185,  5 CYC:21030
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef9e, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF9E  EA        NOP                             A:7E X:FF Y:CD P:64 SP:FB PPU:185, 11 CYC:21032
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xef9f, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EF9F  EA        NOP                             A:7E X:FF Y:CD P:64 SP:FB PPU:185, 17 CYC:21034
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefa0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFA0  20 A4 FA  JSR $FAA4                       A:7E X:FF Y:CD P:64 SP:FB PPU:185, 23 CYC:21036
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa4, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA4  50 40     BVC $FAE6                       A:7E X:FF Y:CD P:64 SP:F9 PPU:185, 41 CYC:21042
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA6  F0 3E     BEQ $FAE6                       A:7E X:FF Y:CD P:64 SP:F9 PPU:185, 47 CYC:21044
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA8  30 3C     BMI $FAE6                       A:7E X:FF Y:CD P:64 SP:F9 PPU:185, 53 CYC:21046
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaaa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAA  B0 3A     BCS $FAE6                       A:7E X:FF Y:CD P:64 SP:F9 PPU:185, 59 CYC:21048
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaac, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAC  C9 7E     CMP #$7E                        A:7E X:FF Y:CD P:64 SP:F9 PPU:185, 65 CYC:21050
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaae, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAE  D0 36     BNE $FAE6                       A:7E X:FF Y:CD P:67 SP:F9 PPU:185, 71 CYC:21052
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB0  60        RTS                             A:7E X:FF Y:CD P:67 SP:F9 PPU:185, 77 CYC:21054
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xefa3, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFA3  A5 47     LDA $47 = 6E                    A:7E X:FF Y:CD P:67 SP:FB PPU:185, 95 CYC:21060
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefa5, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFA5  C9 6E     CMP #$6E                        A:6E X:FF Y:CD P:65 SP:FB PPU:185,104 CYC:21063
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefa7, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFA7  F0 02     BEQ $EFAB                       A:6E X:FF Y:CD P:67 SP:FB PPU:185,110 CYC:21065
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefab, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFAB  A9 A5     LDA #$A5                        A:6E X:FF Y:CD P:67 SP:FB PPU:185,119 CYC:21068
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefad, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFAD  8D 47 06  STA $0647 = 6E                  A:A5 X:FF Y:CD P:E5 SP:FB PPU:185,125 CYC:21070
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefb0, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFB0  A0 FF     LDY #$FF                        A:A5 X:FF Y:CD P:E5 SP:FB PPU:185,137 CYC:21074
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefb2, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFB2  20 7B FA  JSR $FA7B                       A:A5 X:FF Y:FF P:E5 SP:FB PPU:185,143 CYC:21076
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7B  24 01     BIT $01 = FF                    A:A5 X:FF Y:FF P:E5 SP:F9 PPU:185,161 CYC:21082
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7D  18        CLC                             A:A5 X:FF Y:FF P:E5 SP:F9 PPU:185,170 CYC:21085
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7e, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7E  A9 B3     LDA #$B3                        A:A5 X:FF Y:FF P:E4 SP:F9 PPU:185,176 CYC:21087
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa80, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA80  60        RTS                             A:B3 X:FF Y:FF P:E4 SP:F9 PPU:185,182 CYC:21089
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xefb5, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFB5  1B 48 05 *SLO $0548,Y @ 0647 = A5         A:B3 X:FF Y:FF P:E4 SP:FB PPU:185,200 CYC:21095
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xefb8, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFB8  EA        NOP                             A:FB X:FF Y:FF P:E5 SP:FB PPU:185,221 CYC:21102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefb9, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFB9  EA        NOP                             A:FB X:FF Y:FF P:E5 SP:FB PPU:185,227 CYC:21104
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefba, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFBA  08        PHP                             A:FB X:FF Y:FF P:E5 SP:FB PPU:185,233 CYC:21106
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefbb, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EFBB  48        PHA                             A:FB X:FF Y:FF P:E5 SP:FA PPU:185,242 CYC:21109
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefbc, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EFBC  A0 CE     LDY #$CE                        A:FB X:FF Y:FF P:E5 SP:F9 PPU:185,251 CYC:21112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefbe, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EFBE  68        PLA                             A:FB X:FF Y:CE P:E5 SP:F9 PPU:185,257 CYC:21114
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefbf, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EFBF  28        PLP                             A:FB X:FF Y:CE P:E5 SP:FA PPU:185,269 CYC:21118
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefc0, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFC0  20 81 FA  JSR $FA81                       A:FB X:FF Y:CE P:E5 SP:FB PPU:185,281 CYC:21122
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa81, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA81  50 63     BVC $FAE6                       A:FB X:FF Y:CE P:E5 SP:F9 PPU:185,299 CYC:21128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa83, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA83  90 61     BCC $FAE6                       A:FB X:FF Y:CE P:E5 SP:F9 PPU:185,305 CYC:21130
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa85, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA85  10 5F     BPL $FAE6                       A:FB X:FF Y:CE P:E5 SP:F9 PPU:185,311 CYC:21132
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa87, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA87  C9 FB     CMP #$FB                        A:FB X:FF Y:CE P:E5 SP:F9 PPU:185,317 CYC:21134
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa89, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA89  D0 5B     BNE $FAE6                       A:FB X:FF Y:CE P:67 SP:F9 PPU:185,323 CYC:21136
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8B  60        RTS                             A:FB X:FF Y:CE P:67 SP:F9 PPU:185,329 CYC:21138
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xefc3, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFC3  AD 47 06  LDA $0647 = 4A                  A:FB X:FF Y:CE P:67 SP:FB PPU:186,  6 CYC:21144
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefc6, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFC6  C9 4A     CMP #$4A                        A:4A X:FF Y:CE P:65 SP:FB PPU:186, 18 CYC:21148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefc8, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFC8  F0 02     BEQ $EFCC                       A:4A X:FF Y:CE P:67 SP:FB PPU:186, 24 CYC:21150
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefcc, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xce, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFCC  A0 FF     LDY #$FF                        A:4A X:FF Y:CE P:67 SP:FB PPU:186, 33 CYC:21153
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefce, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFCE  A9 29     LDA #$29                        A:4A X:FF Y:FF P:E5 SP:FB PPU:186, 39 CYC:21155
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefd0, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFD0  8D 47 06  STA $0647 = 4A                  A:29 X:FF Y:FF P:65 SP:FB PPU:186, 45 CYC:21157
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefd3, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFD3  20 8C FA  JSR $FA8C                       A:29 X:FF Y:FF P:65 SP:FB PPU:186, 57 CYC:21161
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8C  B8        CLV                             A:29 X:FF Y:FF P:65 SP:F9 PPU:186, 75 CYC:21167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8d, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8D  18        CLC                             A:29 X:FF Y:FF P:25 SP:F9 PPU:186, 81 CYC:21169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8E  A9 C3     LDA #$C3                        A:29 X:FF Y:FF P:24 SP:F9 PPU:186, 87 CYC:21171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa90, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA90  60        RTS                             A:C3 X:FF Y:FF P:A4 SP:F9 PPU:186, 93 CYC:21173
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xefd6, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFD6  1B 48 05 *SLO $0548,Y @ 0647 = 29         A:C3 X:FF Y:FF P:A4 SP:FB PPU:186,111 CYC:21179
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xefd9, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFD9  EA        NOP                             A:D3 X:FF Y:FF P:A4 SP:FB PPU:186,132 CYC:21186
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefda, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFDA  EA        NOP                             A:D3 X:FF Y:FF P:A4 SP:FB PPU:186,138 CYC:21188
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefdb, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFDB  08        PHP                             A:D3 X:FF Y:FF P:A4 SP:FB PPU:186,144 CYC:21190
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefdc, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EFDC  48        PHA                             A:D3 X:FF Y:FF P:A4 SP:FA PPU:186,153 CYC:21193
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefdd, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EFDD  A0 CF     LDY #$CF                        A:D3 X:FF Y:FF P:A4 SP:F9 PPU:186,162 CYC:21196
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefdf, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EFDF  68        PLA                             A:D3 X:FF Y:CF P:A4 SP:F9 PPU:186,168 CYC:21198
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefe0, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EFE0  28        PLP                             A:D3 X:FF Y:CF P:A4 SP:FA PPU:186,180 CYC:21202
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefe1, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFE1  20 91 FA  JSR $FA91                       A:D3 X:FF Y:CF P:A4 SP:FB PPU:186,192 CYC:21206
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa91, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA91  70 53     BVS $FAE6                       A:D3 X:FF Y:CF P:A4 SP:F9 PPU:186,210 CYC:21212
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa93, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA93  F0 51     BEQ $FAE6                       A:D3 X:FF Y:CF P:A4 SP:F9 PPU:186,216 CYC:21214
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa95, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA95  10 4F     BPL $FAE6                       A:D3 X:FF Y:CF P:A4 SP:F9 PPU:186,222 CYC:21216
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa97, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA97  B0 4D     BCS $FAE6                       A:D3 X:FF Y:CF P:A4 SP:F9 PPU:186,228 CYC:21218
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa99, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA99  C9 D3     CMP #$D3                        A:D3 X:FF Y:CF P:A4 SP:F9 PPU:186,234 CYC:21220
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9B  D0 49     BNE $FAE6                       A:D3 X:FF Y:CF P:27 SP:F9 PPU:186,240 CYC:21222
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9D  60        RTS                             A:D3 X:FF Y:CF P:27 SP:F9 PPU:186,246 CYC:21224
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xefe4, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFE4  AD 47 06  LDA $0647 = 52                  A:D3 X:FF Y:CF P:27 SP:FB PPU:186,264 CYC:21230
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xefe7, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFE7  C9 52     CMP #$52                        A:52 X:FF Y:CF P:25 SP:FB PPU:186,276 CYC:21234
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefe9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFE9  F0 02     BEQ $EFED                       A:52 X:FF Y:CF P:27 SP:FB PPU:186,282 CYC:21236
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xefed, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xcf, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFED  A0 FF     LDY #$FF                        A:52 X:FF Y:CF P:27 SP:FB PPU:186,291 CYC:21239
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xefef, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFEF  A9 37     LDA #$37                        A:52 X:FF Y:FF P:A5 SP:FB PPU:186,297 CYC:21241
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeff1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFF1  8D 47 06  STA $0647 = 52                  A:37 X:FF Y:FF P:25 SP:FB PPU:186,303 CYC:21243
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xeff4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFF4  20 9E FA  JSR $FA9E                       A:37 X:FF Y:FF P:25 SP:FB PPU:186,315 CYC:21247
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9E  24 01     BIT $01 = FF                    A:37 X:FF Y:FF P:25 SP:F9 PPU:186,333 CYC:21253
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa0, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA0  38        SEC                             A:37 X:FF Y:FF P:E5 SP:F9 PPU:187,  1 CYC:21256
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA1  A9 10     LDA #$10                        A:37 X:FF Y:FF P:E5 SP:F9 PPU:187,  7 CYC:21258
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa3, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA3  60        RTS                             A:10 X:FF Y:FF P:65 SP:F9 PPU:187, 13 CYC:21260
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xeff7, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFF7  1B 48 05 *SLO $0548,Y @ 0647 = 37         A:10 X:FF Y:FF P:65 SP:FB PPU:187, 31 CYC:21266
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xeffa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFFA  EA        NOP                             A:7E X:FF Y:FF P:64 SP:FB PPU:187, 52 CYC:21273
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeffb, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFFB  EA        NOP                             A:7E X:FF Y:FF P:64 SP:FB PPU:187, 58 CYC:21275
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xeffc, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // EFFC  08        PHP                             A:7E X:FF Y:FF P:64 SP:FB PPU:187, 64 CYC:21277
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeffd, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // EFFD  48        PHA                             A:7E X:FF Y:FF P:64 SP:FA PPU:187, 73 CYC:21280
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xeffe, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // EFFE  A0 D0     LDY #$D0                        A:7E X:FF Y:FF P:64 SP:F9 PPU:187, 82 CYC:21283
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf000, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F000  68        PLA                             A:7E X:FF Y:D0 P:E4 SP:F9 PPU:187, 88 CYC:21285
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf001, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F001  28        PLP                             A:7E X:FF Y:D0 P:64 SP:FA PPU:187,100 CYC:21289
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf002, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F002  20 A4 FA  JSR $FAA4                       A:7E X:FF Y:D0 P:64 SP:FB PPU:187,112 CYC:21293
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa4, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA4  50 40     BVC $FAE6                       A:7E X:FF Y:D0 P:64 SP:F9 PPU:187,130 CYC:21299
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA6  F0 3E     BEQ $FAE6                       A:7E X:FF Y:D0 P:64 SP:F9 PPU:187,136 CYC:21301
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA8  30 3C     BMI $FAE6                       A:7E X:FF Y:D0 P:64 SP:F9 PPU:187,142 CYC:21303
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaaa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAA  B0 3A     BCS $FAE6                       A:7E X:FF Y:D0 P:64 SP:F9 PPU:187,148 CYC:21305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaac, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAC  C9 7E     CMP #$7E                        A:7E X:FF Y:D0 P:64 SP:F9 PPU:187,154 CYC:21307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaae, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAE  D0 36     BNE $FAE6                       A:7E X:FF Y:D0 P:67 SP:F9 PPU:187,160 CYC:21309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB0  60        RTS                             A:7E X:FF Y:D0 P:67 SP:F9 PPU:187,166 CYC:21311
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf005, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F005  AD 47 06  LDA $0647 = 6E                  A:7E X:FF Y:D0 P:67 SP:FB PPU:187,184 CYC:21317
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf008, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F008  C9 6E     CMP #$6E                        A:6E X:FF Y:D0 P:65 SP:FB PPU:187,196 CYC:21321
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf00a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F00A  F0 02     BEQ $F00E                       A:6E X:FF Y:D0 P:67 SP:FB PPU:187,202 CYC:21323
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf00e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F00E  A0 D1     LDY #$D1                        A:6E X:FF Y:D0 P:67 SP:FB PPU:187,211 CYC:21326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf010, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F010  A2 FF     LDX #$FF                        A:6E X:FF Y:D1 P:E5 SP:FB PPU:187,217 CYC:21328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf012, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F012  A9 A5     LDA #$A5                        A:6E X:FF Y:D1 P:E5 SP:FB PPU:187,223 CYC:21330
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf014, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F014  8D 47 06  STA $0647 = 6E                  A:A5 X:FF Y:D1 P:E5 SP:FB PPU:187,229 CYC:21332
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf017, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F017  20 7B FA  JSR $FA7B                       A:A5 X:FF Y:D1 P:E5 SP:FB PPU:187,241 CYC:21336
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7B  24 01     BIT $01 = FF                    A:A5 X:FF Y:D1 P:E5 SP:F9 PPU:187,259 CYC:21342
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7D  18        CLC                             A:A5 X:FF Y:D1 P:E5 SP:F9 PPU:187,268 CYC:21345
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7e, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7E  A9 B3     LDA #$B3                        A:A5 X:FF Y:D1 P:E4 SP:F9 PPU:187,274 CYC:21347
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa80, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA80  60        RTS                             A:B3 X:FF Y:D1 P:E4 SP:F9 PPU:187,280 CYC:21349
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf01a, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F01A  1F 48 05 *SLO $0548,X @ 0647 = A5         A:B3 X:FF Y:D1 P:E4 SP:FB PPU:187,298 CYC:21355
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf01d, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F01D  EA        NOP                             A:FB X:FF Y:D1 P:E5 SP:FB PPU:187,319 CYC:21362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf01e, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F01E  EA        NOP                             A:FB X:FF Y:D1 P:E5 SP:FB PPU:187,325 CYC:21364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf01f, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F01F  EA        NOP                             A:FB X:FF Y:D1 P:E5 SP:FB PPU:187,331 CYC:21366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf020, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F020  EA        NOP                             A:FB X:FF Y:D1 P:E5 SP:FB PPU:187,337 CYC:21368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf021, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F021  20 81 FA  JSR $FA81                       A:FB X:FF Y:D1 P:E5 SP:FB PPU:188,  2 CYC:21370
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa81, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA81  50 63     BVC $FAE6                       A:FB X:FF Y:D1 P:E5 SP:F9 PPU:188, 20 CYC:21376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa83, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA83  90 61     BCC $FAE6                       A:FB X:FF Y:D1 P:E5 SP:F9 PPU:188, 26 CYC:21378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa85, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA85  10 5F     BPL $FAE6                       A:FB X:FF Y:D1 P:E5 SP:F9 PPU:188, 32 CYC:21380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa87, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA87  C9 FB     CMP #$FB                        A:FB X:FF Y:D1 P:E5 SP:F9 PPU:188, 38 CYC:21382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa89, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA89  D0 5B     BNE $FAE6                       A:FB X:FF Y:D1 P:67 SP:F9 PPU:188, 44 CYC:21384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8b, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8B  60        RTS                             A:FB X:FF Y:D1 P:67 SP:F9 PPU:188, 50 CYC:21386
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf024, cpu.pc);
    try expectEqual(0xfb, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F024  AD 47 06  LDA $0647 = 4A                  A:FB X:FF Y:D1 P:67 SP:FB PPU:188, 68 CYC:21392
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf027, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F027  C9 4A     CMP #$4A                        A:4A X:FF Y:D1 P:65 SP:FB PPU:188, 80 CYC:21396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf029, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F029  F0 02     BEQ $F02D                       A:4A X:FF Y:D1 P:67 SP:FB PPU:188, 86 CYC:21398
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf02d, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F02D  C8        INY                             A:4A X:FF Y:D1 P:67 SP:FB PPU:188, 95 CYC:21401
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf02e, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F02E  A9 29     LDA #$29                        A:4A X:FF Y:D2 P:E5 SP:FB PPU:188,101 CYC:21403
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf030, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F030  8D 47 06  STA $0647 = 4A                  A:29 X:FF Y:D2 P:65 SP:FB PPU:188,107 CYC:21405
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf033, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F033  20 8C FA  JSR $FA8C                       A:29 X:FF Y:D2 P:65 SP:FB PPU:188,119 CYC:21409
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8C  B8        CLV                             A:29 X:FF Y:D2 P:65 SP:F9 PPU:188,137 CYC:21415
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8d, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8D  18        CLC                             A:29 X:FF Y:D2 P:25 SP:F9 PPU:188,143 CYC:21417
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa8e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA8E  A9 C3     LDA #$C3                        A:29 X:FF Y:D2 P:24 SP:F9 PPU:188,149 CYC:21419
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa90, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA90  60        RTS                             A:C3 X:FF Y:D2 P:A4 SP:F9 PPU:188,155 CYC:21421
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf036, cpu.pc);
    try expectEqual(0xc3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F036  1F 48 05 *SLO $0548,X @ 0647 = 29         A:C3 X:FF Y:D2 P:A4 SP:FB PPU:188,173 CYC:21427
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf039, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F039  EA        NOP                             A:D3 X:FF Y:D2 P:A4 SP:FB PPU:188,194 CYC:21434
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf03a, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F03A  EA        NOP                             A:D3 X:FF Y:D2 P:A4 SP:FB PPU:188,200 CYC:21436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf03b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F03B  EA        NOP                             A:D3 X:FF Y:D2 P:A4 SP:FB PPU:188,206 CYC:21438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf03c, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F03C  EA        NOP                             A:D3 X:FF Y:D2 P:A4 SP:FB PPU:188,212 CYC:21440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf03d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F03D  20 91 FA  JSR $FA91                       A:D3 X:FF Y:D2 P:A4 SP:FB PPU:188,218 CYC:21442
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa91, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA91  70 53     BVS $FAE6                       A:D3 X:FF Y:D2 P:A4 SP:F9 PPU:188,236 CYC:21448
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa93, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA93  F0 51     BEQ $FAE6                       A:D3 X:FF Y:D2 P:A4 SP:F9 PPU:188,242 CYC:21450
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa95, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA95  10 4F     BPL $FAE6                       A:D3 X:FF Y:D2 P:A4 SP:F9 PPU:188,248 CYC:21452
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa97, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA97  B0 4D     BCS $FAE6                       A:D3 X:FF Y:D2 P:A4 SP:F9 PPU:188,254 CYC:21454
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa99, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA99  C9 D3     CMP #$D3                        A:D3 X:FF Y:D2 P:A4 SP:F9 PPU:188,260 CYC:21456
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9b, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9B  D0 49     BNE $FAE6                       A:D3 X:FF Y:D2 P:27 SP:F9 PPU:188,266 CYC:21458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9d, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9D  60        RTS                             A:D3 X:FF Y:D2 P:27 SP:F9 PPU:188,272 CYC:21460
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf040, cpu.pc);
    try expectEqual(0xd3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F040  AD 47 06  LDA $0647 = 52                  A:D3 X:FF Y:D2 P:27 SP:FB PPU:188,290 CYC:21466
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf043, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F043  C9 52     CMP #$52                        A:52 X:FF Y:D2 P:25 SP:FB PPU:188,302 CYC:21470
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf045, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F045  F0 02     BEQ $F049                       A:52 X:FF Y:D2 P:27 SP:FB PPU:188,308 CYC:21472
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf049, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd2, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F049  C8        INY                             A:52 X:FF Y:D2 P:27 SP:FB PPU:188,317 CYC:21475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf04a, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F04A  A9 37     LDA #$37                        A:52 X:FF Y:D3 P:A5 SP:FB PPU:188,323 CYC:21477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf04c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F04C  8D 47 06  STA $0647 = 52                  A:37 X:FF Y:D3 P:25 SP:FB PPU:188,329 CYC:21479
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf04f, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F04F  20 9E FA  JSR $FA9E                       A:37 X:FF Y:D3 P:25 SP:FB PPU:189,  0 CYC:21483
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa9e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA9E  24 01     BIT $01 = FF                    A:37 X:FF Y:D3 P:25 SP:F9 PPU:189, 18 CYC:21489
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa0, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA0  38        SEC                             A:37 X:FF Y:D3 P:E5 SP:F9 PPU:189, 27 CYC:21492
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA1  A9 10     LDA #$10                        A:37 X:FF Y:D3 P:E5 SP:F9 PPU:189, 33 CYC:21494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa3, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA3  60        RTS                             A:10 X:FF Y:D3 P:65 SP:F9 PPU:189, 39 CYC:21496
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf052, cpu.pc);
    try expectEqual(0x10, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F052  1F 48 05 *SLO $0548,X @ 0647 = 37         A:10 X:FF Y:D3 P:65 SP:FB PPU:189, 57 CYC:21502
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf055, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F055  EA        NOP                             A:7E X:FF Y:D3 P:64 SP:FB PPU:189, 78 CYC:21509
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf056, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F056  EA        NOP                             A:7E X:FF Y:D3 P:64 SP:FB PPU:189, 84 CYC:21511
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf057, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F057  EA        NOP                             A:7E X:FF Y:D3 P:64 SP:FB PPU:189, 90 CYC:21513
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf058, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F058  EA        NOP                             A:7E X:FF Y:D3 P:64 SP:FB PPU:189, 96 CYC:21515
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf059, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F059  20 A4 FA  JSR $FAA4                       A:7E X:FF Y:D3 P:64 SP:FB PPU:189,102 CYC:21517
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa4, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA4  50 40     BVC $FAE6                       A:7E X:FF Y:D3 P:64 SP:F9 PPU:189,120 CYC:21523
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa6, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA6  F0 3E     BEQ $FAE6                       A:7E X:FF Y:D3 P:64 SP:F9 PPU:189,126 CYC:21525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaa8, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAA8  30 3C     BMI $FAE6                       A:7E X:FF Y:D3 P:64 SP:F9 PPU:189,132 CYC:21527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaaa, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAA  B0 3A     BCS $FAE6                       A:7E X:FF Y:D3 P:64 SP:F9 PPU:189,138 CYC:21529
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaac, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAC  C9 7E     CMP #$7E                        A:7E X:FF Y:D3 P:64 SP:F9 PPU:189,144 CYC:21531
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaae, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAAE  D0 36     BNE $FAE6                       A:7E X:FF Y:D3 P:67 SP:F9 PPU:189,150 CYC:21533
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfab0, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAB0  60        RTS                             A:7E X:FF Y:D3 P:67 SP:F9 PPU:189,156 CYC:21535
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf05c, cpu.pc);
    try expectEqual(0x7e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F05C  AD 47 06  LDA $0647 = 6E                  A:7E X:FF Y:D3 P:67 SP:FB PPU:189,174 CYC:21541
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf05f, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F05F  C9 6E     CMP #$6E                        A:6E X:FF Y:D3 P:65 SP:FB PPU:189,186 CYC:21545
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf061, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F061  F0 02     BEQ $F065                       A:6E X:FF Y:D3 P:67 SP:FB PPU:189,192 CYC:21547
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf065, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F065  60        RTS                             A:6E X:FF Y:D3 P:67 SP:FB PPU:189,201 CYC:21550
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc644, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C644  20 66 F0  JSR $F066                       A:6E X:FF Y:D3 P:67 SP:FD PPU:189,219 CYC:21556
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf066, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F066  A9 FF     LDA #$FF                        A:6E X:FF Y:D3 P:67 SP:FB PPU:189,237 CYC:21562
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf068, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F068  85 01     STA $01 = FF                    A:FF X:FF Y:D3 P:E5 SP:FB PPU:189,243 CYC:21564
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf06a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F06A  A0 D4     LDY #$D4                        A:FF X:FF Y:D3 P:E5 SP:FB PPU:189,252 CYC:21567
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf06c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F06C  A2 02     LDX #$02                        A:FF X:FF Y:D4 P:E5 SP:FB PPU:189,258 CYC:21569
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf06e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F06E  A9 47     LDA #$47                        A:FF X:02 Y:D4 P:65 SP:FB PPU:189,264 CYC:21571
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf070, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F070  85 47     STA $47 = 6E                    A:47 X:02 Y:D4 P:65 SP:FB PPU:189,270 CYC:21573
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf072, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F072  A9 06     LDA #$06                        A:47 X:02 Y:D4 P:65 SP:FB PPU:189,279 CYC:21576
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf074, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F074  85 48     STA $48 = 06                    A:06 X:02 Y:D4 P:65 SP:FB PPU:189,285 CYC:21578
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf076, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F076  A9 A5     LDA #$A5                        A:06 X:02 Y:D4 P:65 SP:FB PPU:189,294 CYC:21581
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf078, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F078  8D 47 06  STA $0647 = 6E                  A:A5 X:02 Y:D4 P:E5 SP:FB PPU:189,300 CYC:21583
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf07b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F07B  20 53 FB  JSR $FB53                       A:A5 X:02 Y:D4 P:E5 SP:FB PPU:189,312 CYC:21587
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb53, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB53  24 01     BIT $01 = FF                    A:A5 X:02 Y:D4 P:E5 SP:F9 PPU:189,330 CYC:21593
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb55, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB55  18        CLC                             A:A5 X:02 Y:D4 P:E5 SP:F9 PPU:189,339 CYC:21596
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb56, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB56  A9 B3     LDA #$B3                        A:A5 X:02 Y:D4 P:E4 SP:F9 PPU:190,  4 CYC:21598
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb58, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB58  60        RTS                             A:B3 X:02 Y:D4 P:E4 SP:F9 PPU:190, 10 CYC:21600
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf07e, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F07E  23 45    *RLA ($45,X) @ 47 = 0647 = A5    A:B3 X:02 Y:D4 P:E4 SP:FB PPU:190, 28 CYC:21606
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf080, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F080  EA        NOP                             A:02 X:02 Y:D4 P:65 SP:FB PPU:190, 52 CYC:21614
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf081, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F081  EA        NOP                             A:02 X:02 Y:D4 P:65 SP:FB PPU:190, 58 CYC:21616
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf082, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F082  EA        NOP                             A:02 X:02 Y:D4 P:65 SP:FB PPU:190, 64 CYC:21618
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf083, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F083  EA        NOP                             A:02 X:02 Y:D4 P:65 SP:FB PPU:190, 70 CYC:21620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf084, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F084  20 59 FB  JSR $FB59                       A:02 X:02 Y:D4 P:65 SP:FB PPU:190, 76 CYC:21622
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb59, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB59  50 1A     BVC $FB75                       A:02 X:02 Y:D4 P:65 SP:F9 PPU:190, 94 CYC:21628
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5B  90 18     BCC $FB75                       A:02 X:02 Y:D4 P:65 SP:F9 PPU:190,100 CYC:21630
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5D  30 16     BMI $FB75                       A:02 X:02 Y:D4 P:65 SP:F9 PPU:190,106 CYC:21632
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5F  C9 02     CMP #$02                        A:02 X:02 Y:D4 P:65 SP:F9 PPU:190,112 CYC:21634
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB61  D0 12     BNE $FB75                       A:02 X:02 Y:D4 P:67 SP:F9 PPU:190,118 CYC:21636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb63, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB63  60        RTS                             A:02 X:02 Y:D4 P:67 SP:F9 PPU:190,124 CYC:21638
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf087, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F087  AD 47 06  LDA $0647 = 4A                  A:02 X:02 Y:D4 P:67 SP:FB PPU:190,142 CYC:21644
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf08a, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F08A  C9 4A     CMP #$4A                        A:4A X:02 Y:D4 P:65 SP:FB PPU:190,154 CYC:21648
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf08c, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F08C  F0 02     BEQ $F090                       A:4A X:02 Y:D4 P:67 SP:FB PPU:190,160 CYC:21650
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf090, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F090  C8        INY                             A:4A X:02 Y:D4 P:67 SP:FB PPU:190,169 CYC:21653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf091, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F091  A9 29     LDA #$29                        A:4A X:02 Y:D5 P:E5 SP:FB PPU:190,175 CYC:21655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf093, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F093  8D 47 06  STA $0647 = 4A                  A:29 X:02 Y:D5 P:65 SP:FB PPU:190,181 CYC:21657
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf096, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F096  20 64 FB  JSR $FB64                       A:29 X:02 Y:D5 P:65 SP:FB PPU:190,193 CYC:21661
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb64, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB64  B8        CLV                             A:29 X:02 Y:D5 P:65 SP:F9 PPU:190,211 CYC:21667
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb65, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB65  18        CLC                             A:29 X:02 Y:D5 P:25 SP:F9 PPU:190,217 CYC:21669
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb66, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB66  A9 42     LDA #$42                        A:29 X:02 Y:D5 P:24 SP:F9 PPU:190,223 CYC:21671
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb68, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB68  60        RTS                             A:42 X:02 Y:D5 P:24 SP:F9 PPU:190,229 CYC:21673
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf099, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F099  23 45    *RLA ($45,X) @ 47 = 0647 = 29    A:42 X:02 Y:D5 P:24 SP:FB PPU:190,247 CYC:21679
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf09b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F09B  EA        NOP                             A:42 X:02 Y:D5 P:24 SP:FB PPU:190,271 CYC:21687
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf09c, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F09C  EA        NOP                             A:42 X:02 Y:D5 P:24 SP:FB PPU:190,277 CYC:21689
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf09d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F09D  EA        NOP                             A:42 X:02 Y:D5 P:24 SP:FB PPU:190,283 CYC:21691
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf09e, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F09E  EA        NOP                             A:42 X:02 Y:D5 P:24 SP:FB PPU:190,289 CYC:21693
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf09f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F09F  20 69 FB  JSR $FB69                       A:42 X:02 Y:D5 P:24 SP:FB PPU:190,295 CYC:21695
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb69, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB69  70 0A     BVS $FB75                       A:42 X:02 Y:D5 P:24 SP:F9 PPU:190,313 CYC:21701
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6B  F0 08     BEQ $FB75                       A:42 X:02 Y:D5 P:24 SP:F9 PPU:190,319 CYC:21703
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6D  30 06     BMI $FB75                       A:42 X:02 Y:D5 P:24 SP:F9 PPU:190,325 CYC:21705
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6F  B0 04     BCS $FB75                       A:42 X:02 Y:D5 P:24 SP:F9 PPU:190,331 CYC:21707
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb71, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB71  C9 42     CMP #$42                        A:42 X:02 Y:D5 P:24 SP:F9 PPU:190,337 CYC:21709
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb73, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB73  F0 02     BEQ $FB77                       A:42 X:02 Y:D5 P:27 SP:F9 PPU:191,  2 CYC:21711
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb77, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB77  60        RTS                             A:42 X:02 Y:D5 P:27 SP:F9 PPU:191, 11 CYC:21714
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf0a2, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0A2  AD 47 06  LDA $0647 = 52                  A:42 X:02 Y:D5 P:27 SP:FB PPU:191, 29 CYC:21720
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf0a5, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0A5  C9 52     CMP #$52                        A:52 X:02 Y:D5 P:25 SP:FB PPU:191, 41 CYC:21724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0a7, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0A7  F0 02     BEQ $F0AB                       A:52 X:02 Y:D5 P:27 SP:FB PPU:191, 47 CYC:21726
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ab, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd5, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0AB  C8        INY                             A:52 X:02 Y:D5 P:27 SP:FB PPU:191, 56 CYC:21729
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ac, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0AC  A9 37     LDA #$37                        A:52 X:02 Y:D6 P:A5 SP:FB PPU:191, 62 CYC:21731
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ae, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0AE  8D 47 06  STA $0647 = 52                  A:37 X:02 Y:D6 P:25 SP:FB PPU:191, 68 CYC:21733
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf0b1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0B1  20 68 FA  JSR $FA68                       A:37 X:02 Y:D6 P:25 SP:FB PPU:191, 80 CYC:21737
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa68, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA68  24 01     BIT $01 = FF                    A:37 X:02 Y:D6 P:25 SP:F9 PPU:191, 98 CYC:21743
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6A  38        SEC                             A:37 X:02 Y:D6 P:E5 SP:F9 PPU:191,107 CYC:21746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6B  A9 75     LDA #$75                        A:37 X:02 Y:D6 P:E5 SP:F9 PPU:191,113 CYC:21748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6d, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6D  60        RTS                             A:75 X:02 Y:D6 P:65 SP:F9 PPU:191,119 CYC:21750
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf0b4, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0B4  23 45    *RLA ($45,X) @ 47 = 0647 = 37    A:75 X:02 Y:D6 P:65 SP:FB PPU:191,137 CYC:21756
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf0b6, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0B6  EA        NOP                             A:65 X:02 Y:D6 P:64 SP:FB PPU:191,161 CYC:21764
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0b7, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0B7  EA        NOP                             A:65 X:02 Y:D6 P:64 SP:FB PPU:191,167 CYC:21766
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0b8, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0B8  EA        NOP                             A:65 X:02 Y:D6 P:64 SP:FB PPU:191,173 CYC:21768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0b9, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0B9  EA        NOP                             A:65 X:02 Y:D6 P:64 SP:FB PPU:191,179 CYC:21770
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ba, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0BA  20 6E FA  JSR $FA6E                       A:65 X:02 Y:D6 P:64 SP:FB PPU:191,185 CYC:21772
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6E  50 76     BVC $FAE6                       A:65 X:02 Y:D6 P:64 SP:F9 PPU:191,203 CYC:21778
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa70, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA70  F0 74     BEQ $FAE6                       A:65 X:02 Y:D6 P:64 SP:F9 PPU:191,209 CYC:21780
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa72, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA72  30 72     BMI $FAE6                       A:65 X:02 Y:D6 P:64 SP:F9 PPU:191,215 CYC:21782
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa74, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA74  B0 70     BCS $FAE6                       A:65 X:02 Y:D6 P:64 SP:F9 PPU:191,221 CYC:21784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa76, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA76  C9 65     CMP #$65                        A:65 X:02 Y:D6 P:64 SP:F9 PPU:191,227 CYC:21786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa78, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA78  D0 6C     BNE $FAE6                       A:65 X:02 Y:D6 P:67 SP:F9 PPU:191,233 CYC:21788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7A  60        RTS                             A:65 X:02 Y:D6 P:67 SP:F9 PPU:191,239 CYC:21790
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf0bd, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0BD  AD 47 06  LDA $0647 = 6F                  A:65 X:02 Y:D6 P:67 SP:FB PPU:191,257 CYC:21796
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf0c0, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0C0  C9 6F     CMP #$6F                        A:6F X:02 Y:D6 P:65 SP:FB PPU:191,269 CYC:21800
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0c2, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0C2  F0 02     BEQ $F0C6                       A:6F X:02 Y:D6 P:67 SP:FB PPU:191,275 CYC:21802
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0c6, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0C6  C8        INY                             A:6F X:02 Y:D6 P:67 SP:FB PPU:191,284 CYC:21805
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0c7, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0C7  A9 A5     LDA #$A5                        A:6F X:02 Y:D7 P:E5 SP:FB PPU:191,290 CYC:21807
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0c9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0C9  85 47     STA $47 = 47                    A:A5 X:02 Y:D7 P:E5 SP:FB PPU:191,296 CYC:21809
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0cb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0CB  20 53 FB  JSR $FB53                       A:A5 X:02 Y:D7 P:E5 SP:FB PPU:191,305 CYC:21812
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb53, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB53  24 01     BIT $01 = FF                    A:A5 X:02 Y:D7 P:E5 SP:F9 PPU:191,323 CYC:21818
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb55, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB55  18        CLC                             A:A5 X:02 Y:D7 P:E5 SP:F9 PPU:191,332 CYC:21821
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb56, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB56  A9 B3     LDA #$B3                        A:A5 X:02 Y:D7 P:E4 SP:F9 PPU:191,338 CYC:21823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb58, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB58  60        RTS                             A:B3 X:02 Y:D7 P:E4 SP:F9 PPU:192,  3 CYC:21825
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ce, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0CE  27 47    *RLA $47 = A5                    A:B3 X:02 Y:D7 P:E4 SP:FB PPU:192, 21 CYC:21831
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf0d0, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0D0  EA        NOP                             A:02 X:02 Y:D7 P:65 SP:FB PPU:192, 36 CYC:21836
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0d1, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0D1  EA        NOP                             A:02 X:02 Y:D7 P:65 SP:FB PPU:192, 42 CYC:21838
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0d2, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0D2  EA        NOP                             A:02 X:02 Y:D7 P:65 SP:FB PPU:192, 48 CYC:21840
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0d3, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0D3  EA        NOP                             A:02 X:02 Y:D7 P:65 SP:FB PPU:192, 54 CYC:21842
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0d4, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0D4  20 59 FB  JSR $FB59                       A:02 X:02 Y:D7 P:65 SP:FB PPU:192, 60 CYC:21844
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb59, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB59  50 1A     BVC $FB75                       A:02 X:02 Y:D7 P:65 SP:F9 PPU:192, 78 CYC:21850
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5B  90 18     BCC $FB75                       A:02 X:02 Y:D7 P:65 SP:F9 PPU:192, 84 CYC:21852
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5D  30 16     BMI $FB75                       A:02 X:02 Y:D7 P:65 SP:F9 PPU:192, 90 CYC:21854
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5F  C9 02     CMP #$02                        A:02 X:02 Y:D7 P:65 SP:F9 PPU:192, 96 CYC:21856
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB61  D0 12     BNE $FB75                       A:02 X:02 Y:D7 P:67 SP:F9 PPU:192,102 CYC:21858
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb63, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB63  60        RTS                             A:02 X:02 Y:D7 P:67 SP:F9 PPU:192,108 CYC:21860
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf0d7, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0D7  A5 47     LDA $47 = 4A                    A:02 X:02 Y:D7 P:67 SP:FB PPU:192,126 CYC:21866
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0d9, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0D9  C9 4A     CMP #$4A                        A:4A X:02 Y:D7 P:65 SP:FB PPU:192,135 CYC:21869
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0db, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0DB  F0 02     BEQ $F0DF                       A:4A X:02 Y:D7 P:67 SP:FB PPU:192,141 CYC:21871
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0df, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0DF  C8        INY                             A:4A X:02 Y:D7 P:67 SP:FB PPU:192,150 CYC:21874
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0e0, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0E0  A9 29     LDA #$29                        A:4A X:02 Y:D8 P:E5 SP:FB PPU:192,156 CYC:21876
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0e2, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0E2  85 47     STA $47 = 4A                    A:29 X:02 Y:D8 P:65 SP:FB PPU:192,162 CYC:21878
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0e4, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0E4  20 64 FB  JSR $FB64                       A:29 X:02 Y:D8 P:65 SP:FB PPU:192,171 CYC:21881
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb64, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB64  B8        CLV                             A:29 X:02 Y:D8 P:65 SP:F9 PPU:192,189 CYC:21887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb65, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB65  18        CLC                             A:29 X:02 Y:D8 P:25 SP:F9 PPU:192,195 CYC:21889
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb66, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB66  A9 42     LDA #$42                        A:29 X:02 Y:D8 P:24 SP:F9 PPU:192,201 CYC:21891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb68, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB68  60        RTS                             A:42 X:02 Y:D8 P:24 SP:F9 PPU:192,207 CYC:21893
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf0e7, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0E7  27 47    *RLA $47 = 29                    A:42 X:02 Y:D8 P:24 SP:FB PPU:192,225 CYC:21899
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf0e9, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0E9  EA        NOP                             A:42 X:02 Y:D8 P:24 SP:FB PPU:192,240 CYC:21904
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ea, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0EA  EA        NOP                             A:42 X:02 Y:D8 P:24 SP:FB PPU:192,246 CYC:21906
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0eb, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0EB  EA        NOP                             A:42 X:02 Y:D8 P:24 SP:FB PPU:192,252 CYC:21908
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ec, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0EC  EA        NOP                             A:42 X:02 Y:D8 P:24 SP:FB PPU:192,258 CYC:21910
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0ed, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0ED  20 69 FB  JSR $FB69                       A:42 X:02 Y:D8 P:24 SP:FB PPU:192,264 CYC:21912
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb69, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB69  70 0A     BVS $FB75                       A:42 X:02 Y:D8 P:24 SP:F9 PPU:192,282 CYC:21918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6B  F0 08     BEQ $FB75                       A:42 X:02 Y:D8 P:24 SP:F9 PPU:192,288 CYC:21920
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6D  30 06     BMI $FB75                       A:42 X:02 Y:D8 P:24 SP:F9 PPU:192,294 CYC:21922
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6F  B0 04     BCS $FB75                       A:42 X:02 Y:D8 P:24 SP:F9 PPU:192,300 CYC:21924
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb71, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB71  C9 42     CMP #$42                        A:42 X:02 Y:D8 P:24 SP:F9 PPU:192,306 CYC:21926
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb73, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB73  F0 02     BEQ $FB77                       A:42 X:02 Y:D8 P:27 SP:F9 PPU:192,312 CYC:21928
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb77, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB77  60        RTS                             A:42 X:02 Y:D8 P:27 SP:F9 PPU:192,321 CYC:21931
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf0f0, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0F0  A5 47     LDA $47 = 52                    A:42 X:02 Y:D8 P:27 SP:FB PPU:192,339 CYC:21937
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0f2, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0F2  C9 52     CMP #$52                        A:52 X:02 Y:D8 P:25 SP:FB PPU:193,  7 CYC:21940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0f4, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0F4  F0 02     BEQ $F0F8                       A:52 X:02 Y:D8 P:27 SP:FB PPU:193, 13 CYC:21942
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0f8, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd8, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0F8  C8        INY                             A:52 X:02 Y:D8 P:27 SP:FB PPU:193, 22 CYC:21945
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0f9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0F9  A9 37     LDA #$37                        A:52 X:02 Y:D9 P:A5 SP:FB PPU:193, 28 CYC:21947
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf0fb, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0FB  85 47     STA $47 = 52                    A:37 X:02 Y:D9 P:25 SP:FB PPU:193, 34 CYC:21949
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf0fd, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F0FD  20 68 FA  JSR $FA68                       A:37 X:02 Y:D9 P:25 SP:FB PPU:193, 43 CYC:21952
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa68, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA68  24 01     BIT $01 = FF                    A:37 X:02 Y:D9 P:25 SP:F9 PPU:193, 61 CYC:21958
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6A  38        SEC                             A:37 X:02 Y:D9 P:E5 SP:F9 PPU:193, 70 CYC:21961
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6B  A9 75     LDA #$75                        A:37 X:02 Y:D9 P:E5 SP:F9 PPU:193, 76 CYC:21963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6d, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6D  60        RTS                             A:75 X:02 Y:D9 P:65 SP:F9 PPU:193, 82 CYC:21965
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf100, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F100  27 47    *RLA $47 = 37                    A:75 X:02 Y:D9 P:65 SP:FB PPU:193,100 CYC:21971
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf102, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F102  EA        NOP                             A:65 X:02 Y:D9 P:64 SP:FB PPU:193,115 CYC:21976
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf103, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F103  EA        NOP                             A:65 X:02 Y:D9 P:64 SP:FB PPU:193,121 CYC:21978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf104, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F104  EA        NOP                             A:65 X:02 Y:D9 P:64 SP:FB PPU:193,127 CYC:21980
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf105, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F105  EA        NOP                             A:65 X:02 Y:D9 P:64 SP:FB PPU:193,133 CYC:21982
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf106, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F106  20 6E FA  JSR $FA6E                       A:65 X:02 Y:D9 P:64 SP:FB PPU:193,139 CYC:21984
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6E  50 76     BVC $FAE6                       A:65 X:02 Y:D9 P:64 SP:F9 PPU:193,157 CYC:21990
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa70, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA70  F0 74     BEQ $FAE6                       A:65 X:02 Y:D9 P:64 SP:F9 PPU:193,163 CYC:21992
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa72, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA72  30 72     BMI $FAE6                       A:65 X:02 Y:D9 P:64 SP:F9 PPU:193,169 CYC:21994
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa74, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA74  B0 70     BCS $FAE6                       A:65 X:02 Y:D9 P:64 SP:F9 PPU:193,175 CYC:21996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa76, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA76  C9 65     CMP #$65                        A:65 X:02 Y:D9 P:64 SP:F9 PPU:193,181 CYC:21998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa78, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA78  D0 6C     BNE $FAE6                       A:65 X:02 Y:D9 P:67 SP:F9 PPU:193,187 CYC:22000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7A  60        RTS                             A:65 X:02 Y:D9 P:67 SP:F9 PPU:193,193 CYC:22002
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf109, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F109  A5 47     LDA $47 = 6F                    A:65 X:02 Y:D9 P:67 SP:FB PPU:193,211 CYC:22008
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf10b, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F10B  C9 6F     CMP #$6F                        A:6F X:02 Y:D9 P:65 SP:FB PPU:193,220 CYC:22011
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf10d, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F10D  F0 02     BEQ $F111                       A:6F X:02 Y:D9 P:67 SP:FB PPU:193,226 CYC:22013
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf111, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xd9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F111  C8        INY                             A:6F X:02 Y:D9 P:67 SP:FB PPU:193,235 CYC:22016
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf112, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F112  A9 A5     LDA #$A5                        A:6F X:02 Y:DA P:E5 SP:FB PPU:193,241 CYC:22018
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf114, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F114  8D 47 06  STA $0647 = 6F                  A:A5 X:02 Y:DA P:E5 SP:FB PPU:193,247 CYC:22020
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf117, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F117  20 53 FB  JSR $FB53                       A:A5 X:02 Y:DA P:E5 SP:FB PPU:193,259 CYC:22024
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb53, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB53  24 01     BIT $01 = FF                    A:A5 X:02 Y:DA P:E5 SP:F9 PPU:193,277 CYC:22030
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb55, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB55  18        CLC                             A:A5 X:02 Y:DA P:E5 SP:F9 PPU:193,286 CYC:22033
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb56, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB56  A9 B3     LDA #$B3                        A:A5 X:02 Y:DA P:E4 SP:F9 PPU:193,292 CYC:22035
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb58, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB58  60        RTS                             A:B3 X:02 Y:DA P:E4 SP:F9 PPU:193,298 CYC:22037
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf11a, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F11A  2F 47 06 *RLA $0647 = A5                  A:B3 X:02 Y:DA P:E4 SP:FB PPU:193,316 CYC:22043
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf11d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F11D  EA        NOP                             A:02 X:02 Y:DA P:65 SP:FB PPU:193,334 CYC:22049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf11e, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F11E  EA        NOP                             A:02 X:02 Y:DA P:65 SP:FB PPU:193,340 CYC:22051
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf11f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F11F  EA        NOP                             A:02 X:02 Y:DA P:65 SP:FB PPU:194,  5 CYC:22053
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf120, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F120  EA        NOP                             A:02 X:02 Y:DA P:65 SP:FB PPU:194, 11 CYC:22055
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf121, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F121  20 59 FB  JSR $FB59                       A:02 X:02 Y:DA P:65 SP:FB PPU:194, 17 CYC:22057
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb59, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB59  50 1A     BVC $FB75                       A:02 X:02 Y:DA P:65 SP:F9 PPU:194, 35 CYC:22063
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5B  90 18     BCC $FB75                       A:02 X:02 Y:DA P:65 SP:F9 PPU:194, 41 CYC:22065
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5D  30 16     BMI $FB75                       A:02 X:02 Y:DA P:65 SP:F9 PPU:194, 47 CYC:22067
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5F  C9 02     CMP #$02                        A:02 X:02 Y:DA P:65 SP:F9 PPU:194, 53 CYC:22069
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB61  D0 12     BNE $FB75                       A:02 X:02 Y:DA P:67 SP:F9 PPU:194, 59 CYC:22071
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb63, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB63  60        RTS                             A:02 X:02 Y:DA P:67 SP:F9 PPU:194, 65 CYC:22073
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf124, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F124  AD 47 06  LDA $0647 = 4A                  A:02 X:02 Y:DA P:67 SP:FB PPU:194, 83 CYC:22079
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf127, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F127  C9 4A     CMP #$4A                        A:4A X:02 Y:DA P:65 SP:FB PPU:194, 95 CYC:22083
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf129, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F129  F0 02     BEQ $F12D                       A:4A X:02 Y:DA P:67 SP:FB PPU:194,101 CYC:22085
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf12d, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xda, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F12D  C8        INY                             A:4A X:02 Y:DA P:67 SP:FB PPU:194,110 CYC:22088
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf12e, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F12E  A9 29     LDA #$29                        A:4A X:02 Y:DB P:E5 SP:FB PPU:194,116 CYC:22090
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf130, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F130  8D 47 06  STA $0647 = 4A                  A:29 X:02 Y:DB P:65 SP:FB PPU:194,122 CYC:22092
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf133, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F133  20 64 FB  JSR $FB64                       A:29 X:02 Y:DB P:65 SP:FB PPU:194,134 CYC:22096
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb64, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB64  B8        CLV                             A:29 X:02 Y:DB P:65 SP:F9 PPU:194,152 CYC:22102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb65, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB65  18        CLC                             A:29 X:02 Y:DB P:25 SP:F9 PPU:194,158 CYC:22104
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb66, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB66  A9 42     LDA #$42                        A:29 X:02 Y:DB P:24 SP:F9 PPU:194,164 CYC:22106
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb68, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB68  60        RTS                             A:42 X:02 Y:DB P:24 SP:F9 PPU:194,170 CYC:22108
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf136, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F136  2F 47 06 *RLA $0647 = 29                  A:42 X:02 Y:DB P:24 SP:FB PPU:194,188 CYC:22114
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf139, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F139  EA        NOP                             A:42 X:02 Y:DB P:24 SP:FB PPU:194,206 CYC:22120
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf13a, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F13A  EA        NOP                             A:42 X:02 Y:DB P:24 SP:FB PPU:194,212 CYC:22122
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf13b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F13B  EA        NOP                             A:42 X:02 Y:DB P:24 SP:FB PPU:194,218 CYC:22124
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf13c, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F13C  EA        NOP                             A:42 X:02 Y:DB P:24 SP:FB PPU:194,224 CYC:22126
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf13d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F13D  20 69 FB  JSR $FB69                       A:42 X:02 Y:DB P:24 SP:FB PPU:194,230 CYC:22128
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb69, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB69  70 0A     BVS $FB75                       A:42 X:02 Y:DB P:24 SP:F9 PPU:194,248 CYC:22134
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6B  F0 08     BEQ $FB75                       A:42 X:02 Y:DB P:24 SP:F9 PPU:194,254 CYC:22136
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6D  30 06     BMI $FB75                       A:42 X:02 Y:DB P:24 SP:F9 PPU:194,260 CYC:22138
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6F  B0 04     BCS $FB75                       A:42 X:02 Y:DB P:24 SP:F9 PPU:194,266 CYC:22140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb71, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB71  C9 42     CMP #$42                        A:42 X:02 Y:DB P:24 SP:F9 PPU:194,272 CYC:22142
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb73, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB73  F0 02     BEQ $FB77                       A:42 X:02 Y:DB P:27 SP:F9 PPU:194,278 CYC:22144
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb77, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB77  60        RTS                             A:42 X:02 Y:DB P:27 SP:F9 PPU:194,287 CYC:22147
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf140, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F140  AD 47 06  LDA $0647 = 52                  A:42 X:02 Y:DB P:27 SP:FB PPU:194,305 CYC:22153
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf143, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F143  C9 52     CMP #$52                        A:52 X:02 Y:DB P:25 SP:FB PPU:194,317 CYC:22157
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf145, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F145  F0 02     BEQ $F149                       A:52 X:02 Y:DB P:27 SP:FB PPU:194,323 CYC:22159
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf149, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdb, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F149  C8        INY                             A:52 X:02 Y:DB P:27 SP:FB PPU:194,332 CYC:22162
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf14a, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F14A  A9 37     LDA #$37                        A:52 X:02 Y:DC P:A5 SP:FB PPU:194,338 CYC:22164
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf14c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F14C  8D 47 06  STA $0647 = 52                  A:37 X:02 Y:DC P:25 SP:FB PPU:195,  3 CYC:22166
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf14f, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F14F  20 68 FA  JSR $FA68                       A:37 X:02 Y:DC P:25 SP:FB PPU:195, 15 CYC:22170
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa68, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA68  24 01     BIT $01 = FF                    A:37 X:02 Y:DC P:25 SP:F9 PPU:195, 33 CYC:22176
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6A  38        SEC                             A:37 X:02 Y:DC P:E5 SP:F9 PPU:195, 42 CYC:22179
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6B  A9 75     LDA #$75                        A:37 X:02 Y:DC P:E5 SP:F9 PPU:195, 48 CYC:22181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6d, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6D  60        RTS                             A:75 X:02 Y:DC P:65 SP:F9 PPU:195, 54 CYC:22183
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf152, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F152  2F 47 06 *RLA $0647 = 37                  A:75 X:02 Y:DC P:65 SP:FB PPU:195, 72 CYC:22189
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf155, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F155  EA        NOP                             A:65 X:02 Y:DC P:64 SP:FB PPU:195, 90 CYC:22195
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf156, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F156  EA        NOP                             A:65 X:02 Y:DC P:64 SP:FB PPU:195, 96 CYC:22197
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf157, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F157  EA        NOP                             A:65 X:02 Y:DC P:64 SP:FB PPU:195,102 CYC:22199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf158, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F158  EA        NOP                             A:65 X:02 Y:DC P:64 SP:FB PPU:195,108 CYC:22201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf159, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F159  20 6E FA  JSR $FA6E                       A:65 X:02 Y:DC P:64 SP:FB PPU:195,114 CYC:22203
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6E  50 76     BVC $FAE6                       A:65 X:02 Y:DC P:64 SP:F9 PPU:195,132 CYC:22209
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa70, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA70  F0 74     BEQ $FAE6                       A:65 X:02 Y:DC P:64 SP:F9 PPU:195,138 CYC:22211
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa72, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA72  30 72     BMI $FAE6                       A:65 X:02 Y:DC P:64 SP:F9 PPU:195,144 CYC:22213
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa74, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA74  B0 70     BCS $FAE6                       A:65 X:02 Y:DC P:64 SP:F9 PPU:195,150 CYC:22215
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa76, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA76  C9 65     CMP #$65                        A:65 X:02 Y:DC P:64 SP:F9 PPU:195,156 CYC:22217
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa78, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA78  D0 6C     BNE $FAE6                       A:65 X:02 Y:DC P:67 SP:F9 PPU:195,162 CYC:22219
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7A  60        RTS                             A:65 X:02 Y:DC P:67 SP:F9 PPU:195,168 CYC:22221
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf15c, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F15C  AD 47 06  LDA $0647 = 6F                  A:65 X:02 Y:DC P:67 SP:FB PPU:195,186 CYC:22227
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf15f, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F15F  C9 6F     CMP #$6F                        A:6F X:02 Y:DC P:65 SP:FB PPU:195,198 CYC:22231
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf161, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F161  F0 02     BEQ $F165                       A:6F X:02 Y:DC P:67 SP:FB PPU:195,204 CYC:22233
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf165, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F165  A9 A5     LDA #$A5                        A:6F X:02 Y:DC P:67 SP:FB PPU:195,213 CYC:22236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf167, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F167  8D 47 06  STA $0647 = 6F                  A:A5 X:02 Y:DC P:E5 SP:FB PPU:195,219 CYC:22238
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf16a, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F16A  A9 48     LDA #$48                        A:A5 X:02 Y:DC P:E5 SP:FB PPU:195,231 CYC:22242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf16c, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F16C  85 45     STA $45 = 48                    A:48 X:02 Y:DC P:65 SP:FB PPU:195,237 CYC:22244
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf16e, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F16E  A9 05     LDA #$05                        A:48 X:02 Y:DC P:65 SP:FB PPU:195,246 CYC:22247
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf170, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F170  85 46     STA $46 = 05                    A:05 X:02 Y:DC P:65 SP:FB PPU:195,252 CYC:22249
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf172, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F172  A0 FF     LDY #$FF                        A:05 X:02 Y:DC P:65 SP:FB PPU:195,261 CYC:22252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf174, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F174  20 53 FB  JSR $FB53                       A:05 X:02 Y:FF P:E5 SP:FB PPU:195,267 CYC:22254
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb53, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB53  24 01     BIT $01 = FF                    A:05 X:02 Y:FF P:E5 SP:F9 PPU:195,285 CYC:22260
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb55, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB55  18        CLC                             A:05 X:02 Y:FF P:E5 SP:F9 PPU:195,294 CYC:22263
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb56, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB56  A9 B3     LDA #$B3                        A:05 X:02 Y:FF P:E4 SP:F9 PPU:195,300 CYC:22265
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb58, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB58  60        RTS                             A:B3 X:02 Y:FF P:E4 SP:F9 PPU:195,306 CYC:22267
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf177, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F177  33 45    *RLA ($45),Y = 0548 @ 0647 = A5  A:B3 X:02 Y:FF P:E4 SP:FB PPU:195,324 CYC:22273
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf179, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F179  EA        NOP                             A:02 X:02 Y:FF P:65 SP:FB PPU:196,  7 CYC:22281
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf17a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F17A  EA        NOP                             A:02 X:02 Y:FF P:65 SP:FB PPU:196, 13 CYC:22283
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf17b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F17B  08        PHP                             A:02 X:02 Y:FF P:65 SP:FB PPU:196, 19 CYC:22285
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf17c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F17C  48        PHA                             A:02 X:02 Y:FF P:65 SP:FA PPU:196, 28 CYC:22288
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf17d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F17D  A0 DD     LDY #$DD                        A:02 X:02 Y:FF P:65 SP:F9 PPU:196, 37 CYC:22291
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf17f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F17F  68        PLA                             A:02 X:02 Y:DD P:E5 SP:F9 PPU:196, 43 CYC:22293
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf180, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F180  28        PLP                             A:02 X:02 Y:DD P:65 SP:FA PPU:196, 55 CYC:22297
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf181, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F181  20 59 FB  JSR $FB59                       A:02 X:02 Y:DD P:65 SP:FB PPU:196, 67 CYC:22301
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb59, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB59  50 1A     BVC $FB75                       A:02 X:02 Y:DD P:65 SP:F9 PPU:196, 85 CYC:22307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5B  90 18     BCC $FB75                       A:02 X:02 Y:DD P:65 SP:F9 PPU:196, 91 CYC:22309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5D  30 16     BMI $FB75                       A:02 X:02 Y:DD P:65 SP:F9 PPU:196, 97 CYC:22311
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5F  C9 02     CMP #$02                        A:02 X:02 Y:DD P:65 SP:F9 PPU:196,103 CYC:22313
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB61  D0 12     BNE $FB75                       A:02 X:02 Y:DD P:67 SP:F9 PPU:196,109 CYC:22315
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb63, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB63  60        RTS                             A:02 X:02 Y:DD P:67 SP:F9 PPU:196,115 CYC:22317
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf184, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F184  AD 47 06  LDA $0647 = 4A                  A:02 X:02 Y:DD P:67 SP:FB PPU:196,133 CYC:22323
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf187, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F187  C9 4A     CMP #$4A                        A:4A X:02 Y:DD P:65 SP:FB PPU:196,145 CYC:22327
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf189, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F189  F0 02     BEQ $F18D                       A:4A X:02 Y:DD P:67 SP:FB PPU:196,151 CYC:22329
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf18d, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F18D  A0 FF     LDY #$FF                        A:4A X:02 Y:DD P:67 SP:FB PPU:196,160 CYC:22332
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf18f, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F18F  A9 29     LDA #$29                        A:4A X:02 Y:FF P:E5 SP:FB PPU:196,166 CYC:22334
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf191, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F191  8D 47 06  STA $0647 = 4A                  A:29 X:02 Y:FF P:65 SP:FB PPU:196,172 CYC:22336
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf194, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F194  20 64 FB  JSR $FB64                       A:29 X:02 Y:FF P:65 SP:FB PPU:196,184 CYC:22340
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb64, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB64  B8        CLV                             A:29 X:02 Y:FF P:65 SP:F9 PPU:196,202 CYC:22346
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb65, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB65  18        CLC                             A:29 X:02 Y:FF P:25 SP:F9 PPU:196,208 CYC:22348
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb66, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB66  A9 42     LDA #$42                        A:29 X:02 Y:FF P:24 SP:F9 PPU:196,214 CYC:22350
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb68, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB68  60        RTS                             A:42 X:02 Y:FF P:24 SP:F9 PPU:196,220 CYC:22352
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf197, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F197  33 45    *RLA ($45),Y = 0548 @ 0647 = 29  A:42 X:02 Y:FF P:24 SP:FB PPU:196,238 CYC:22358
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf199, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F199  EA        NOP                             A:42 X:02 Y:FF P:24 SP:FB PPU:196,262 CYC:22366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf19a, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F19A  EA        NOP                             A:42 X:02 Y:FF P:24 SP:FB PPU:196,268 CYC:22368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf19b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F19B  08        PHP                             A:42 X:02 Y:FF P:24 SP:FB PPU:196,274 CYC:22370
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf19c, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F19C  48        PHA                             A:42 X:02 Y:FF P:24 SP:FA PPU:196,283 CYC:22373
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf19d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F19D  A0 DE     LDY #$DE                        A:42 X:02 Y:FF P:24 SP:F9 PPU:196,292 CYC:22376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf19f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F19F  68        PLA                             A:42 X:02 Y:DE P:A4 SP:F9 PPU:196,298 CYC:22378
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf1a0, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F1A0  28        PLP                             A:42 X:02 Y:DE P:24 SP:FA PPU:196,310 CYC:22382
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf1a1, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1A1  20 69 FB  JSR $FB69                       A:42 X:02 Y:DE P:24 SP:FB PPU:196,322 CYC:22386
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb69, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB69  70 0A     BVS $FB75                       A:42 X:02 Y:DE P:24 SP:F9 PPU:196,340 CYC:22392
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6B  F0 08     BEQ $FB75                       A:42 X:02 Y:DE P:24 SP:F9 PPU:197,  5 CYC:22394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6D  30 06     BMI $FB75                       A:42 X:02 Y:DE P:24 SP:F9 PPU:197, 11 CYC:22396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6F  B0 04     BCS $FB75                       A:42 X:02 Y:DE P:24 SP:F9 PPU:197, 17 CYC:22398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb71, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB71  C9 42     CMP #$42                        A:42 X:02 Y:DE P:24 SP:F9 PPU:197, 23 CYC:22400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb73, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB73  F0 02     BEQ $FB77                       A:42 X:02 Y:DE P:27 SP:F9 PPU:197, 29 CYC:22402
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb77, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB77  60        RTS                             A:42 X:02 Y:DE P:27 SP:F9 PPU:197, 38 CYC:22405
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1a4, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1A4  AD 47 06  LDA $0647 = 52                  A:42 X:02 Y:DE P:27 SP:FB PPU:197, 56 CYC:22411
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf1a7, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1A7  C9 52     CMP #$52                        A:52 X:02 Y:DE P:25 SP:FB PPU:197, 68 CYC:22415
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1a9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1A9  F0 02     BEQ $F1AD                       A:52 X:02 Y:DE P:27 SP:FB PPU:197, 74 CYC:22417
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1ad, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xde, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1AD  A0 FF     LDY #$FF                        A:52 X:02 Y:DE P:27 SP:FB PPU:197, 83 CYC:22420
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1af, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1AF  A9 37     LDA #$37                        A:52 X:02 Y:FF P:A5 SP:FB PPU:197, 89 CYC:22422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1b1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1B1  8D 47 06  STA $0647 = 52                  A:37 X:02 Y:FF P:25 SP:FB PPU:197, 95 CYC:22424
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf1b4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1B4  20 68 FA  JSR $FA68                       A:37 X:02 Y:FF P:25 SP:FB PPU:197,107 CYC:22428
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa68, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA68  24 01     BIT $01 = FF                    A:37 X:02 Y:FF P:25 SP:F9 PPU:197,125 CYC:22434
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6A  38        SEC                             A:37 X:02 Y:FF P:E5 SP:F9 PPU:197,134 CYC:22437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6B  A9 75     LDA #$75                        A:37 X:02 Y:FF P:E5 SP:F9 PPU:197,140 CYC:22439
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6d, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6D  60        RTS                             A:75 X:02 Y:FF P:65 SP:F9 PPU:197,146 CYC:22441
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1b7, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1B7  33 45    *RLA ($45),Y = 0548 @ 0647 = 37  A:75 X:02 Y:FF P:65 SP:FB PPU:197,164 CYC:22447
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf1b9, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1B9  EA        NOP                             A:65 X:02 Y:FF P:64 SP:FB PPU:197,188 CYC:22455
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1ba, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1BA  EA        NOP                             A:65 X:02 Y:FF P:64 SP:FB PPU:197,194 CYC:22457
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1bb, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1BB  08        PHP                             A:65 X:02 Y:FF P:64 SP:FB PPU:197,200 CYC:22459
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1bc, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F1BC  48        PHA                             A:65 X:02 Y:FF P:64 SP:FA PPU:197,209 CYC:22462
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1bd, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F1BD  A0 DF     LDY #$DF                        A:65 X:02 Y:FF P:64 SP:F9 PPU:197,218 CYC:22465
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1bf, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F1BF  68        PLA                             A:65 X:02 Y:DF P:E4 SP:F9 PPU:197,224 CYC:22467
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf1c0, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F1C0  28        PLP                             A:65 X:02 Y:DF P:64 SP:FA PPU:197,236 CYC:22471
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf1c1, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1C1  20 6E FA  JSR $FA6E                       A:65 X:02 Y:DF P:64 SP:FB PPU:197,248 CYC:22475
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6E  50 76     BVC $FAE6                       A:65 X:02 Y:DF P:64 SP:F9 PPU:197,266 CYC:22481
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa70, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA70  F0 74     BEQ $FAE6                       A:65 X:02 Y:DF P:64 SP:F9 PPU:197,272 CYC:22483
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa72, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA72  30 72     BMI $FAE6                       A:65 X:02 Y:DF P:64 SP:F9 PPU:197,278 CYC:22485
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa74, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA74  B0 70     BCS $FAE6                       A:65 X:02 Y:DF P:64 SP:F9 PPU:197,284 CYC:22487
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa76, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA76  C9 65     CMP #$65                        A:65 X:02 Y:DF P:64 SP:F9 PPU:197,290 CYC:22489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa78, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA78  D0 6C     BNE $FAE6                       A:65 X:02 Y:DF P:67 SP:F9 PPU:197,296 CYC:22491
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7A  60        RTS                             A:65 X:02 Y:DF P:67 SP:F9 PPU:197,302 CYC:22493
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1c4, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1C4  AD 47 06  LDA $0647 = 6F                  A:65 X:02 Y:DF P:67 SP:FB PPU:197,320 CYC:22499
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf1c7, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1C7  C9 6F     CMP #$6F                        A:6F X:02 Y:DF P:65 SP:FB PPU:197,332 CYC:22503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1c9, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1C9  F0 02     BEQ $F1CD                       A:6F X:02 Y:DF P:67 SP:FB PPU:197,338 CYC:22505
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1cd, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xdf, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1CD  A0 E0     LDY #$E0                        A:6F X:02 Y:DF P:67 SP:FB PPU:198,  6 CYC:22508
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1cf, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1CF  A2 FF     LDX #$FF                        A:6F X:02 Y:E0 P:E5 SP:FB PPU:198, 12 CYC:22510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1d1, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1D1  A9 A5     LDA #$A5                        A:6F X:FF Y:E0 P:E5 SP:FB PPU:198, 18 CYC:22512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1d3, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1D3  85 47     STA $47 = 6F                    A:A5 X:FF Y:E0 P:E5 SP:FB PPU:198, 24 CYC:22514
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1d5, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1D5  20 53 FB  JSR $FB53                       A:A5 X:FF Y:E0 P:E5 SP:FB PPU:198, 33 CYC:22517
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb53, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB53  24 01     BIT $01 = FF                    A:A5 X:FF Y:E0 P:E5 SP:F9 PPU:198, 51 CYC:22523
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb55, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB55  18        CLC                             A:A5 X:FF Y:E0 P:E5 SP:F9 PPU:198, 60 CYC:22526
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb56, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB56  A9 B3     LDA #$B3                        A:A5 X:FF Y:E0 P:E4 SP:F9 PPU:198, 66 CYC:22528
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb58, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB58  60        RTS                             A:B3 X:FF Y:E0 P:E4 SP:F9 PPU:198, 72 CYC:22530
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1d8, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1D8  37 48    *RLA $48,X @ 47 = A5             A:B3 X:FF Y:E0 P:E4 SP:FB PPU:198, 90 CYC:22536
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1da, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1DA  EA        NOP                             A:02 X:FF Y:E0 P:65 SP:FB PPU:198,108 CYC:22542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1db, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1DB  EA        NOP                             A:02 X:FF Y:E0 P:65 SP:FB PPU:198,114 CYC:22544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1dc, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1DC  EA        NOP                             A:02 X:FF Y:E0 P:65 SP:FB PPU:198,120 CYC:22546
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1dd, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1DD  EA        NOP                             A:02 X:FF Y:E0 P:65 SP:FB PPU:198,126 CYC:22548
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1de, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1DE  20 59 FB  JSR $FB59                       A:02 X:FF Y:E0 P:65 SP:FB PPU:198,132 CYC:22550
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb59, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB59  50 1A     BVC $FB75                       A:02 X:FF Y:E0 P:65 SP:F9 PPU:198,150 CYC:22556
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5B  90 18     BCC $FB75                       A:02 X:FF Y:E0 P:65 SP:F9 PPU:198,156 CYC:22558
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5D  30 16     BMI $FB75                       A:02 X:FF Y:E0 P:65 SP:F9 PPU:198,162 CYC:22560
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5F  C9 02     CMP #$02                        A:02 X:FF Y:E0 P:65 SP:F9 PPU:198,168 CYC:22562
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB61  D0 12     BNE $FB75                       A:02 X:FF Y:E0 P:67 SP:F9 PPU:198,174 CYC:22564
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb63, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB63  60        RTS                             A:02 X:FF Y:E0 P:67 SP:F9 PPU:198,180 CYC:22566
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1e1, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1E1  A5 47     LDA $47 = 4A                    A:02 X:FF Y:E0 P:67 SP:FB PPU:198,198 CYC:22572
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1e3, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1E3  C9 4A     CMP #$4A                        A:4A X:FF Y:E0 P:65 SP:FB PPU:198,207 CYC:22575
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1e5, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1E5  F0 02     BEQ $F1E9                       A:4A X:FF Y:E0 P:67 SP:FB PPU:198,213 CYC:22577
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1e9, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe0, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1E9  C8        INY                             A:4A X:FF Y:E0 P:67 SP:FB PPU:198,222 CYC:22580
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1ea, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1EA  A9 29     LDA #$29                        A:4A X:FF Y:E1 P:E5 SP:FB PPU:198,228 CYC:22582
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1ec, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1EC  85 47     STA $47 = 4A                    A:29 X:FF Y:E1 P:65 SP:FB PPU:198,234 CYC:22584
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1ee, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1EE  20 64 FB  JSR $FB64                       A:29 X:FF Y:E1 P:65 SP:FB PPU:198,243 CYC:22587
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb64, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB64  B8        CLV                             A:29 X:FF Y:E1 P:65 SP:F9 PPU:198,261 CYC:22593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb65, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB65  18        CLC                             A:29 X:FF Y:E1 P:25 SP:F9 PPU:198,267 CYC:22595
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb66, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB66  A9 42     LDA #$42                        A:29 X:FF Y:E1 P:24 SP:F9 PPU:198,273 CYC:22597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb68, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB68  60        RTS                             A:42 X:FF Y:E1 P:24 SP:F9 PPU:198,279 CYC:22599
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1f1, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1F1  37 48    *RLA $48,X @ 47 = 29             A:42 X:FF Y:E1 P:24 SP:FB PPU:198,297 CYC:22605
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1f3, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1F3  EA        NOP                             A:42 X:FF Y:E1 P:24 SP:FB PPU:198,315 CYC:22611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1f4, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1F4  EA        NOP                             A:42 X:FF Y:E1 P:24 SP:FB PPU:198,321 CYC:22613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1f5, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1F5  EA        NOP                             A:42 X:FF Y:E1 P:24 SP:FB PPU:198,327 CYC:22615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1f6, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1F6  EA        NOP                             A:42 X:FF Y:E1 P:24 SP:FB PPU:198,333 CYC:22617
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1f7, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1F7  20 69 FB  JSR $FB69                       A:42 X:FF Y:E1 P:24 SP:FB PPU:198,339 CYC:22619
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb69, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB69  70 0A     BVS $FB75                       A:42 X:FF Y:E1 P:24 SP:F9 PPU:199, 16 CYC:22625
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6B  F0 08     BEQ $FB75                       A:42 X:FF Y:E1 P:24 SP:F9 PPU:199, 22 CYC:22627
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6D  30 06     BMI $FB75                       A:42 X:FF Y:E1 P:24 SP:F9 PPU:199, 28 CYC:22629
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6F  B0 04     BCS $FB75                       A:42 X:FF Y:E1 P:24 SP:F9 PPU:199, 34 CYC:22631
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb71, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB71  C9 42     CMP #$42                        A:42 X:FF Y:E1 P:24 SP:F9 PPU:199, 40 CYC:22633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb73, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB73  F0 02     BEQ $FB77                       A:42 X:FF Y:E1 P:27 SP:F9 PPU:199, 46 CYC:22635
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb77, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB77  60        RTS                             A:42 X:FF Y:E1 P:27 SP:F9 PPU:199, 55 CYC:22638
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf1fa, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1FA  A5 47     LDA $47 = 52                    A:42 X:FF Y:E1 P:27 SP:FB PPU:199, 73 CYC:22644
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf1fc, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1FC  C9 52     CMP #$52                        A:52 X:FF Y:E1 P:25 SP:FB PPU:199, 82 CYC:22647
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf1fe, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F1FE  F0 02     BEQ $F202                       A:52 X:FF Y:E1 P:27 SP:FB PPU:199, 88 CYC:22649
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf202, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe1, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F202  C8        INY                             A:52 X:FF Y:E1 P:27 SP:FB PPU:199, 97 CYC:22652
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf203, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F203  A9 37     LDA #$37                        A:52 X:FF Y:E2 P:A5 SP:FB PPU:199,103 CYC:22654
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf205, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F205  85 47     STA $47 = 52                    A:37 X:FF Y:E2 P:25 SP:FB PPU:199,109 CYC:22656
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf207, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F207  20 68 FA  JSR $FA68                       A:37 X:FF Y:E2 P:25 SP:FB PPU:199,118 CYC:22659
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa68, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA68  24 01     BIT $01 = FF                    A:37 X:FF Y:E2 P:25 SP:F9 PPU:199,136 CYC:22665
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6A  38        SEC                             A:37 X:FF Y:E2 P:E5 SP:F9 PPU:199,145 CYC:22668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6B  A9 75     LDA #$75                        A:37 X:FF Y:E2 P:E5 SP:F9 PPU:199,151 CYC:22670
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6d, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6D  60        RTS                             A:75 X:FF Y:E2 P:65 SP:F9 PPU:199,157 CYC:22672
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf20a, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F20A  37 48    *RLA $48,X @ 47 = 37             A:75 X:FF Y:E2 P:65 SP:FB PPU:199,175 CYC:22678
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf20c, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F20C  EA        NOP                             A:65 X:FF Y:E2 P:64 SP:FB PPU:199,193 CYC:22684
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf20d, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F20D  EA        NOP                             A:65 X:FF Y:E2 P:64 SP:FB PPU:199,199 CYC:22686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf20e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F20E  EA        NOP                             A:65 X:FF Y:E2 P:64 SP:FB PPU:199,205 CYC:22688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf20f, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F20F  EA        NOP                             A:65 X:FF Y:E2 P:64 SP:FB PPU:199,211 CYC:22690
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf210, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F210  20 6E FA  JSR $FA6E                       A:65 X:FF Y:E2 P:64 SP:FB PPU:199,217 CYC:22692
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6E  50 76     BVC $FAE6                       A:65 X:FF Y:E2 P:64 SP:F9 PPU:199,235 CYC:22698
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa70, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA70  F0 74     BEQ $FAE6                       A:65 X:FF Y:E2 P:64 SP:F9 PPU:199,241 CYC:22700
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa72, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA72  30 72     BMI $FAE6                       A:65 X:FF Y:E2 P:64 SP:F9 PPU:199,247 CYC:22702
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa74, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA74  B0 70     BCS $FAE6                       A:65 X:FF Y:E2 P:64 SP:F9 PPU:199,253 CYC:22704
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa76, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA76  C9 65     CMP #$65                        A:65 X:FF Y:E2 P:64 SP:F9 PPU:199,259 CYC:22706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa78, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA78  D0 6C     BNE $FAE6                       A:65 X:FF Y:E2 P:67 SP:F9 PPU:199,265 CYC:22708
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7A  60        RTS                             A:65 X:FF Y:E2 P:67 SP:F9 PPU:199,271 CYC:22710
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf213, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F213  A5 47     LDA $47 = 6F                    A:65 X:FF Y:E2 P:67 SP:FB PPU:199,289 CYC:22716
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf215, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F215  C9 6F     CMP #$6F                        A:6F X:FF Y:E2 P:65 SP:FB PPU:199,298 CYC:22719
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf217, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F217  F0 02     BEQ $F21B                       A:6F X:FF Y:E2 P:67 SP:FB PPU:199,304 CYC:22721
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf21b, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F21B  A9 A5     LDA #$A5                        A:6F X:FF Y:E2 P:67 SP:FB PPU:199,313 CYC:22724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf21d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F21D  8D 47 06  STA $0647 = 6F                  A:A5 X:FF Y:E2 P:E5 SP:FB PPU:199,319 CYC:22726
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf220, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F220  A0 FF     LDY #$FF                        A:A5 X:FF Y:E2 P:E5 SP:FB PPU:199,331 CYC:22730
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf222, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F222  20 53 FB  JSR $FB53                       A:A5 X:FF Y:FF P:E5 SP:FB PPU:199,337 CYC:22732
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb53, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB53  24 01     BIT $01 = FF                    A:A5 X:FF Y:FF P:E5 SP:F9 PPU:200, 14 CYC:22738
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb55, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB55  18        CLC                             A:A5 X:FF Y:FF P:E5 SP:F9 PPU:200, 23 CYC:22741
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb56, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB56  A9 B3     LDA #$B3                        A:A5 X:FF Y:FF P:E4 SP:F9 PPU:200, 29 CYC:22743
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb58, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB58  60        RTS                             A:B3 X:FF Y:FF P:E4 SP:F9 PPU:200, 35 CYC:22745
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf225, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F225  3B 48 05 *RLA $0548,Y @ 0647 = A5         A:B3 X:FF Y:FF P:E4 SP:FB PPU:200, 53 CYC:22751
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf228, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F228  EA        NOP                             A:02 X:FF Y:FF P:65 SP:FB PPU:200, 74 CYC:22758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf229, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F229  EA        NOP                             A:02 X:FF Y:FF P:65 SP:FB PPU:200, 80 CYC:22760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf22a, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F22A  08        PHP                             A:02 X:FF Y:FF P:65 SP:FB PPU:200, 86 CYC:22762
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf22b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F22B  48        PHA                             A:02 X:FF Y:FF P:65 SP:FA PPU:200, 95 CYC:22765
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf22c, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F22C  A0 E3     LDY #$E3                        A:02 X:FF Y:FF P:65 SP:F9 PPU:200,104 CYC:22768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf22e, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F22E  68        PLA                             A:02 X:FF Y:E3 P:E5 SP:F9 PPU:200,110 CYC:22770
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf22f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F22F  28        PLP                             A:02 X:FF Y:E3 P:65 SP:FA PPU:200,122 CYC:22774
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf230, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F230  20 59 FB  JSR $FB59                       A:02 X:FF Y:E3 P:65 SP:FB PPU:200,134 CYC:22778
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb59, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB59  50 1A     BVC $FB75                       A:02 X:FF Y:E3 P:65 SP:F9 PPU:200,152 CYC:22784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5B  90 18     BCC $FB75                       A:02 X:FF Y:E3 P:65 SP:F9 PPU:200,158 CYC:22786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5D  30 16     BMI $FB75                       A:02 X:FF Y:E3 P:65 SP:F9 PPU:200,164 CYC:22788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5F  C9 02     CMP #$02                        A:02 X:FF Y:E3 P:65 SP:F9 PPU:200,170 CYC:22790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB61  D0 12     BNE $FB75                       A:02 X:FF Y:E3 P:67 SP:F9 PPU:200,176 CYC:22792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb63, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB63  60        RTS                             A:02 X:FF Y:E3 P:67 SP:F9 PPU:200,182 CYC:22794
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf233, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F233  AD 47 06  LDA $0647 = 4A                  A:02 X:FF Y:E3 P:67 SP:FB PPU:200,200 CYC:22800
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf236, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F236  C9 4A     CMP #$4A                        A:4A X:FF Y:E3 P:65 SP:FB PPU:200,212 CYC:22804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf238, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F238  F0 02     BEQ $F23C                       A:4A X:FF Y:E3 P:67 SP:FB PPU:200,218 CYC:22806
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf23c, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe3, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F23C  A0 FF     LDY #$FF                        A:4A X:FF Y:E3 P:67 SP:FB PPU:200,227 CYC:22809
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf23e, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F23E  A9 29     LDA #$29                        A:4A X:FF Y:FF P:E5 SP:FB PPU:200,233 CYC:22811
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf240, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F240  8D 47 06  STA $0647 = 4A                  A:29 X:FF Y:FF P:65 SP:FB PPU:200,239 CYC:22813
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf243, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F243  20 64 FB  JSR $FB64                       A:29 X:FF Y:FF P:65 SP:FB PPU:200,251 CYC:22817
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb64, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB64  B8        CLV                             A:29 X:FF Y:FF P:65 SP:F9 PPU:200,269 CYC:22823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb65, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB65  18        CLC                             A:29 X:FF Y:FF P:25 SP:F9 PPU:200,275 CYC:22825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb66, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB66  A9 42     LDA #$42                        A:29 X:FF Y:FF P:24 SP:F9 PPU:200,281 CYC:22827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb68, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB68  60        RTS                             A:42 X:FF Y:FF P:24 SP:F9 PPU:200,287 CYC:22829
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf246, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F246  3B 48 05 *RLA $0548,Y @ 0647 = 29         A:42 X:FF Y:FF P:24 SP:FB PPU:200,305 CYC:22835
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf249, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F249  EA        NOP                             A:42 X:FF Y:FF P:24 SP:FB PPU:200,326 CYC:22842
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf24a, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F24A  EA        NOP                             A:42 X:FF Y:FF P:24 SP:FB PPU:200,332 CYC:22844
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf24b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F24B  08        PHP                             A:42 X:FF Y:FF P:24 SP:FB PPU:200,338 CYC:22846
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf24c, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F24C  48        PHA                             A:42 X:FF Y:FF P:24 SP:FA PPU:201,  6 CYC:22849
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf24d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F24D  A0 E4     LDY #$E4                        A:42 X:FF Y:FF P:24 SP:F9 PPU:201, 15 CYC:22852
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf24f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0xa4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F24F  68        PLA                             A:42 X:FF Y:E4 P:A4 SP:F9 PPU:201, 21 CYC:22854
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf250, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F250  28        PLP                             A:42 X:FF Y:E4 P:24 SP:FA PPU:201, 33 CYC:22858
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf251, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F251  20 69 FB  JSR $FB69                       A:42 X:FF Y:E4 P:24 SP:FB PPU:201, 45 CYC:22862
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb69, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB69  70 0A     BVS $FB75                       A:42 X:FF Y:E4 P:24 SP:F9 PPU:201, 63 CYC:22868
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6B  F0 08     BEQ $FB75                       A:42 X:FF Y:E4 P:24 SP:F9 PPU:201, 69 CYC:22870
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6D  30 06     BMI $FB75                       A:42 X:FF Y:E4 P:24 SP:F9 PPU:201, 75 CYC:22872
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6F  B0 04     BCS $FB75                       A:42 X:FF Y:E4 P:24 SP:F9 PPU:201, 81 CYC:22874
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb71, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB71  C9 42     CMP #$42                        A:42 X:FF Y:E4 P:24 SP:F9 PPU:201, 87 CYC:22876
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb73, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB73  F0 02     BEQ $FB77                       A:42 X:FF Y:E4 P:27 SP:F9 PPU:201, 93 CYC:22878
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb77, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB77  60        RTS                             A:42 X:FF Y:E4 P:27 SP:F9 PPU:201,102 CYC:22881
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf254, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F254  AD 47 06  LDA $0647 = 52                  A:42 X:FF Y:E4 P:27 SP:FB PPU:201,120 CYC:22887
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf257, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F257  C9 52     CMP #$52                        A:52 X:FF Y:E4 P:25 SP:FB PPU:201,132 CYC:22891
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf259, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F259  F0 02     BEQ $F25D                       A:52 X:FF Y:E4 P:27 SP:FB PPU:201,138 CYC:22893
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf25d, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe4, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F25D  A0 FF     LDY #$FF                        A:52 X:FF Y:E4 P:27 SP:FB PPU:201,147 CYC:22896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf25f, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F25F  A9 37     LDA #$37                        A:52 X:FF Y:FF P:A5 SP:FB PPU:201,153 CYC:22898
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf261, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F261  8D 47 06  STA $0647 = 52                  A:37 X:FF Y:FF P:25 SP:FB PPU:201,159 CYC:22900
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf264, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F264  20 68 FA  JSR $FA68                       A:37 X:FF Y:FF P:25 SP:FB PPU:201,171 CYC:22904
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa68, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA68  24 01     BIT $01 = FF                    A:37 X:FF Y:FF P:25 SP:F9 PPU:201,189 CYC:22910
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6A  38        SEC                             A:37 X:FF Y:FF P:E5 SP:F9 PPU:201,198 CYC:22913
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6B  A9 75     LDA #$75                        A:37 X:FF Y:FF P:E5 SP:F9 PPU:201,204 CYC:22915
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6d, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6D  60        RTS                             A:75 X:FF Y:FF P:65 SP:F9 PPU:201,210 CYC:22917
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf267, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F267  3B 48 05 *RLA $0548,Y @ 0647 = 37         A:75 X:FF Y:FF P:65 SP:FB PPU:201,228 CYC:22923
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf26a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F26A  EA        NOP                             A:65 X:FF Y:FF P:64 SP:FB PPU:201,249 CYC:22930
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf26b, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F26B  EA        NOP                             A:65 X:FF Y:FF P:64 SP:FB PPU:201,255 CYC:22932
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf26c, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F26C  08        PHP                             A:65 X:FF Y:FF P:64 SP:FB PPU:201,261 CYC:22934
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf26d, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F26D  48        PHA                             A:65 X:FF Y:FF P:64 SP:FA PPU:201,270 CYC:22937
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf26e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F26E  A0 E5     LDY #$E5                        A:65 X:FF Y:FF P:64 SP:F9 PPU:201,279 CYC:22940
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf270, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F270  68        PLA                             A:65 X:FF Y:E5 P:E4 SP:F9 PPU:201,285 CYC:22942
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf271, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F271  28        PLP                             A:65 X:FF Y:E5 P:64 SP:FA PPU:201,297 CYC:22946
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf272, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F272  20 6E FA  JSR $FA6E                       A:65 X:FF Y:E5 P:64 SP:FB PPU:201,309 CYC:22950
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6E  50 76     BVC $FAE6                       A:65 X:FF Y:E5 P:64 SP:F9 PPU:201,327 CYC:22956
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa70, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA70  F0 74     BEQ $FAE6                       A:65 X:FF Y:E5 P:64 SP:F9 PPU:201,333 CYC:22958
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa72, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA72  30 72     BMI $FAE6                       A:65 X:FF Y:E5 P:64 SP:F9 PPU:201,339 CYC:22960
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa74, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA74  B0 70     BCS $FAE6                       A:65 X:FF Y:E5 P:64 SP:F9 PPU:202,  4 CYC:22962
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa76, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA76  C9 65     CMP #$65                        A:65 X:FF Y:E5 P:64 SP:F9 PPU:202, 10 CYC:22964
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa78, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA78  D0 6C     BNE $FAE6                       A:65 X:FF Y:E5 P:67 SP:F9 PPU:202, 16 CYC:22966
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7A  60        RTS                             A:65 X:FF Y:E5 P:67 SP:F9 PPU:202, 22 CYC:22968
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf275, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F275  AD 47 06  LDA $0647 = 6F                  A:65 X:FF Y:E5 P:67 SP:FB PPU:202, 40 CYC:22974
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf278, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F278  C9 6F     CMP #$6F                        A:6F X:FF Y:E5 P:65 SP:FB PPU:202, 52 CYC:22978
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf27a, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F27A  F0 02     BEQ $F27E                       A:6F X:FF Y:E5 P:67 SP:FB PPU:202, 58 CYC:22980
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf27e, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F27E  A0 E6     LDY #$E6                        A:6F X:FF Y:E5 P:67 SP:FB PPU:202, 67 CYC:22983
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf280, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F280  A2 FF     LDX #$FF                        A:6F X:FF Y:E6 P:E5 SP:FB PPU:202, 73 CYC:22985
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf282, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F282  A9 A5     LDA #$A5                        A:6F X:FF Y:E6 P:E5 SP:FB PPU:202, 79 CYC:22987
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf284, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F284  8D 47 06  STA $0647 = 6F                  A:A5 X:FF Y:E6 P:E5 SP:FB PPU:202, 85 CYC:22989
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf287, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F287  20 53 FB  JSR $FB53                       A:A5 X:FF Y:E6 P:E5 SP:FB PPU:202, 97 CYC:22993
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb53, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB53  24 01     BIT $01 = FF                    A:A5 X:FF Y:E6 P:E5 SP:F9 PPU:202,115 CYC:22999
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb55, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB55  18        CLC                             A:A5 X:FF Y:E6 P:E5 SP:F9 PPU:202,124 CYC:23002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb56, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB56  A9 B3     LDA #$B3                        A:A5 X:FF Y:E6 P:E4 SP:F9 PPU:202,130 CYC:23004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb58, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB58  60        RTS                             A:B3 X:FF Y:E6 P:E4 SP:F9 PPU:202,136 CYC:23006
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf28a, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F28A  3F 48 05 *RLA $0548,X @ 0647 = A5         A:B3 X:FF Y:E6 P:E4 SP:FB PPU:202,154 CYC:23012
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf28d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F28D  EA        NOP                             A:02 X:FF Y:E6 P:65 SP:FB PPU:202,175 CYC:23019
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf28e, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F28E  EA        NOP                             A:02 X:FF Y:E6 P:65 SP:FB PPU:202,181 CYC:23021
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf28f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F28F  EA        NOP                             A:02 X:FF Y:E6 P:65 SP:FB PPU:202,187 CYC:23023
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf290, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F290  EA        NOP                             A:02 X:FF Y:E6 P:65 SP:FB PPU:202,193 CYC:23025
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf291, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F291  20 59 FB  JSR $FB59                       A:02 X:FF Y:E6 P:65 SP:FB PPU:202,199 CYC:23027
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb59, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB59  50 1A     BVC $FB75                       A:02 X:FF Y:E6 P:65 SP:F9 PPU:202,217 CYC:23033
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5b, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5B  90 18     BCC $FB75                       A:02 X:FF Y:E6 P:65 SP:F9 PPU:202,223 CYC:23035
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5d, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5D  30 16     BMI $FB75                       A:02 X:FF Y:E6 P:65 SP:F9 PPU:202,229 CYC:23037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb5f, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB5F  C9 02     CMP #$02                        A:02 X:FF Y:E6 P:65 SP:F9 PPU:202,235 CYC:23039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb61, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB61  D0 12     BNE $FB75                       A:02 X:FF Y:E6 P:67 SP:F9 PPU:202,241 CYC:23041
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb63, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB63  60        RTS                             A:02 X:FF Y:E6 P:67 SP:F9 PPU:202,247 CYC:23043
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf294, cpu.pc);
    try expectEqual(0x02, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F294  AD 47 06  LDA $0647 = 4A                  A:02 X:FF Y:E6 P:67 SP:FB PPU:202,265 CYC:23049
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf297, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F297  C9 4A     CMP #$4A                        A:4A X:FF Y:E6 P:65 SP:FB PPU:202,277 CYC:23053
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf299, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F299  F0 02     BEQ $F29D                       A:4A X:FF Y:E6 P:67 SP:FB PPU:202,283 CYC:23055
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf29d, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe6, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F29D  C8        INY                             A:4A X:FF Y:E6 P:67 SP:FB PPU:202,292 CYC:23058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf29e, cpu.pc);
    try expectEqual(0x4a, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F29E  A9 29     LDA #$29                        A:4A X:FF Y:E7 P:E5 SP:FB PPU:202,298 CYC:23060
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2a0, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2A0  8D 47 06  STA $0647 = 4A                  A:29 X:FF Y:E7 P:65 SP:FB PPU:202,304 CYC:23062
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf2a3, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2A3  20 64 FB  JSR $FB64                       A:29 X:FF Y:E7 P:65 SP:FB PPU:202,316 CYC:23066
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb64, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB64  B8        CLV                             A:29 X:FF Y:E7 P:65 SP:F9 PPU:202,334 CYC:23072
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb65, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB65  18        CLC                             A:29 X:FF Y:E7 P:25 SP:F9 PPU:202,340 CYC:23074
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb66, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB66  A9 42     LDA #$42                        A:29 X:FF Y:E7 P:24 SP:F9 PPU:203,  5 CYC:23076
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb68, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB68  60        RTS                             A:42 X:FF Y:E7 P:24 SP:F9 PPU:203, 11 CYC:23078
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf2a6, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2A6  3F 48 05 *RLA $0548,X @ 0647 = 29         A:42 X:FF Y:E7 P:24 SP:FB PPU:203, 29 CYC:23084
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf2a9, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2A9  EA        NOP                             A:42 X:FF Y:E7 P:24 SP:FB PPU:203, 50 CYC:23091
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2aa, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2AA  EA        NOP                             A:42 X:FF Y:E7 P:24 SP:FB PPU:203, 56 CYC:23093
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2ab, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2AB  EA        NOP                             A:42 X:FF Y:E7 P:24 SP:FB PPU:203, 62 CYC:23095
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2ac, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2AC  EA        NOP                             A:42 X:FF Y:E7 P:24 SP:FB PPU:203, 68 CYC:23097
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2ad, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2AD  20 69 FB  JSR $FB69                       A:42 X:FF Y:E7 P:24 SP:FB PPU:203, 74 CYC:23099
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb69, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB69  70 0A     BVS $FB75                       A:42 X:FF Y:E7 P:24 SP:F9 PPU:203, 92 CYC:23105
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6b, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6B  F0 08     BEQ $FB75                       A:42 X:FF Y:E7 P:24 SP:F9 PPU:203, 98 CYC:23107
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6d, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6D  30 06     BMI $FB75                       A:42 X:FF Y:E7 P:24 SP:F9 PPU:203,104 CYC:23109
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb6f, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB6F  B0 04     BCS $FB75                       A:42 X:FF Y:E7 P:24 SP:F9 PPU:203,110 CYC:23111
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb71, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB71  C9 42     CMP #$42                        A:42 X:FF Y:E7 P:24 SP:F9 PPU:203,116 CYC:23113
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb73, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB73  F0 02     BEQ $FB77                       A:42 X:FF Y:E7 P:27 SP:F9 PPU:203,122 CYC:23115
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb77, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB77  60        RTS                             A:42 X:FF Y:E7 P:27 SP:F9 PPU:203,131 CYC:23118
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf2b0, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2B0  AD 47 06  LDA $0647 = 52                  A:42 X:FF Y:E7 P:27 SP:FB PPU:203,149 CYC:23124
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf2b3, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2B3  C9 52     CMP #$52                        A:52 X:FF Y:E7 P:25 SP:FB PPU:203,161 CYC:23128
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2b5, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2B5  F0 02     BEQ $F2B9                       A:52 X:FF Y:E7 P:27 SP:FB PPU:203,167 CYC:23130
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf2b9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe7, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2B9  C8        INY                             A:52 X:FF Y:E7 P:27 SP:FB PPU:203,176 CYC:23133
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2ba, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2BA  A9 37     LDA #$37                        A:52 X:FF Y:E8 P:A5 SP:FB PPU:203,182 CYC:23135
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2bc, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2BC  8D 47 06  STA $0647 = 52                  A:37 X:FF Y:E8 P:25 SP:FB PPU:203,188 CYC:23137
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf2bf, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2BF  20 68 FA  JSR $FA68                       A:37 X:FF Y:E8 P:25 SP:FB PPU:203,200 CYC:23141
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa68, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA68  24 01     BIT $01 = FF                    A:37 X:FF Y:E8 P:25 SP:F9 PPU:203,218 CYC:23147
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6A  38        SEC                             A:37 X:FF Y:E8 P:E5 SP:F9 PPU:203,227 CYC:23150
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6B  A9 75     LDA #$75                        A:37 X:FF Y:E8 P:E5 SP:F9 PPU:203,233 CYC:23152
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6d, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6D  60        RTS                             A:75 X:FF Y:E8 P:65 SP:F9 PPU:203,239 CYC:23154
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf2c2, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2C2  3F 48 05 *RLA $0548,X @ 0647 = 37         A:75 X:FF Y:E8 P:65 SP:FB PPU:203,257 CYC:23160
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf2c5, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2C5  EA        NOP                             A:65 X:FF Y:E8 P:64 SP:FB PPU:203,278 CYC:23167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2c6, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2C6  EA        NOP                             A:65 X:FF Y:E8 P:64 SP:FB PPU:203,284 CYC:23169
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2c7, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2C7  EA        NOP                             A:65 X:FF Y:E8 P:64 SP:FB PPU:203,290 CYC:23171
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2c8, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2C8  EA        NOP                             A:65 X:FF Y:E8 P:64 SP:FB PPU:203,296 CYC:23173
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2c9, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2C9  20 6E FA  JSR $FA6E                       A:65 X:FF Y:E8 P:64 SP:FB PPU:203,302 CYC:23175
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfa6e, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA6E  50 76     BVC $FAE6                       A:65 X:FF Y:E8 P:64 SP:F9 PPU:203,320 CYC:23181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa70, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA70  F0 74     BEQ $FAE6                       A:65 X:FF Y:E8 P:64 SP:F9 PPU:203,326 CYC:23183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa72, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA72  30 72     BMI $FAE6                       A:65 X:FF Y:E8 P:64 SP:F9 PPU:203,332 CYC:23185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa74, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA74  B0 70     BCS $FAE6                       A:65 X:FF Y:E8 P:64 SP:F9 PPU:203,338 CYC:23187
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa76, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x64, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA76  C9 65     CMP #$65                        A:65 X:FF Y:E8 P:64 SP:F9 PPU:204,  3 CYC:23189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa78, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA78  D0 6C     BNE $FAE6                       A:65 X:FF Y:E8 P:67 SP:F9 PPU:204,  9 CYC:23191
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfa7a, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FA7A  60        RTS                             A:65 X:FF Y:E8 P:67 SP:F9 PPU:204, 15 CYC:23193
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf2cc, cpu.pc);
    try expectEqual(0x65, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2CC  AD 47 06  LDA $0647 = 6F                  A:65 X:FF Y:E8 P:67 SP:FB PPU:204, 33 CYC:23199
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf2cf, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2CF  C9 6F     CMP #$6F                        A:6F X:FF Y:E8 P:65 SP:FB PPU:204, 45 CYC:23203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2d1, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2D1  F0 02     BEQ $F2D5                       A:6F X:FF Y:E8 P:67 SP:FB PPU:204, 51 CYC:23205
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf2d5, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2D5  60        RTS                             A:6F X:FF Y:E8 P:67 SP:FB PPU:204, 60 CYC:23208
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc647, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C647  20 D6 F2  JSR $F2D6                       A:6F X:FF Y:E8 P:67 SP:FD PPU:204, 78 CYC:23214
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf2d6, cpu.pc);
    try expectEqual(0x6f, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2D6  A9 FF     LDA #$FF                        A:6F X:FF Y:E8 P:67 SP:FB PPU:204, 96 CYC:23220
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2d8, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2D8  85 01     STA $01 = FF                    A:FF X:FF Y:E8 P:E5 SP:FB PPU:204,102 CYC:23222
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf2da, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2DA  A0 E9     LDY #$E9                        A:FF X:FF Y:E8 P:E5 SP:FB PPU:204,111 CYC:23225
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2dc, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2DC  A2 02     LDX #$02                        A:FF X:FF Y:E9 P:E5 SP:FB PPU:204,117 CYC:23227
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2de, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2DE  A9 47     LDA #$47                        A:FF X:02 Y:E9 P:65 SP:FB PPU:204,123 CYC:23229
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2e0, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2E0  85 47     STA $47 = 6F                    A:47 X:02 Y:E9 P:65 SP:FB PPU:204,129 CYC:23231
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf2e2, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2E2  A9 06     LDA #$06                        A:47 X:02 Y:E9 P:65 SP:FB PPU:204,138 CYC:23234
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2e4, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2E4  85 48     STA $48 = 06                    A:06 X:02 Y:E9 P:65 SP:FB PPU:204,144 CYC:23236
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf2e6, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2E6  A9 A5     LDA #$A5                        A:06 X:02 Y:E9 P:65 SP:FB PPU:204,153 CYC:23239
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2e8, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2E8  8D 47 06  STA $0647 = 6F                  A:A5 X:02 Y:E9 P:E5 SP:FB PPU:204,159 CYC:23241
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf2eb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2EB  20 1D FB  JSR $FB1D                       A:A5 X:02 Y:E9 P:E5 SP:FB PPU:204,171 CYC:23245
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1D  24 01     BIT $01 = FF                    A:A5 X:02 Y:E9 P:E5 SP:F9 PPU:204,189 CYC:23251
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1f, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1F  18        CLC                             A:A5 X:02 Y:E9 P:E5 SP:F9 PPU:204,198 CYC:23254
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb20, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB20  A9 B3     LDA #$B3                        A:A5 X:02 Y:E9 P:E4 SP:F9 PPU:204,204 CYC:23256
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb22, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB22  60        RTS                             A:B3 X:02 Y:E9 P:E4 SP:F9 PPU:204,210 CYC:23258
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf2ee, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2EE  43 45    *SRE ($45,X) @ 47 = 0647 = A5    A:B3 X:02 Y:E9 P:E4 SP:FB PPU:204,228 CYC:23264
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf2f0, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2F0  EA        NOP                             A:E1 X:02 Y:E9 P:E5 SP:FB PPU:204,252 CYC:23272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2f1, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2F1  EA        NOP                             A:E1 X:02 Y:E9 P:E5 SP:FB PPU:204,258 CYC:23274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2f2, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2F2  EA        NOP                             A:E1 X:02 Y:E9 P:E5 SP:FB PPU:204,264 CYC:23276
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2f3, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2F3  EA        NOP                             A:E1 X:02 Y:E9 P:E5 SP:FB PPU:204,270 CYC:23278
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2f4, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2F4  20 23 FB  JSR $FB23                       A:E1 X:02 Y:E9 P:E5 SP:FB PPU:204,276 CYC:23280
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb23, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB23  50 50     BVC $FB75                       A:E1 X:02 Y:E9 P:E5 SP:F9 PPU:204,294 CYC:23286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb25, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB25  90 4E     BCC $FB75                       A:E1 X:02 Y:E9 P:E5 SP:F9 PPU:204,300 CYC:23288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb27, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB27  10 4C     BPL $FB75                       A:E1 X:02 Y:E9 P:E5 SP:F9 PPU:204,306 CYC:23290
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb29, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB29  C9 E1     CMP #$E1                        A:E1 X:02 Y:E9 P:E5 SP:F9 PPU:204,312 CYC:23292
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2B  D0 48     BNE $FB75                       A:E1 X:02 Y:E9 P:67 SP:F9 PPU:204,318 CYC:23294
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2D  60        RTS                             A:E1 X:02 Y:E9 P:67 SP:F9 PPU:204,324 CYC:23296
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf2f7, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2F7  AD 47 06  LDA $0647 = 52                  A:E1 X:02 Y:E9 P:67 SP:FB PPU:205,  1 CYC:23302
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf2fa, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2FA  C9 52     CMP #$52                        A:52 X:02 Y:E9 P:65 SP:FB PPU:205, 13 CYC:23306
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf2fc, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F2FC  F0 02     BEQ $F300                       A:52 X:02 Y:E9 P:67 SP:FB PPU:205, 19 CYC:23308
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf300, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xe9, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F300  C8        INY                             A:52 X:02 Y:E9 P:67 SP:FB PPU:205, 31 CYC:23312
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf301, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F301  A9 29     LDA #$29                        A:52 X:02 Y:EA P:E5 SP:FB PPU:205, 37 CYC:23314
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf303, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F303  8D 47 06  STA $0647 = 52                  A:29 X:02 Y:EA P:65 SP:FB PPU:205, 43 CYC:23316
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf306, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F306  20 2E FB  JSR $FB2E                       A:29 X:02 Y:EA P:65 SP:FB PPU:205, 55 CYC:23320
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2E  B8        CLV                             A:29 X:02 Y:EA P:65 SP:F9 PPU:205, 73 CYC:23326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2f, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2F  18        CLC                             A:29 X:02 Y:EA P:25 SP:F9 PPU:205, 79 CYC:23328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb30, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB30  A9 42     LDA #$42                        A:29 X:02 Y:EA P:24 SP:F9 PPU:205, 85 CYC:23330
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb32, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB32  60        RTS                             A:42 X:02 Y:EA P:24 SP:F9 PPU:205, 91 CYC:23332
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf309, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F309  43 45    *SRE ($45,X) @ 47 = 0647 = 29    A:42 X:02 Y:EA P:24 SP:FB PPU:205,109 CYC:23338
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf30b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F30B  EA        NOP                             A:56 X:02 Y:EA P:25 SP:FB PPU:205,133 CYC:23346
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf30c, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F30C  EA        NOP                             A:56 X:02 Y:EA P:25 SP:FB PPU:205,139 CYC:23348
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf30d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F30D  EA        NOP                             A:56 X:02 Y:EA P:25 SP:FB PPU:205,145 CYC:23350
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf30e, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F30E  EA        NOP                             A:56 X:02 Y:EA P:25 SP:FB PPU:205,151 CYC:23352
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf30f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F30F  20 33 FB  JSR $FB33                       A:56 X:02 Y:EA P:25 SP:FB PPU:205,157 CYC:23354
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb33, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB33  70 40     BVS $FB75                       A:56 X:02 Y:EA P:25 SP:F9 PPU:205,175 CYC:23360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb35, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB35  F0 3E     BEQ $FB75                       A:56 X:02 Y:EA P:25 SP:F9 PPU:205,181 CYC:23362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb37, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB37  30 3C     BMI $FB75                       A:56 X:02 Y:EA P:25 SP:F9 PPU:205,187 CYC:23364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb39, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB39  90 3A     BCC $FB75                       A:56 X:02 Y:EA P:25 SP:F9 PPU:205,193 CYC:23366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3B  C9 56     CMP #$56                        A:56 X:02 Y:EA P:25 SP:F9 PPU:205,199 CYC:23368
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3D  D0 36     BNE $FB75                       A:56 X:02 Y:EA P:27 SP:F9 PPU:205,205 CYC:23370
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3F  60        RTS                             A:56 X:02 Y:EA P:27 SP:F9 PPU:205,211 CYC:23372
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf312, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F312  AD 47 06  LDA $0647 = 14                  A:56 X:02 Y:EA P:27 SP:FB PPU:205,229 CYC:23378
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf315, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F315  C9 14     CMP #$14                        A:14 X:02 Y:EA P:25 SP:FB PPU:205,241 CYC:23382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf317, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F317  F0 02     BEQ $F31B                       A:14 X:02 Y:EA P:27 SP:FB PPU:205,247 CYC:23384
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf31b, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xea, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F31B  C8        INY                             A:14 X:02 Y:EA P:27 SP:FB PPU:205,256 CYC:23387
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf31c, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F31C  A9 37     LDA #$37                        A:14 X:02 Y:EB P:A5 SP:FB PPU:205,262 CYC:23389
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf31e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F31E  8D 47 06  STA $0647 = 14                  A:37 X:02 Y:EB P:25 SP:FB PPU:205,268 CYC:23391
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf321, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F321  20 40 FB  JSR $FB40                       A:37 X:02 Y:EB P:25 SP:FB PPU:205,280 CYC:23395
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb40, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB40  24 01     BIT $01 = FF                    A:37 X:02 Y:EB P:25 SP:F9 PPU:205,298 CYC:23401
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb42, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB42  38        SEC                             A:37 X:02 Y:EB P:E5 SP:F9 PPU:205,307 CYC:23404
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb43, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB43  A9 75     LDA #$75                        A:37 X:02 Y:EB P:E5 SP:F9 PPU:205,313 CYC:23406
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb45, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB45  60        RTS                             A:75 X:02 Y:EB P:65 SP:F9 PPU:205,319 CYC:23408
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf324, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F324  43 45    *SRE ($45,X) @ 47 = 0647 = 37    A:75 X:02 Y:EB P:65 SP:FB PPU:205,337 CYC:23414
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf326, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F326  EA        NOP                             A:6E X:02 Y:EB P:65 SP:FB PPU:206, 20 CYC:23422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf327, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F327  EA        NOP                             A:6E X:02 Y:EB P:65 SP:FB PPU:206, 26 CYC:23424
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf328, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F328  EA        NOP                             A:6E X:02 Y:EB P:65 SP:FB PPU:206, 32 CYC:23426
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf329, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F329  EA        NOP                             A:6E X:02 Y:EB P:65 SP:FB PPU:206, 38 CYC:23428
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf32a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F32A  20 46 FB  JSR $FB46                       A:6E X:02 Y:EB P:65 SP:FB PPU:206, 44 CYC:23430
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb46, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB46  50 2D     BVC $FB75                       A:6E X:02 Y:EB P:65 SP:F9 PPU:206, 62 CYC:23436
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb48, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB48  F0 2B     BEQ $FB75                       A:6E X:02 Y:EB P:65 SP:F9 PPU:206, 68 CYC:23438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4A  30 29     BMI $FB75                       A:6E X:02 Y:EB P:65 SP:F9 PPU:206, 74 CYC:23440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4C  90 27     BCC $FB75                       A:6E X:02 Y:EB P:65 SP:F9 PPU:206, 80 CYC:23442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4E  C9 6E     CMP #$6E                        A:6E X:02 Y:EB P:65 SP:F9 PPU:206, 86 CYC:23444
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB50  D0 23     BNE $FB75                       A:6E X:02 Y:EB P:67 SP:F9 PPU:206, 92 CYC:23446
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB52  60        RTS                             A:6E X:02 Y:EB P:67 SP:F9 PPU:206, 98 CYC:23448
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf32d, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F32D  AD 47 06  LDA $0647 = 1B                  A:6E X:02 Y:EB P:67 SP:FB PPU:206,116 CYC:23454
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf330, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F330  C9 1B     CMP #$1B                        A:1B X:02 Y:EB P:65 SP:FB PPU:206,128 CYC:23458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf332, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F332  F0 02     BEQ $F336                       A:1B X:02 Y:EB P:67 SP:FB PPU:206,134 CYC:23460
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf336, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xeb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F336  C8        INY                             A:1B X:02 Y:EB P:67 SP:FB PPU:206,143 CYC:23463
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf337, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F337  A9 A5     LDA #$A5                        A:1B X:02 Y:EC P:E5 SP:FB PPU:206,149 CYC:23465
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf339, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F339  85 47     STA $47 = 47                    A:A5 X:02 Y:EC P:E5 SP:FB PPU:206,155 CYC:23467
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf33b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F33B  20 1D FB  JSR $FB1D                       A:A5 X:02 Y:EC P:E5 SP:FB PPU:206,164 CYC:23470
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1D  24 01     BIT $01 = FF                    A:A5 X:02 Y:EC P:E5 SP:F9 PPU:206,182 CYC:23476
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1f, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1F  18        CLC                             A:A5 X:02 Y:EC P:E5 SP:F9 PPU:206,191 CYC:23479
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb20, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB20  A9 B3     LDA #$B3                        A:A5 X:02 Y:EC P:E4 SP:F9 PPU:206,197 CYC:23481
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb22, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB22  60        RTS                             A:B3 X:02 Y:EC P:E4 SP:F9 PPU:206,203 CYC:23483
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf33e, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F33E  47 47    *SRE $47 = A5                    A:B3 X:02 Y:EC P:E4 SP:FB PPU:206,221 CYC:23489
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf340, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F340  EA        NOP                             A:E1 X:02 Y:EC P:E5 SP:FB PPU:206,236 CYC:23494
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf341, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F341  EA        NOP                             A:E1 X:02 Y:EC P:E5 SP:FB PPU:206,242 CYC:23496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf342, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F342  EA        NOP                             A:E1 X:02 Y:EC P:E5 SP:FB PPU:206,248 CYC:23498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf343, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F343  EA        NOP                             A:E1 X:02 Y:EC P:E5 SP:FB PPU:206,254 CYC:23500
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf344, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F344  20 23 FB  JSR $FB23                       A:E1 X:02 Y:EC P:E5 SP:FB PPU:206,260 CYC:23502
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb23, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB23  50 50     BVC $FB75                       A:E1 X:02 Y:EC P:E5 SP:F9 PPU:206,278 CYC:23508
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb25, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB25  90 4E     BCC $FB75                       A:E1 X:02 Y:EC P:E5 SP:F9 PPU:206,284 CYC:23510
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb27, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB27  10 4C     BPL $FB75                       A:E1 X:02 Y:EC P:E5 SP:F9 PPU:206,290 CYC:23512
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb29, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB29  C9 E1     CMP #$E1                        A:E1 X:02 Y:EC P:E5 SP:F9 PPU:206,296 CYC:23514
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2B  D0 48     BNE $FB75                       A:E1 X:02 Y:EC P:67 SP:F9 PPU:206,302 CYC:23516
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2D  60        RTS                             A:E1 X:02 Y:EC P:67 SP:F9 PPU:206,308 CYC:23518
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf347, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F347  A5 47     LDA $47 = 52                    A:E1 X:02 Y:EC P:67 SP:FB PPU:206,326 CYC:23524
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf349, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F349  C9 52     CMP #$52                        A:52 X:02 Y:EC P:65 SP:FB PPU:206,335 CYC:23527
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf34b, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F34B  F0 02     BEQ $F34F                       A:52 X:02 Y:EC P:67 SP:FB PPU:207,  0 CYC:23529
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf34f, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xec, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F34F  C8        INY                             A:52 X:02 Y:EC P:67 SP:FB PPU:207,  9 CYC:23532
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf350, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F350  A9 29     LDA #$29                        A:52 X:02 Y:ED P:E5 SP:FB PPU:207, 15 CYC:23534
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf352, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F352  85 47     STA $47 = 52                    A:29 X:02 Y:ED P:65 SP:FB PPU:207, 21 CYC:23536
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf354, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F354  20 2E FB  JSR $FB2E                       A:29 X:02 Y:ED P:65 SP:FB PPU:207, 30 CYC:23539
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2E  B8        CLV                             A:29 X:02 Y:ED P:65 SP:F9 PPU:207, 48 CYC:23545
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2f, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2F  18        CLC                             A:29 X:02 Y:ED P:25 SP:F9 PPU:207, 54 CYC:23547
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb30, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB30  A9 42     LDA #$42                        A:29 X:02 Y:ED P:24 SP:F9 PPU:207, 60 CYC:23549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb32, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB32  60        RTS                             A:42 X:02 Y:ED P:24 SP:F9 PPU:207, 66 CYC:23551
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf357, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F357  47 47    *SRE $47 = 29                    A:42 X:02 Y:ED P:24 SP:FB PPU:207, 84 CYC:23557
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf359, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F359  EA        NOP                             A:56 X:02 Y:ED P:25 SP:FB PPU:207, 99 CYC:23562
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf35a, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F35A  EA        NOP                             A:56 X:02 Y:ED P:25 SP:FB PPU:207,105 CYC:23564
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf35b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F35B  EA        NOP                             A:56 X:02 Y:ED P:25 SP:FB PPU:207,111 CYC:23566
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf35c, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F35C  EA        NOP                             A:56 X:02 Y:ED P:25 SP:FB PPU:207,117 CYC:23568
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf35d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F35D  20 33 FB  JSR $FB33                       A:56 X:02 Y:ED P:25 SP:FB PPU:207,123 CYC:23570
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb33, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB33  70 40     BVS $FB75                       A:56 X:02 Y:ED P:25 SP:F9 PPU:207,141 CYC:23576
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb35, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB35  F0 3E     BEQ $FB75                       A:56 X:02 Y:ED P:25 SP:F9 PPU:207,147 CYC:23578
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb37, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB37  30 3C     BMI $FB75                       A:56 X:02 Y:ED P:25 SP:F9 PPU:207,153 CYC:23580
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb39, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB39  90 3A     BCC $FB75                       A:56 X:02 Y:ED P:25 SP:F9 PPU:207,159 CYC:23582
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3B  C9 56     CMP #$56                        A:56 X:02 Y:ED P:25 SP:F9 PPU:207,165 CYC:23584
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3D  D0 36     BNE $FB75                       A:56 X:02 Y:ED P:27 SP:F9 PPU:207,171 CYC:23586
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3F  60        RTS                             A:56 X:02 Y:ED P:27 SP:F9 PPU:207,177 CYC:23588
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf360, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F360  A5 47     LDA $47 = 14                    A:56 X:02 Y:ED P:27 SP:FB PPU:207,195 CYC:23594
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf362, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F362  C9 14     CMP #$14                        A:14 X:02 Y:ED P:25 SP:FB PPU:207,204 CYC:23597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf364, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F364  F0 02     BEQ $F368                       A:14 X:02 Y:ED P:27 SP:FB PPU:207,210 CYC:23599
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf368, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xed, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F368  C8        INY                             A:14 X:02 Y:ED P:27 SP:FB PPU:207,219 CYC:23602
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf369, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F369  A9 37     LDA #$37                        A:14 X:02 Y:EE P:A5 SP:FB PPU:207,225 CYC:23604
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf36b, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F36B  85 47     STA $47 = 14                    A:37 X:02 Y:EE P:25 SP:FB PPU:207,231 CYC:23606
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf36d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F36D  20 40 FB  JSR $FB40                       A:37 X:02 Y:EE P:25 SP:FB PPU:207,240 CYC:23609
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb40, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB40  24 01     BIT $01 = FF                    A:37 X:02 Y:EE P:25 SP:F9 PPU:207,258 CYC:23615
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb42, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB42  38        SEC                             A:37 X:02 Y:EE P:E5 SP:F9 PPU:207,267 CYC:23618
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb43, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB43  A9 75     LDA #$75                        A:37 X:02 Y:EE P:E5 SP:F9 PPU:207,273 CYC:23620
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb45, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB45  60        RTS                             A:75 X:02 Y:EE P:65 SP:F9 PPU:207,279 CYC:23622
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf370, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F370  47 47    *SRE $47 = 37                    A:75 X:02 Y:EE P:65 SP:FB PPU:207,297 CYC:23628
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf372, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F372  EA        NOP                             A:6E X:02 Y:EE P:65 SP:FB PPU:207,312 CYC:23633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf373, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F373  EA        NOP                             A:6E X:02 Y:EE P:65 SP:FB PPU:207,318 CYC:23635
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf374, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F374  EA        NOP                             A:6E X:02 Y:EE P:65 SP:FB PPU:207,324 CYC:23637
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf375, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F375  EA        NOP                             A:6E X:02 Y:EE P:65 SP:FB PPU:207,330 CYC:23639
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf376, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F376  20 46 FB  JSR $FB46                       A:6E X:02 Y:EE P:65 SP:FB PPU:207,336 CYC:23641
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb46, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB46  50 2D     BVC $FB75                       A:6E X:02 Y:EE P:65 SP:F9 PPU:208, 13 CYC:23647
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb48, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB48  F0 2B     BEQ $FB75                       A:6E X:02 Y:EE P:65 SP:F9 PPU:208, 19 CYC:23649
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4A  30 29     BMI $FB75                       A:6E X:02 Y:EE P:65 SP:F9 PPU:208, 25 CYC:23651
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4C  90 27     BCC $FB75                       A:6E X:02 Y:EE P:65 SP:F9 PPU:208, 31 CYC:23653
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4E  C9 6E     CMP #$6E                        A:6E X:02 Y:EE P:65 SP:F9 PPU:208, 37 CYC:23655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB50  D0 23     BNE $FB75                       A:6E X:02 Y:EE P:67 SP:F9 PPU:208, 43 CYC:23657
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB52  60        RTS                             A:6E X:02 Y:EE P:67 SP:F9 PPU:208, 49 CYC:23659
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf379, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F379  A5 47     LDA $47 = 1B                    A:6E X:02 Y:EE P:67 SP:FB PPU:208, 67 CYC:23665
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf37b, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F37B  C9 1B     CMP #$1B                        A:1B X:02 Y:EE P:65 SP:FB PPU:208, 76 CYC:23668
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf37d, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F37D  F0 02     BEQ $F381                       A:1B X:02 Y:EE P:67 SP:FB PPU:208, 82 CYC:23670
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf381, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xee, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F381  C8        INY                             A:1B X:02 Y:EE P:67 SP:FB PPU:208, 91 CYC:23673
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf382, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F382  A9 A5     LDA #$A5                        A:1B X:02 Y:EF P:E5 SP:FB PPU:208, 97 CYC:23675
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf384, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F384  8D 47 06  STA $0647 = 1B                  A:A5 X:02 Y:EF P:E5 SP:FB PPU:208,103 CYC:23677
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf387, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F387  20 1D FB  JSR $FB1D                       A:A5 X:02 Y:EF P:E5 SP:FB PPU:208,115 CYC:23681
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1D  24 01     BIT $01 = FF                    A:A5 X:02 Y:EF P:E5 SP:F9 PPU:208,133 CYC:23687
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1f, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1F  18        CLC                             A:A5 X:02 Y:EF P:E5 SP:F9 PPU:208,142 CYC:23690
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb20, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB20  A9 B3     LDA #$B3                        A:A5 X:02 Y:EF P:E4 SP:F9 PPU:208,148 CYC:23692
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb22, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB22  60        RTS                             A:B3 X:02 Y:EF P:E4 SP:F9 PPU:208,154 CYC:23694
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf38a, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F38A  4F 47 06 *SRE $0647 = A5                  A:B3 X:02 Y:EF P:E4 SP:FB PPU:208,172 CYC:23700
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf38d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F38D  EA        NOP                             A:E1 X:02 Y:EF P:E5 SP:FB PPU:208,190 CYC:23706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf38e, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F38E  EA        NOP                             A:E1 X:02 Y:EF P:E5 SP:FB PPU:208,196 CYC:23708
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf38f, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F38F  EA        NOP                             A:E1 X:02 Y:EF P:E5 SP:FB PPU:208,202 CYC:23710
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf390, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F390  EA        NOP                             A:E1 X:02 Y:EF P:E5 SP:FB PPU:208,208 CYC:23712
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf391, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F391  20 23 FB  JSR $FB23                       A:E1 X:02 Y:EF P:E5 SP:FB PPU:208,214 CYC:23714
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb23, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB23  50 50     BVC $FB75                       A:E1 X:02 Y:EF P:E5 SP:F9 PPU:208,232 CYC:23720
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb25, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB25  90 4E     BCC $FB75                       A:E1 X:02 Y:EF P:E5 SP:F9 PPU:208,238 CYC:23722
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb27, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB27  10 4C     BPL $FB75                       A:E1 X:02 Y:EF P:E5 SP:F9 PPU:208,244 CYC:23724
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb29, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB29  C9 E1     CMP #$E1                        A:E1 X:02 Y:EF P:E5 SP:F9 PPU:208,250 CYC:23726
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2B  D0 48     BNE $FB75                       A:E1 X:02 Y:EF P:67 SP:F9 PPU:208,256 CYC:23728
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2D  60        RTS                             A:E1 X:02 Y:EF P:67 SP:F9 PPU:208,262 CYC:23730
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf394, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F394  AD 47 06  LDA $0647 = 52                  A:E1 X:02 Y:EF P:67 SP:FB PPU:208,280 CYC:23736
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf397, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F397  C9 52     CMP #$52                        A:52 X:02 Y:EF P:65 SP:FB PPU:208,292 CYC:23740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf399, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F399  F0 02     BEQ $F39D                       A:52 X:02 Y:EF P:67 SP:FB PPU:208,298 CYC:23742
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf39d, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xef, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F39D  C8        INY                             A:52 X:02 Y:EF P:67 SP:FB PPU:208,307 CYC:23745
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf39e, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F39E  A9 29     LDA #$29                        A:52 X:02 Y:F0 P:E5 SP:FB PPU:208,313 CYC:23747
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3a0, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3A0  8D 47 06  STA $0647 = 52                  A:29 X:02 Y:F0 P:65 SP:FB PPU:208,319 CYC:23749
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3a3, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3A3  20 2E FB  JSR $FB2E                       A:29 X:02 Y:F0 P:65 SP:FB PPU:208,331 CYC:23753
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2E  B8        CLV                             A:29 X:02 Y:F0 P:65 SP:F9 PPU:209,  8 CYC:23759
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2f, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2F  18        CLC                             A:29 X:02 Y:F0 P:25 SP:F9 PPU:209, 14 CYC:23761
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb30, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB30  A9 42     LDA #$42                        A:29 X:02 Y:F0 P:24 SP:F9 PPU:209, 20 CYC:23763
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb32, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB32  60        RTS                             A:42 X:02 Y:F0 P:24 SP:F9 PPU:209, 26 CYC:23765
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3a6, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3A6  4F 47 06 *SRE $0647 = 29                  A:42 X:02 Y:F0 P:24 SP:FB PPU:209, 44 CYC:23771
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3a9, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3A9  EA        NOP                             A:56 X:02 Y:F0 P:25 SP:FB PPU:209, 62 CYC:23777
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3aa, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3AA  EA        NOP                             A:56 X:02 Y:F0 P:25 SP:FB PPU:209, 68 CYC:23779
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ab, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3AB  EA        NOP                             A:56 X:02 Y:F0 P:25 SP:FB PPU:209, 74 CYC:23781
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ac, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3AC  EA        NOP                             A:56 X:02 Y:F0 P:25 SP:FB PPU:209, 80 CYC:23783
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ad, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3AD  20 33 FB  JSR $FB33                       A:56 X:02 Y:F0 P:25 SP:FB PPU:209, 86 CYC:23785
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb33, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB33  70 40     BVS $FB75                       A:56 X:02 Y:F0 P:25 SP:F9 PPU:209,104 CYC:23791
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb35, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB35  F0 3E     BEQ $FB75                       A:56 X:02 Y:F0 P:25 SP:F9 PPU:209,110 CYC:23793
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb37, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB37  30 3C     BMI $FB75                       A:56 X:02 Y:F0 P:25 SP:F9 PPU:209,116 CYC:23795
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb39, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB39  90 3A     BCC $FB75                       A:56 X:02 Y:F0 P:25 SP:F9 PPU:209,122 CYC:23797
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3B  C9 56     CMP #$56                        A:56 X:02 Y:F0 P:25 SP:F9 PPU:209,128 CYC:23799
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3D  D0 36     BNE $FB75                       A:56 X:02 Y:F0 P:27 SP:F9 PPU:209,134 CYC:23801
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3F  60        RTS                             A:56 X:02 Y:F0 P:27 SP:F9 PPU:209,140 CYC:23803
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3b0, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3B0  AD 47 06  LDA $0647 = 14                  A:56 X:02 Y:F0 P:27 SP:FB PPU:209,158 CYC:23809
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3b3, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3B3  C9 14     CMP #$14                        A:14 X:02 Y:F0 P:25 SP:FB PPU:209,170 CYC:23813
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3b5, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3B5  F0 02     BEQ $F3B9                       A:14 X:02 Y:F0 P:27 SP:FB PPU:209,176 CYC:23815
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf3b9, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf0, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3B9  C8        INY                             A:14 X:02 Y:F0 P:27 SP:FB PPU:209,185 CYC:23818
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ba, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3BA  A9 37     LDA #$37                        A:14 X:02 Y:F1 P:A5 SP:FB PPU:209,191 CYC:23820
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3bc, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3BC  8D 47 06  STA $0647 = 14                  A:37 X:02 Y:F1 P:25 SP:FB PPU:209,197 CYC:23822
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3bf, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3BF  20 40 FB  JSR $FB40                       A:37 X:02 Y:F1 P:25 SP:FB PPU:209,209 CYC:23826
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb40, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB40  24 01     BIT $01 = FF                    A:37 X:02 Y:F1 P:25 SP:F9 PPU:209,227 CYC:23832
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb42, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB42  38        SEC                             A:37 X:02 Y:F1 P:E5 SP:F9 PPU:209,236 CYC:23835
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb43, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB43  A9 75     LDA #$75                        A:37 X:02 Y:F1 P:E5 SP:F9 PPU:209,242 CYC:23837
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb45, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB45  60        RTS                             A:75 X:02 Y:F1 P:65 SP:F9 PPU:209,248 CYC:23839
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3c2, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3C2  4F 47 06 *SRE $0647 = 37                  A:75 X:02 Y:F1 P:65 SP:FB PPU:209,266 CYC:23845
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3c5, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3C5  EA        NOP                             A:6E X:02 Y:F1 P:65 SP:FB PPU:209,284 CYC:23851
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3c6, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3C6  EA        NOP                             A:6E X:02 Y:F1 P:65 SP:FB PPU:209,290 CYC:23853
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3c7, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3C7  EA        NOP                             A:6E X:02 Y:F1 P:65 SP:FB PPU:209,296 CYC:23855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3c8, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3C8  EA        NOP                             A:6E X:02 Y:F1 P:65 SP:FB PPU:209,302 CYC:23857
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3c9, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3C9  20 46 FB  JSR $FB46                       A:6E X:02 Y:F1 P:65 SP:FB PPU:209,308 CYC:23859
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb46, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB46  50 2D     BVC $FB75                       A:6E X:02 Y:F1 P:65 SP:F9 PPU:209,326 CYC:23865
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb48, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB48  F0 2B     BEQ $FB75                       A:6E X:02 Y:F1 P:65 SP:F9 PPU:209,332 CYC:23867
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4A  30 29     BMI $FB75                       A:6E X:02 Y:F1 P:65 SP:F9 PPU:209,338 CYC:23869
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4C  90 27     BCC $FB75                       A:6E X:02 Y:F1 P:65 SP:F9 PPU:210,  3 CYC:23871
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4E  C9 6E     CMP #$6E                        A:6E X:02 Y:F1 P:65 SP:F9 PPU:210,  9 CYC:23873
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB50  D0 23     BNE $FB75                       A:6E X:02 Y:F1 P:67 SP:F9 PPU:210, 15 CYC:23875
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB52  60        RTS                             A:6E X:02 Y:F1 P:67 SP:F9 PPU:210, 21 CYC:23877
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3cc, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3CC  AD 47 06  LDA $0647 = 1B                  A:6E X:02 Y:F1 P:67 SP:FB PPU:210, 39 CYC:23883
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3cf, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3CF  C9 1B     CMP #$1B                        A:1B X:02 Y:F1 P:65 SP:FB PPU:210, 51 CYC:23887
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3d1, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3D1  F0 02     BEQ $F3D5                       A:1B X:02 Y:F1 P:67 SP:FB PPU:210, 57 CYC:23889
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf3d5, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3D5  A9 A5     LDA #$A5                        A:1B X:02 Y:F1 P:67 SP:FB PPU:210, 66 CYC:23892
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3d7, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3D7  8D 47 06  STA $0647 = 1B                  A:A5 X:02 Y:F1 P:E5 SP:FB PPU:210, 72 CYC:23894
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3da, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3DA  A9 48     LDA #$48                        A:A5 X:02 Y:F1 P:E5 SP:FB PPU:210, 84 CYC:23898
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3dc, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3DC  85 45     STA $45 = 48                    A:48 X:02 Y:F1 P:65 SP:FB PPU:210, 90 CYC:23900
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf3de, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3DE  A9 05     LDA #$05                        A:48 X:02 Y:F1 P:65 SP:FB PPU:210, 99 CYC:23903
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3e0, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3E0  85 46     STA $46 = 05                    A:05 X:02 Y:F1 P:65 SP:FB PPU:210,105 CYC:23905
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf3e2, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf1, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3E2  A0 FF     LDY #$FF                        A:05 X:02 Y:F1 P:65 SP:FB PPU:210,114 CYC:23908
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3e4, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3E4  20 1D FB  JSR $FB1D                       A:05 X:02 Y:FF P:E5 SP:FB PPU:210,120 CYC:23910
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1d, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1D  24 01     BIT $01 = FF                    A:05 X:02 Y:FF P:E5 SP:F9 PPU:210,138 CYC:23916
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1f, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1F  18        CLC                             A:05 X:02 Y:FF P:E5 SP:F9 PPU:210,147 CYC:23919
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb20, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB20  A9 B3     LDA #$B3                        A:05 X:02 Y:FF P:E4 SP:F9 PPU:210,153 CYC:23921
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb22, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB22  60        RTS                             A:B3 X:02 Y:FF P:E4 SP:F9 PPU:210,159 CYC:23923
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3e7, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3E7  53 45    *SRE ($45),Y = 0548 @ 0647 = A5  A:B3 X:02 Y:FF P:E4 SP:FB PPU:210,177 CYC:23929
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf3e9, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3E9  EA        NOP                             A:E1 X:02 Y:FF P:E5 SP:FB PPU:210,201 CYC:23937
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ea, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3EA  EA        NOP                             A:E1 X:02 Y:FF P:E5 SP:FB PPU:210,207 CYC:23939
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3eb, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3EB  08        PHP                             A:E1 X:02 Y:FF P:E5 SP:FB PPU:210,213 CYC:23941
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ec, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F3EC  48        PHA                             A:E1 X:02 Y:FF P:E5 SP:FA PPU:210,222 CYC:23944
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ed, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F3ED  A0 F2     LDY #$F2                        A:E1 X:02 Y:FF P:E5 SP:F9 PPU:210,231 CYC:23947
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ef, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F3EF  68        PLA                             A:E1 X:02 Y:F2 P:E5 SP:F9 PPU:210,237 CYC:23949
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3f0, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F3F0  28        PLP                             A:E1 X:02 Y:F2 P:E5 SP:FA PPU:210,249 CYC:23953
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3f1, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3F1  20 23 FB  JSR $FB23                       A:E1 X:02 Y:F2 P:E5 SP:FB PPU:210,261 CYC:23957
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb23, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB23  50 50     BVC $FB75                       A:E1 X:02 Y:F2 P:E5 SP:F9 PPU:210,279 CYC:23963
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb25, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB25  90 4E     BCC $FB75                       A:E1 X:02 Y:F2 P:E5 SP:F9 PPU:210,285 CYC:23965
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb27, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB27  10 4C     BPL $FB75                       A:E1 X:02 Y:F2 P:E5 SP:F9 PPU:210,291 CYC:23967
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb29, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB29  C9 E1     CMP #$E1                        A:E1 X:02 Y:F2 P:E5 SP:F9 PPU:210,297 CYC:23969
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2B  D0 48     BNE $FB75                       A:E1 X:02 Y:F2 P:67 SP:F9 PPU:210,303 CYC:23971
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2D  60        RTS                             A:E1 X:02 Y:F2 P:67 SP:F9 PPU:210,309 CYC:23973
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf3f4, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3F4  AD 47 06  LDA $0647 = 52                  A:E1 X:02 Y:F2 P:67 SP:FB PPU:210,327 CYC:23979
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf3f7, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3F7  C9 52     CMP #$52                        A:52 X:02 Y:F2 P:65 SP:FB PPU:210,339 CYC:23983
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3f9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3F9  F0 02     BEQ $F3FD                       A:52 X:02 Y:F2 P:67 SP:FB PPU:211,  4 CYC:23985
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf3fd, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf2, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3FD  A0 FF     LDY #$FF                        A:52 X:02 Y:F2 P:67 SP:FB PPU:211, 13 CYC:23988
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf3ff, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F3FF  A9 29     LDA #$29                        A:52 X:02 Y:FF P:E5 SP:FB PPU:211, 19 CYC:23990
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf401, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F401  8D 47 06  STA $0647 = 52                  A:29 X:02 Y:FF P:65 SP:FB PPU:211, 25 CYC:23992
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf404, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F404  20 2E FB  JSR $FB2E                       A:29 X:02 Y:FF P:65 SP:FB PPU:211, 37 CYC:23996
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2E  B8        CLV                             A:29 X:02 Y:FF P:65 SP:F9 PPU:211, 55 CYC:24002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2f, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2F  18        CLC                             A:29 X:02 Y:FF P:25 SP:F9 PPU:211, 61 CYC:24004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb30, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB30  A9 42     LDA #$42                        A:29 X:02 Y:FF P:24 SP:F9 PPU:211, 67 CYC:24006
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb32, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB32  60        RTS                             A:42 X:02 Y:FF P:24 SP:F9 PPU:211, 73 CYC:24008
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf407, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F407  53 45    *SRE ($45),Y = 0548 @ 0647 = 29  A:42 X:02 Y:FF P:24 SP:FB PPU:211, 91 CYC:24014
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf409, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F409  EA        NOP                             A:56 X:02 Y:FF P:25 SP:FB PPU:211,115 CYC:24022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf40a, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F40A  EA        NOP                             A:56 X:02 Y:FF P:25 SP:FB PPU:211,121 CYC:24024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf40b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F40B  08        PHP                             A:56 X:02 Y:FF P:25 SP:FB PPU:211,127 CYC:24026
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf40c, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F40C  48        PHA                             A:56 X:02 Y:FF P:25 SP:FA PPU:211,136 CYC:24029
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf40d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F40D  A0 F3     LDY #$F3                        A:56 X:02 Y:FF P:25 SP:F9 PPU:211,145 CYC:24032
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf40f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F40F  68        PLA                             A:56 X:02 Y:F3 P:A5 SP:F9 PPU:211,151 CYC:24034
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf410, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F410  28        PLP                             A:56 X:02 Y:F3 P:25 SP:FA PPU:211,163 CYC:24038
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf411, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F411  20 33 FB  JSR $FB33                       A:56 X:02 Y:F3 P:25 SP:FB PPU:211,175 CYC:24042
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb33, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB33  70 40     BVS $FB75                       A:56 X:02 Y:F3 P:25 SP:F9 PPU:211,193 CYC:24048
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb35, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB35  F0 3E     BEQ $FB75                       A:56 X:02 Y:F3 P:25 SP:F9 PPU:211,199 CYC:24050
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb37, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB37  30 3C     BMI $FB75                       A:56 X:02 Y:F3 P:25 SP:F9 PPU:211,205 CYC:24052
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb39, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB39  90 3A     BCC $FB75                       A:56 X:02 Y:F3 P:25 SP:F9 PPU:211,211 CYC:24054
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3B  C9 56     CMP #$56                        A:56 X:02 Y:F3 P:25 SP:F9 PPU:211,217 CYC:24056
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3D  D0 36     BNE $FB75                       A:56 X:02 Y:F3 P:27 SP:F9 PPU:211,223 CYC:24058
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3F  60        RTS                             A:56 X:02 Y:F3 P:27 SP:F9 PPU:211,229 CYC:24060
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf414, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F414  AD 47 06  LDA $0647 = 14                  A:56 X:02 Y:F3 P:27 SP:FB PPU:211,247 CYC:24066
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf417, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F417  C9 14     CMP #$14                        A:14 X:02 Y:F3 P:25 SP:FB PPU:211,259 CYC:24070
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf419, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F419  F0 02     BEQ $F41D                       A:14 X:02 Y:F3 P:27 SP:FB PPU:211,265 CYC:24072
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf41d, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf3, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F41D  A0 FF     LDY #$FF                        A:14 X:02 Y:F3 P:27 SP:FB PPU:211,274 CYC:24075
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf41f, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F41F  A9 37     LDA #$37                        A:14 X:02 Y:FF P:A5 SP:FB PPU:211,280 CYC:24077
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf421, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F421  8D 47 06  STA $0647 = 14                  A:37 X:02 Y:FF P:25 SP:FB PPU:211,286 CYC:24079
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf424, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F424  20 40 FB  JSR $FB40                       A:37 X:02 Y:FF P:25 SP:FB PPU:211,298 CYC:24083
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb40, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB40  24 01     BIT $01 = FF                    A:37 X:02 Y:FF P:25 SP:F9 PPU:211,316 CYC:24089
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb42, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB42  38        SEC                             A:37 X:02 Y:FF P:E5 SP:F9 PPU:211,325 CYC:24092
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb43, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB43  A9 75     LDA #$75                        A:37 X:02 Y:FF P:E5 SP:F9 PPU:211,331 CYC:24094
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb45, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB45  60        RTS                             A:75 X:02 Y:FF P:65 SP:F9 PPU:211,337 CYC:24096
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf427, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F427  53 45    *SRE ($45),Y = 0548 @ 0647 = 37  A:75 X:02 Y:FF P:65 SP:FB PPU:212, 14 CYC:24102
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf429, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F429  EA        NOP                             A:6E X:02 Y:FF P:65 SP:FB PPU:212, 38 CYC:24110
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf42a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F42A  EA        NOP                             A:6E X:02 Y:FF P:65 SP:FB PPU:212, 44 CYC:24112
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf42b, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F42B  08        PHP                             A:6E X:02 Y:FF P:65 SP:FB PPU:212, 50 CYC:24114
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf42c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F42C  48        PHA                             A:6E X:02 Y:FF P:65 SP:FA PPU:212, 59 CYC:24117
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf42d, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F42D  A0 F4     LDY #$F4                        A:6E X:02 Y:FF P:65 SP:F9 PPU:212, 68 CYC:24120
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf42f, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F42F  68        PLA                             A:6E X:02 Y:F4 P:E5 SP:F9 PPU:212, 74 CYC:24122
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf430, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F430  28        PLP                             A:6E X:02 Y:F4 P:65 SP:FA PPU:212, 86 CYC:24126
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf431, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F431  20 46 FB  JSR $FB46                       A:6E X:02 Y:F4 P:65 SP:FB PPU:212, 98 CYC:24130
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb46, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB46  50 2D     BVC $FB75                       A:6E X:02 Y:F4 P:65 SP:F9 PPU:212,116 CYC:24136
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb48, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB48  F0 2B     BEQ $FB75                       A:6E X:02 Y:F4 P:65 SP:F9 PPU:212,122 CYC:24138
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4A  30 29     BMI $FB75                       A:6E X:02 Y:F4 P:65 SP:F9 PPU:212,128 CYC:24140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4C  90 27     BCC $FB75                       A:6E X:02 Y:F4 P:65 SP:F9 PPU:212,134 CYC:24142
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4E  C9 6E     CMP #$6E                        A:6E X:02 Y:F4 P:65 SP:F9 PPU:212,140 CYC:24144
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB50  D0 23     BNE $FB75                       A:6E X:02 Y:F4 P:67 SP:F9 PPU:212,146 CYC:24146
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB52  60        RTS                             A:6E X:02 Y:F4 P:67 SP:F9 PPU:212,152 CYC:24148
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf434, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F434  AD 47 06  LDA $0647 = 1B                  A:6E X:02 Y:F4 P:67 SP:FB PPU:212,170 CYC:24154
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf437, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F437  C9 1B     CMP #$1B                        A:1B X:02 Y:F4 P:65 SP:FB PPU:212,182 CYC:24158
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf439, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F439  F0 02     BEQ $F43D                       A:1B X:02 Y:F4 P:67 SP:FB PPU:212,188 CYC:24160
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf43d, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf4, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F43D  A0 F5     LDY #$F5                        A:1B X:02 Y:F4 P:67 SP:FB PPU:212,197 CYC:24163
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf43f, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F43F  A2 FF     LDX #$FF                        A:1B X:02 Y:F5 P:E5 SP:FB PPU:212,203 CYC:24165
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf441, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F441  A9 A5     LDA #$A5                        A:1B X:FF Y:F5 P:E5 SP:FB PPU:212,209 CYC:24167
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf443, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F443  85 47     STA $47 = 1B                    A:A5 X:FF Y:F5 P:E5 SP:FB PPU:212,215 CYC:24169
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf445, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F445  20 1D FB  JSR $FB1D                       A:A5 X:FF Y:F5 P:E5 SP:FB PPU:212,224 CYC:24172
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1D  24 01     BIT $01 = FF                    A:A5 X:FF Y:F5 P:E5 SP:F9 PPU:212,242 CYC:24178
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1f, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1F  18        CLC                             A:A5 X:FF Y:F5 P:E5 SP:F9 PPU:212,251 CYC:24181
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb20, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB20  A9 B3     LDA #$B3                        A:A5 X:FF Y:F5 P:E4 SP:F9 PPU:212,257 CYC:24183
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb22, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB22  60        RTS                             A:B3 X:FF Y:F5 P:E4 SP:F9 PPU:212,263 CYC:24185
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf448, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F448  57 48    *SRE $48,X @ 47 = A5             A:B3 X:FF Y:F5 P:E4 SP:FB PPU:212,281 CYC:24191
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf44a, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F44A  EA        NOP                             A:E1 X:FF Y:F5 P:E5 SP:FB PPU:212,299 CYC:24197
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf44b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F44B  EA        NOP                             A:E1 X:FF Y:F5 P:E5 SP:FB PPU:212,305 CYC:24199
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf44c, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F44C  EA        NOP                             A:E1 X:FF Y:F5 P:E5 SP:FB PPU:212,311 CYC:24201
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf44d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F44D  EA        NOP                             A:E1 X:FF Y:F5 P:E5 SP:FB PPU:212,317 CYC:24203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf44e, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F44E  20 23 FB  JSR $FB23                       A:E1 X:FF Y:F5 P:E5 SP:FB PPU:212,323 CYC:24205
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb23, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB23  50 50     BVC $FB75                       A:E1 X:FF Y:F5 P:E5 SP:F9 PPU:213,  0 CYC:24211
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb25, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB25  90 4E     BCC $FB75                       A:E1 X:FF Y:F5 P:E5 SP:F9 PPU:213,  6 CYC:24213
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb27, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB27  10 4C     BPL $FB75                       A:E1 X:FF Y:F5 P:E5 SP:F9 PPU:213, 12 CYC:24215
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb29, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB29  C9 E1     CMP #$E1                        A:E1 X:FF Y:F5 P:E5 SP:F9 PPU:213, 18 CYC:24217
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2B  D0 48     BNE $FB75                       A:E1 X:FF Y:F5 P:67 SP:F9 PPU:213, 24 CYC:24219
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2D  60        RTS                             A:E1 X:FF Y:F5 P:67 SP:F9 PPU:213, 30 CYC:24221
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf451, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F451  A5 47     LDA $47 = 52                    A:E1 X:FF Y:F5 P:67 SP:FB PPU:213, 48 CYC:24227
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf453, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F453  C9 52     CMP #$52                        A:52 X:FF Y:F5 P:65 SP:FB PPU:213, 57 CYC:24230
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf455, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F455  F0 02     BEQ $F459                       A:52 X:FF Y:F5 P:67 SP:FB PPU:213, 63 CYC:24232
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf459, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf5, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F459  C8        INY                             A:52 X:FF Y:F5 P:67 SP:FB PPU:213, 72 CYC:24235
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf45a, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F45A  A9 29     LDA #$29                        A:52 X:FF Y:F6 P:E5 SP:FB PPU:213, 78 CYC:24237
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf45c, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F45C  85 47     STA $47 = 52                    A:29 X:FF Y:F6 P:65 SP:FB PPU:213, 84 CYC:24239
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf45e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F45E  20 2E FB  JSR $FB2E                       A:29 X:FF Y:F6 P:65 SP:FB PPU:213, 93 CYC:24242
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2E  B8        CLV                             A:29 X:FF Y:F6 P:65 SP:F9 PPU:213,111 CYC:24248
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2f, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2F  18        CLC                             A:29 X:FF Y:F6 P:25 SP:F9 PPU:213,117 CYC:24250
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb30, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB30  A9 42     LDA #$42                        A:29 X:FF Y:F6 P:24 SP:F9 PPU:213,123 CYC:24252
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb32, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB32  60        RTS                             A:42 X:FF Y:F6 P:24 SP:F9 PPU:213,129 CYC:24254
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf461, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F461  57 48    *SRE $48,X @ 47 = 29             A:42 X:FF Y:F6 P:24 SP:FB PPU:213,147 CYC:24260
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf463, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F463  EA        NOP                             A:56 X:FF Y:F6 P:25 SP:FB PPU:213,165 CYC:24266
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf464, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F464  EA        NOP                             A:56 X:FF Y:F6 P:25 SP:FB PPU:213,171 CYC:24268
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf465, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F465  EA        NOP                             A:56 X:FF Y:F6 P:25 SP:FB PPU:213,177 CYC:24270
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf466, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F466  EA        NOP                             A:56 X:FF Y:F6 P:25 SP:FB PPU:213,183 CYC:24272
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf467, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F467  20 33 FB  JSR $FB33                       A:56 X:FF Y:F6 P:25 SP:FB PPU:213,189 CYC:24274
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb33, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB33  70 40     BVS $FB75                       A:56 X:FF Y:F6 P:25 SP:F9 PPU:213,207 CYC:24280
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb35, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB35  F0 3E     BEQ $FB75                       A:56 X:FF Y:F6 P:25 SP:F9 PPU:213,213 CYC:24282
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb37, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB37  30 3C     BMI $FB75                       A:56 X:FF Y:F6 P:25 SP:F9 PPU:213,219 CYC:24284
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb39, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB39  90 3A     BCC $FB75                       A:56 X:FF Y:F6 P:25 SP:F9 PPU:213,225 CYC:24286
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3B  C9 56     CMP #$56                        A:56 X:FF Y:F6 P:25 SP:F9 PPU:213,231 CYC:24288
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3D  D0 36     BNE $FB75                       A:56 X:FF Y:F6 P:27 SP:F9 PPU:213,237 CYC:24290
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3F  60        RTS                             A:56 X:FF Y:F6 P:27 SP:F9 PPU:213,243 CYC:24292
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf46a, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F46A  A5 47     LDA $47 = 14                    A:56 X:FF Y:F6 P:27 SP:FB PPU:213,261 CYC:24298
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf46c, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F46C  C9 14     CMP #$14                        A:14 X:FF Y:F6 P:25 SP:FB PPU:213,270 CYC:24301
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf46e, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F46E  F0 02     BEQ $F472                       A:14 X:FF Y:F6 P:27 SP:FB PPU:213,276 CYC:24303
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf472, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf6, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F472  C8        INY                             A:14 X:FF Y:F6 P:27 SP:FB PPU:213,285 CYC:24306
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf473, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F473  A9 37     LDA #$37                        A:14 X:FF Y:F7 P:A5 SP:FB PPU:213,291 CYC:24308
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf475, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F475  85 47     STA $47 = 14                    A:37 X:FF Y:F7 P:25 SP:FB PPU:213,297 CYC:24310
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf477, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F477  20 40 FB  JSR $FB40                       A:37 X:FF Y:F7 P:25 SP:FB PPU:213,306 CYC:24313
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb40, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB40  24 01     BIT $01 = FF                    A:37 X:FF Y:F7 P:25 SP:F9 PPU:213,324 CYC:24319
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb42, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB42  38        SEC                             A:37 X:FF Y:F7 P:E5 SP:F9 PPU:213,333 CYC:24322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb43, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB43  A9 75     LDA #$75                        A:37 X:FF Y:F7 P:E5 SP:F9 PPU:213,339 CYC:24324
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb45, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB45  60        RTS                             A:75 X:FF Y:F7 P:65 SP:F9 PPU:214,  4 CYC:24326
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf47a, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F47A  57 48    *SRE $48,X @ 47 = 37             A:75 X:FF Y:F7 P:65 SP:FB PPU:214, 22 CYC:24332
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf47c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F47C  EA        NOP                             A:6E X:FF Y:F7 P:65 SP:FB PPU:214, 40 CYC:24338
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf47d, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F47D  EA        NOP                             A:6E X:FF Y:F7 P:65 SP:FB PPU:214, 46 CYC:24340
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf47e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F47E  EA        NOP                             A:6E X:FF Y:F7 P:65 SP:FB PPU:214, 52 CYC:24342
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf47f, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F47F  EA        NOP                             A:6E X:FF Y:F7 P:65 SP:FB PPU:214, 58 CYC:24344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf480, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F480  20 46 FB  JSR $FB46                       A:6E X:FF Y:F7 P:65 SP:FB PPU:214, 64 CYC:24346
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb46, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB46  50 2D     BVC $FB75                       A:6E X:FF Y:F7 P:65 SP:F9 PPU:214, 82 CYC:24352
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb48, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB48  F0 2B     BEQ $FB75                       A:6E X:FF Y:F7 P:65 SP:F9 PPU:214, 88 CYC:24354
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4A  30 29     BMI $FB75                       A:6E X:FF Y:F7 P:65 SP:F9 PPU:214, 94 CYC:24356
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4C  90 27     BCC $FB75                       A:6E X:FF Y:F7 P:65 SP:F9 PPU:214,100 CYC:24358
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4E  C9 6E     CMP #$6E                        A:6E X:FF Y:F7 P:65 SP:F9 PPU:214,106 CYC:24360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB50  D0 23     BNE $FB75                       A:6E X:FF Y:F7 P:67 SP:F9 PPU:214,112 CYC:24362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB52  60        RTS                             A:6E X:FF Y:F7 P:67 SP:F9 PPU:214,118 CYC:24364
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf483, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F483  A5 47     LDA $47 = 1B                    A:6E X:FF Y:F7 P:67 SP:FB PPU:214,136 CYC:24370
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf485, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F485  C9 1B     CMP #$1B                        A:1B X:FF Y:F7 P:65 SP:FB PPU:214,145 CYC:24373
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf487, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F487  F0 02     BEQ $F48B                       A:1B X:FF Y:F7 P:67 SP:FB PPU:214,151 CYC:24375
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf48b, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F48B  A9 A5     LDA #$A5                        A:1B X:FF Y:F7 P:67 SP:FB PPU:214,160 CYC:24378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf48d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F48D  8D 47 06  STA $0647 = 1B                  A:A5 X:FF Y:F7 P:E5 SP:FB PPU:214,166 CYC:24380
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf490, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf7, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F490  A0 FF     LDY #$FF                        A:A5 X:FF Y:F7 P:E5 SP:FB PPU:214,178 CYC:24384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf492, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F492  20 1D FB  JSR $FB1D                       A:A5 X:FF Y:FF P:E5 SP:FB PPU:214,184 CYC:24386
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1D  24 01     BIT $01 = FF                    A:A5 X:FF Y:FF P:E5 SP:F9 PPU:214,202 CYC:24392
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1f, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1F  18        CLC                             A:A5 X:FF Y:FF P:E5 SP:F9 PPU:214,211 CYC:24395
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb20, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB20  A9 B3     LDA #$B3                        A:A5 X:FF Y:FF P:E4 SP:F9 PPU:214,217 CYC:24397
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb22, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB22  60        RTS                             A:B3 X:FF Y:FF P:E4 SP:F9 PPU:214,223 CYC:24399
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf495, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F495  5B 48 05 *SRE $0548,Y @ 0647 = A5         A:B3 X:FF Y:FF P:E4 SP:FB PPU:214,241 CYC:24405
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf498, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F498  EA        NOP                             A:E1 X:FF Y:FF P:E5 SP:FB PPU:214,262 CYC:24412
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf499, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F499  EA        NOP                             A:E1 X:FF Y:FF P:E5 SP:FB PPU:214,268 CYC:24414
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf49a, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F49A  08        PHP                             A:E1 X:FF Y:FF P:E5 SP:FB PPU:214,274 CYC:24416
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf49b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F49B  48        PHA                             A:E1 X:FF Y:FF P:E5 SP:FA PPU:214,283 CYC:24419
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf49c, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F49C  A0 F8     LDY #$F8                        A:E1 X:FF Y:FF P:E5 SP:F9 PPU:214,292 CYC:24422
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf49e, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F49E  68        PLA                             A:E1 X:FF Y:F8 P:E5 SP:F9 PPU:214,298 CYC:24424
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf49f, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F49F  28        PLP                             A:E1 X:FF Y:F8 P:E5 SP:FA PPU:214,310 CYC:24428
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4a0, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4A0  20 23 FB  JSR $FB23                       A:E1 X:FF Y:F8 P:E5 SP:FB PPU:214,322 CYC:24432
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb23, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB23  50 50     BVC $FB75                       A:E1 X:FF Y:F8 P:E5 SP:F9 PPU:214,340 CYC:24438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb25, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB25  90 4E     BCC $FB75                       A:E1 X:FF Y:F8 P:E5 SP:F9 PPU:215,  5 CYC:24440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb27, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB27  10 4C     BPL $FB75                       A:E1 X:FF Y:F8 P:E5 SP:F9 PPU:215, 11 CYC:24442
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb29, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB29  C9 E1     CMP #$E1                        A:E1 X:FF Y:F8 P:E5 SP:F9 PPU:215, 17 CYC:24444
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2B  D0 48     BNE $FB75                       A:E1 X:FF Y:F8 P:67 SP:F9 PPU:215, 23 CYC:24446
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2D  60        RTS                             A:E1 X:FF Y:F8 P:67 SP:F9 PPU:215, 29 CYC:24448
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf4a3, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4A3  AD 47 06  LDA $0647 = 52                  A:E1 X:FF Y:F8 P:67 SP:FB PPU:215, 47 CYC:24454
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4a6, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4A6  C9 52     CMP #$52                        A:52 X:FF Y:F8 P:65 SP:FB PPU:215, 59 CYC:24458
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4a8, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4A8  F0 02     BEQ $F4AC                       A:52 X:FF Y:F8 P:67 SP:FB PPU:215, 65 CYC:24460
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf4ac, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf8, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4AC  A0 FF     LDY #$FF                        A:52 X:FF Y:F8 P:67 SP:FB PPU:215, 74 CYC:24463
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4ae, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4AE  A9 29     LDA #$29                        A:52 X:FF Y:FF P:E5 SP:FB PPU:215, 80 CYC:24465
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4b0, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4B0  8D 47 06  STA $0647 = 52                  A:29 X:FF Y:FF P:65 SP:FB PPU:215, 86 CYC:24467
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4b3, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4B3  20 2E FB  JSR $FB2E                       A:29 X:FF Y:FF P:65 SP:FB PPU:215, 98 CYC:24471
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2E  B8        CLV                             A:29 X:FF Y:FF P:65 SP:F9 PPU:215,116 CYC:24477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2f, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2F  18        CLC                             A:29 X:FF Y:FF P:25 SP:F9 PPU:215,122 CYC:24479
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb30, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB30  A9 42     LDA #$42                        A:29 X:FF Y:FF P:24 SP:F9 PPU:215,128 CYC:24481
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb32, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB32  60        RTS                             A:42 X:FF Y:FF P:24 SP:F9 PPU:215,134 CYC:24483
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf4b6, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4B6  5B 48 05 *SRE $0548,Y @ 0647 = 29         A:42 X:FF Y:FF P:24 SP:FB PPU:215,152 CYC:24489
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf4b9, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4B9  EA        NOP                             A:56 X:FF Y:FF P:25 SP:FB PPU:215,173 CYC:24496
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4ba, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4BA  EA        NOP                             A:56 X:FF Y:FF P:25 SP:FB PPU:215,179 CYC:24498
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4bb, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4BB  08        PHP                             A:56 X:FF Y:FF P:25 SP:FB PPU:215,185 CYC:24500
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf4bc, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F4BC  48        PHA                             A:56 X:FF Y:FF P:25 SP:FA PPU:215,194 CYC:24503
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf4bd, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F4BD  A0 F9     LDY #$F9                        A:56 X:FF Y:FF P:25 SP:F9 PPU:215,203 CYC:24506
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4bf, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F4BF  68        PLA                             A:56 X:FF Y:F9 P:A5 SP:F9 PPU:215,209 CYC:24508
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4c0, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F4C0  28        PLP                             A:56 X:FF Y:F9 P:25 SP:FA PPU:215,221 CYC:24512
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4c1, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4C1  20 33 FB  JSR $FB33                       A:56 X:FF Y:F9 P:25 SP:FB PPU:215,233 CYC:24516
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb33, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB33  70 40     BVS $FB75                       A:56 X:FF Y:F9 P:25 SP:F9 PPU:215,251 CYC:24522
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb35, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB35  F0 3E     BEQ $FB75                       A:56 X:FF Y:F9 P:25 SP:F9 PPU:215,257 CYC:24524
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb37, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB37  30 3C     BMI $FB75                       A:56 X:FF Y:F9 P:25 SP:F9 PPU:215,263 CYC:24526
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb39, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB39  90 3A     BCC $FB75                       A:56 X:FF Y:F9 P:25 SP:F9 PPU:215,269 CYC:24528
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3B  C9 56     CMP #$56                        A:56 X:FF Y:F9 P:25 SP:F9 PPU:215,275 CYC:24530
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3D  D0 36     BNE $FB75                       A:56 X:FF Y:F9 P:27 SP:F9 PPU:215,281 CYC:24532
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3F  60        RTS                             A:56 X:FF Y:F9 P:27 SP:F9 PPU:215,287 CYC:24534
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf4c4, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4C4  AD 47 06  LDA $0647 = 14                  A:56 X:FF Y:F9 P:27 SP:FB PPU:215,305 CYC:24540
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4c7, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4C7  C9 14     CMP #$14                        A:14 X:FF Y:F9 P:25 SP:FB PPU:215,317 CYC:24544
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4c9, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4C9  F0 02     BEQ $F4CD                       A:14 X:FF Y:F9 P:27 SP:FB PPU:215,323 CYC:24546
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf4cd, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xf9, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4CD  A0 FF     LDY #$FF                        A:14 X:FF Y:F9 P:27 SP:FB PPU:215,332 CYC:24549
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4cf, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4CF  A9 37     LDA #$37                        A:14 X:FF Y:FF P:A5 SP:FB PPU:215,338 CYC:24551
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4d1, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4D1  8D 47 06  STA $0647 = 14                  A:37 X:FF Y:FF P:25 SP:FB PPU:216,  3 CYC:24553
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4d4, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4D4  20 40 FB  JSR $FB40                       A:37 X:FF Y:FF P:25 SP:FB PPU:216, 15 CYC:24557
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb40, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB40  24 01     BIT $01 = FF                    A:37 X:FF Y:FF P:25 SP:F9 PPU:216, 33 CYC:24563
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb42, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB42  38        SEC                             A:37 X:FF Y:FF P:E5 SP:F9 PPU:216, 42 CYC:24566
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb43, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB43  A9 75     LDA #$75                        A:37 X:FF Y:FF P:E5 SP:F9 PPU:216, 48 CYC:24568
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb45, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB45  60        RTS                             A:75 X:FF Y:FF P:65 SP:F9 PPU:216, 54 CYC:24570
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf4d7, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4D7  5B 48 05 *SRE $0548,Y @ 0647 = 37         A:75 X:FF Y:FF P:65 SP:FB PPU:216, 72 CYC:24576
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf4da, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4DA  EA        NOP                             A:6E X:FF Y:FF P:65 SP:FB PPU:216, 93 CYC:24583
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4db, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4DB  EA        NOP                             A:6E X:FF Y:FF P:65 SP:FB PPU:216, 99 CYC:24585
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4dc, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4DC  08        PHP                             A:6E X:FF Y:FF P:65 SP:FB PPU:216,105 CYC:24587
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf4dd, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F4DD  48        PHA                             A:6E X:FF Y:FF P:65 SP:FA PPU:216,114 CYC:24590
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf4de, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F4DE  A0 FA     LDY #$FA                        A:6E X:FF Y:FF P:65 SP:F9 PPU:216,123 CYC:24593
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4e0, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F4E0  68        PLA                             A:6E X:FF Y:FA P:E5 SP:F9 PPU:216,129 CYC:24595
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4e1, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F4E1  28        PLP                             A:6E X:FF Y:FA P:65 SP:FA PPU:216,141 CYC:24599
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4e2, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4E2  20 46 FB  JSR $FB46                       A:6E X:FF Y:FA P:65 SP:FB PPU:216,153 CYC:24603
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb46, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB46  50 2D     BVC $FB75                       A:6E X:FF Y:FA P:65 SP:F9 PPU:216,171 CYC:24609
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb48, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB48  F0 2B     BEQ $FB75                       A:6E X:FF Y:FA P:65 SP:F9 PPU:216,177 CYC:24611
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4A  30 29     BMI $FB75                       A:6E X:FF Y:FA P:65 SP:F9 PPU:216,183 CYC:24613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4C  90 27     BCC $FB75                       A:6E X:FF Y:FA P:65 SP:F9 PPU:216,189 CYC:24615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4E  C9 6E     CMP #$6E                        A:6E X:FF Y:FA P:65 SP:F9 PPU:216,195 CYC:24617
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB50  D0 23     BNE $FB75                       A:6E X:FF Y:FA P:67 SP:F9 PPU:216,201 CYC:24619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB52  60        RTS                             A:6E X:FF Y:FA P:67 SP:F9 PPU:216,207 CYC:24621
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf4e5, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4E5  AD 47 06  LDA $0647 = 1B                  A:6E X:FF Y:FA P:67 SP:FB PPU:216,225 CYC:24627
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4e8, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4E8  C9 1B     CMP #$1B                        A:1B X:FF Y:FA P:65 SP:FB PPU:216,237 CYC:24631
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4ea, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4EA  F0 02     BEQ $F4EE                       A:1B X:FF Y:FA P:67 SP:FB PPU:216,243 CYC:24633
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf4ee, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfa, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4EE  A0 FB     LDY #$FB                        A:1B X:FF Y:FA P:67 SP:FB PPU:216,252 CYC:24636
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4f0, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4F0  A2 FF     LDX #$FF                        A:1B X:FF Y:FB P:E5 SP:FB PPU:216,258 CYC:24638
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4f2, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4F2  A9 A5     LDA #$A5                        A:1B X:FF Y:FB P:E5 SP:FB PPU:216,264 CYC:24640
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4f4, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4F4  8D 47 06  STA $0647 = 1B                  A:A5 X:FF Y:FB P:E5 SP:FB PPU:216,270 CYC:24642
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf4f7, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4F7  20 1D FB  JSR $FB1D                       A:A5 X:FF Y:FB P:E5 SP:FB PPU:216,282 CYC:24646
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1d, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1D  24 01     BIT $01 = FF                    A:A5 X:FF Y:FB P:E5 SP:F9 PPU:216,300 CYC:24652
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1f, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1F  18        CLC                             A:A5 X:FF Y:FB P:E5 SP:F9 PPU:216,309 CYC:24655
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb20, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB20  A9 B3     LDA #$B3                        A:A5 X:FF Y:FB P:E4 SP:F9 PPU:216,315 CYC:24657
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb22, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB22  60        RTS                             A:B3 X:FF Y:FB P:E4 SP:F9 PPU:216,321 CYC:24659
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf4fa, cpu.pc);
    try expectEqual(0xb3, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4FA  5F 48 05 *SRE $0548,X @ 0647 = A5         A:B3 X:FF Y:FB P:E4 SP:FB PPU:216,339 CYC:24665
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf4fd, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4FD  EA        NOP                             A:E1 X:FF Y:FB P:E5 SP:FB PPU:217, 19 CYC:24672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4fe, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4FE  EA        NOP                             A:E1 X:FF Y:FB P:E5 SP:FB PPU:217, 25 CYC:24674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf4ff, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F4FF  EA        NOP                             A:E1 X:FF Y:FB P:E5 SP:FB PPU:217, 31 CYC:24676
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf500, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F500  EA        NOP                             A:E1 X:FF Y:FB P:E5 SP:FB PPU:217, 37 CYC:24678
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf501, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F501  20 23 FB  JSR $FB23                       A:E1 X:FF Y:FB P:E5 SP:FB PPU:217, 43 CYC:24680
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb23, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB23  50 50     BVC $FB75                       A:E1 X:FF Y:FB P:E5 SP:F9 PPU:217, 61 CYC:24686
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb25, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB25  90 4E     BCC $FB75                       A:E1 X:FF Y:FB P:E5 SP:F9 PPU:217, 67 CYC:24688
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb27, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB27  10 4C     BPL $FB75                       A:E1 X:FF Y:FB P:E5 SP:F9 PPU:217, 73 CYC:24690
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb29, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB29  C9 E1     CMP #$E1                        A:E1 X:FF Y:FB P:E5 SP:F9 PPU:217, 79 CYC:24692
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2b, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2B  D0 48     BNE $FB75                       A:E1 X:FF Y:FB P:67 SP:F9 PPU:217, 85 CYC:24694
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2d, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2D  60        RTS                             A:E1 X:FF Y:FB P:67 SP:F9 PPU:217, 91 CYC:24696
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf504, cpu.pc);
    try expectEqual(0xe1, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F504  AD 47 06  LDA $0647 = 52                  A:E1 X:FF Y:FB P:67 SP:FB PPU:217,109 CYC:24702
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf507, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F507  C9 52     CMP #$52                        A:52 X:FF Y:FB P:65 SP:FB PPU:217,121 CYC:24706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf509, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F509  F0 02     BEQ $F50D                       A:52 X:FF Y:FB P:67 SP:FB PPU:217,127 CYC:24708
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf50d, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfb, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F50D  C8        INY                             A:52 X:FF Y:FB P:67 SP:FB PPU:217,136 CYC:24711
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf50e, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F50E  A9 29     LDA #$29                        A:52 X:FF Y:FC P:E5 SP:FB PPU:217,142 CYC:24713
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf510, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F510  8D 47 06  STA $0647 = 52                  A:29 X:FF Y:FC P:65 SP:FB PPU:217,148 CYC:24715
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf513, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F513  20 2E FB  JSR $FB2E                       A:29 X:FF Y:FC P:65 SP:FB PPU:217,160 CYC:24719
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2e, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2E  B8        CLV                             A:29 X:FF Y:FC P:65 SP:F9 PPU:217,178 CYC:24725
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb2f, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB2F  18        CLC                             A:29 X:FF Y:FC P:25 SP:F9 PPU:217,184 CYC:24727
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb30, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB30  A9 42     LDA #$42                        A:29 X:FF Y:FC P:24 SP:F9 PPU:217,190 CYC:24729
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb32, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB32  60        RTS                             A:42 X:FF Y:FC P:24 SP:F9 PPU:217,196 CYC:24731
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf516, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F516  5F 48 05 *SRE $0548,X @ 0647 = 29         A:42 X:FF Y:FC P:24 SP:FB PPU:217,214 CYC:24737
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf519, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F519  EA        NOP                             A:56 X:FF Y:FC P:25 SP:FB PPU:217,235 CYC:24744
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf51a, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F51A  EA        NOP                             A:56 X:FF Y:FC P:25 SP:FB PPU:217,241 CYC:24746
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf51b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F51B  EA        NOP                             A:56 X:FF Y:FC P:25 SP:FB PPU:217,247 CYC:24748
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf51c, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F51C  EA        NOP                             A:56 X:FF Y:FC P:25 SP:FB PPU:217,253 CYC:24750
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf51d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F51D  20 33 FB  JSR $FB33                       A:56 X:FF Y:FC P:25 SP:FB PPU:217,259 CYC:24752
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb33, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB33  70 40     BVS $FB75                       A:56 X:FF Y:FC P:25 SP:F9 PPU:217,277 CYC:24758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb35, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB35  F0 3E     BEQ $FB75                       A:56 X:FF Y:FC P:25 SP:F9 PPU:217,283 CYC:24760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb37, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB37  30 3C     BMI $FB75                       A:56 X:FF Y:FC P:25 SP:F9 PPU:217,289 CYC:24762
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb39, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB39  90 3A     BCC $FB75                       A:56 X:FF Y:FC P:25 SP:F9 PPU:217,295 CYC:24764
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3b, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3B  C9 56     CMP #$56                        A:56 X:FF Y:FC P:25 SP:F9 PPU:217,301 CYC:24766
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3d, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3D  D0 36     BNE $FB75                       A:56 X:FF Y:FC P:27 SP:F9 PPU:217,307 CYC:24768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb3f, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB3F  60        RTS                             A:56 X:FF Y:FC P:27 SP:F9 PPU:217,313 CYC:24770
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf520, cpu.pc);
    try expectEqual(0x56, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F520  AD 47 06  LDA $0647 = 14                  A:56 X:FF Y:FC P:27 SP:FB PPU:217,331 CYC:24776
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf523, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F523  C9 14     CMP #$14                        A:14 X:FF Y:FC P:25 SP:FB PPU:218,  2 CYC:24780
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf525, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F525  F0 02     BEQ $F529                       A:14 X:FF Y:FC P:27 SP:FB PPU:218,  8 CYC:24782
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf529, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfc, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F529  C8        INY                             A:14 X:FF Y:FC P:27 SP:FB PPU:218, 17 CYC:24785
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf52a, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F52A  A9 37     LDA #$37                        A:14 X:FF Y:FD P:A5 SP:FB PPU:218, 23 CYC:24787
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf52c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F52C  8D 47 06  STA $0647 = 14                  A:37 X:FF Y:FD P:25 SP:FB PPU:218, 29 CYC:24789
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf52f, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F52F  20 40 FB  JSR $FB40                       A:37 X:FF Y:FD P:25 SP:FB PPU:218, 41 CYC:24793
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb40, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB40  24 01     BIT $01 = FF                    A:37 X:FF Y:FD P:25 SP:F9 PPU:218, 59 CYC:24799
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb42, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB42  38        SEC                             A:37 X:FF Y:FD P:E5 SP:F9 PPU:218, 68 CYC:24802
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb43, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB43  A9 75     LDA #$75                        A:37 X:FF Y:FD P:E5 SP:F9 PPU:218, 74 CYC:24804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb45, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB45  60        RTS                             A:75 X:FF Y:FD P:65 SP:F9 PPU:218, 80 CYC:24806
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf532, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F532  5F 48 05 *SRE $0548,X @ 0647 = 37         A:75 X:FF Y:FD P:65 SP:FB PPU:218, 98 CYC:24812
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf535, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F535  EA        NOP                             A:6E X:FF Y:FD P:65 SP:FB PPU:218,119 CYC:24819
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf536, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F536  EA        NOP                             A:6E X:FF Y:FD P:65 SP:FB PPU:218,125 CYC:24821
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf537, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F537  EA        NOP                             A:6E X:FF Y:FD P:65 SP:FB PPU:218,131 CYC:24823
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf538, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F538  EA        NOP                             A:6E X:FF Y:FD P:65 SP:FB PPU:218,137 CYC:24825
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf539, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F539  20 46 FB  JSR $FB46                       A:6E X:FF Y:FD P:65 SP:FB PPU:218,143 CYC:24827
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb46, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB46  50 2D     BVC $FB75                       A:6E X:FF Y:FD P:65 SP:F9 PPU:218,161 CYC:24833
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb48, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB48  F0 2B     BEQ $FB75                       A:6E X:FF Y:FD P:65 SP:F9 PPU:218,167 CYC:24835
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4a, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4A  30 29     BMI $FB75                       A:6E X:FF Y:FD P:65 SP:F9 PPU:218,173 CYC:24837
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4C  90 27     BCC $FB75                       A:6E X:FF Y:FD P:65 SP:F9 PPU:218,179 CYC:24839
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb4e, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB4E  C9 6E     CMP #$6E                        A:6E X:FF Y:FD P:65 SP:F9 PPU:218,185 CYC:24841
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb50, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB50  D0 23     BNE $FB75                       A:6E X:FF Y:FD P:67 SP:F9 PPU:218,191 CYC:24843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb52, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB52  60        RTS                             A:6E X:FF Y:FD P:67 SP:F9 PPU:218,197 CYC:24845
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf53c, cpu.pc);
    try expectEqual(0x6e, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F53C  AD 47 06  LDA $0647 = 1B                  A:6E X:FF Y:FD P:67 SP:FB PPU:218,215 CYC:24851
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf53f, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F53F  C9 1B     CMP #$1B                        A:1B X:FF Y:FD P:65 SP:FB PPU:218,227 CYC:24855
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf541, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F541  F0 02     BEQ $F545                       A:1B X:FF Y:FD P:67 SP:FB PPU:218,233 CYC:24857
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf545, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F545  60        RTS                             A:1B X:FF Y:FD P:67 SP:FB PPU:218,242 CYC:24860
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc64a, cpu.pc);
    try expectEqual(0x1b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C64A  A5 00     LDA $00 = 00                    A:1B X:FF Y:FD P:67 SP:FD PPU:218,260 CYC:24866
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc64c, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C64C  85 11     STA $11 = 00                    A:00 X:FF Y:FD P:67 SP:FD PPU:218,269 CYC:24869
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc64e, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C64E  A9 00     LDA #$00                        A:00 X:FF Y:FD P:67 SP:FD PPU:218,278 CYC:24872
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xc650, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C650  85 00     STA $00 = 00                    A:00 X:FF Y:FD P:67 SP:FD PPU:218,284 CYC:24874
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc652, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C652  20 46 F5  JSR $F546                       A:00 X:FF Y:FD P:67 SP:FD PPU:218,293 CYC:24877
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf546, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0x67, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F546  A9 FF     LDA #$FF                        A:00 X:FF Y:FD P:67 SP:FB PPU:218,311 CYC:24883
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf548, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F548  85 01     STA $01 = FF                    A:FF X:FF Y:FD P:E5 SP:FB PPU:218,317 CYC:24885
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf54a, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xfd, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F54A  A0 01     LDY #$01                        A:FF X:FF Y:FD P:E5 SP:FB PPU:218,326 CYC:24888
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf54c, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F54C  A2 02     LDX #$02                        A:FF X:FF Y:01 P:65 SP:FB PPU:218,332 CYC:24890
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf54e, cpu.pc);
    try expectEqual(0xff, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F54E  A9 47     LDA #$47                        A:FF X:02 Y:01 P:65 SP:FB PPU:218,338 CYC:24892
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf550, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F550  85 47     STA $47 = 1B                    A:47 X:02 Y:01 P:65 SP:FB PPU:219,  3 CYC:24894
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf552, cpu.pc);
    try expectEqual(0x47, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F552  A9 06     LDA #$06                        A:47 X:02 Y:01 P:65 SP:FB PPU:219, 12 CYC:24897
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf554, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F554  85 48     STA $48 = 06                    A:06 X:02 Y:01 P:65 SP:FB PPU:219, 18 CYC:24899
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf556, cpu.pc);
    try expectEqual(0x06, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F556  A9 A5     LDA #$A5                        A:06 X:02 Y:01 P:65 SP:FB PPU:219, 27 CYC:24902
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf558, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F558  8D 47 06  STA $0647 = 1B                  A:A5 X:02 Y:01 P:E5 SP:FB PPU:219, 33 CYC:24904
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf55b, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F55B  20 E9 FA  JSR $FAE9                       A:A5 X:02 Y:01 P:E5 SP:FB PPU:219, 45 CYC:24908
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfae9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE9  24 01     BIT $01 = FF                    A:A5 X:02 Y:01 P:E5 SP:F9 PPU:219, 63 CYC:24914
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaeb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEB  18        CLC                             A:A5 X:02 Y:01 P:E5 SP:F9 PPU:219, 72 CYC:24917
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaec, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEC  A9 B2     LDA #$B2                        A:A5 X:02 Y:01 P:E4 SP:F9 PPU:219, 78 CYC:24919
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaee, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEE  60        RTS                             A:B2 X:02 Y:01 P:E4 SP:F9 PPU:219, 84 CYC:24921
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf55e, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F55E  63 45    *RRA ($45,X) @ 47 = 0647 = A5    A:B2 X:02 Y:01 P:E4 SP:FB PPU:219,102 CYC:24927
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf560, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F560  EA        NOP                             A:05 X:02 Y:01 P:25 SP:FB PPU:219,126 CYC:24935
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf561, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F561  EA        NOP                             A:05 X:02 Y:01 P:25 SP:FB PPU:219,132 CYC:24937
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf562, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F562  EA        NOP                             A:05 X:02 Y:01 P:25 SP:FB PPU:219,138 CYC:24939
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf563, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F563  EA        NOP                             A:05 X:02 Y:01 P:25 SP:FB PPU:219,144 CYC:24941
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf564, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F564  20 EF FA  JSR $FAEF                       A:05 X:02 Y:01 P:25 SP:FB PPU:219,150 CYC:24943
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaef, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEF  70 2A     BVS $FB1B                       A:05 X:02 Y:01 P:25 SP:F9 PPU:219,168 CYC:24949
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF1  90 28     BCC $FB1B                       A:05 X:02 Y:01 P:25 SP:F9 PPU:219,174 CYC:24951
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF3  30 26     BMI $FB1B                       A:05 X:02 Y:01 P:25 SP:F9 PPU:219,180 CYC:24953
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF5  C9 05     CMP #$05                        A:05 X:02 Y:01 P:25 SP:F9 PPU:219,186 CYC:24955
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF7  D0 22     BNE $FB1B                       A:05 X:02 Y:01 P:27 SP:F9 PPU:219,192 CYC:24957
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF9  60        RTS                             A:05 X:02 Y:01 P:27 SP:F9 PPU:219,198 CYC:24959
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf567, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F567  AD 47 06  LDA $0647 = 52                  A:05 X:02 Y:01 P:27 SP:FB PPU:219,216 CYC:24965
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf56a, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F56A  C9 52     CMP #$52                        A:52 X:02 Y:01 P:25 SP:FB PPU:219,228 CYC:24969
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf56c, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F56C  F0 02     BEQ $F570                       A:52 X:02 Y:01 P:27 SP:FB PPU:219,234 CYC:24971
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf570, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x01, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F570  C8        INY                             A:52 X:02 Y:01 P:27 SP:FB PPU:219,243 CYC:24974
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf571, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F571  A9 29     LDA #$29                        A:52 X:02 Y:02 P:25 SP:FB PPU:219,249 CYC:24976
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf573, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F573  8D 47 06  STA $0647 = 52                  A:29 X:02 Y:02 P:25 SP:FB PPU:219,255 CYC:24978
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf576, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F576  20 FA FA  JSR $FAFA                       A:29 X:02 Y:02 P:25 SP:FB PPU:219,267 CYC:24982
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfafa, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFA  B8        CLV                             A:29 X:02 Y:02 P:25 SP:F9 PPU:219,285 CYC:24988
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafb, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFB  18        CLC                             A:29 X:02 Y:02 P:25 SP:F9 PPU:219,291 CYC:24990
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFC  A9 42     LDA #$42                        A:29 X:02 Y:02 P:24 SP:F9 PPU:219,297 CYC:24992
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafe, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFE  60        RTS                             A:42 X:02 Y:02 P:24 SP:F9 PPU:219,303 CYC:24994
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf579, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F579  63 45    *RRA ($45,X) @ 47 = 0647 = 29    A:42 X:02 Y:02 P:24 SP:FB PPU:219,321 CYC:25000
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf57b, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F57B  EA        NOP                             A:57 X:02 Y:02 P:24 SP:FB PPU:220,  4 CYC:25008
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf57c, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F57C  EA        NOP                             A:57 X:02 Y:02 P:24 SP:FB PPU:220, 10 CYC:25010
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf57d, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F57D  EA        NOP                             A:57 X:02 Y:02 P:24 SP:FB PPU:220, 16 CYC:25012
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf57e, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F57E  EA        NOP                             A:57 X:02 Y:02 P:24 SP:FB PPU:220, 22 CYC:25014
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf57f, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F57F  20 FF FA  JSR $FAFF                       A:57 X:02 Y:02 P:24 SP:FB PPU:220, 28 CYC:25016
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaff, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFF  70 1A     BVS $FB1B                       A:57 X:02 Y:02 P:24 SP:F9 PPU:220, 46 CYC:25022
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb01, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB01  30 18     BMI $FB1B                       A:57 X:02 Y:02 P:24 SP:F9 PPU:220, 52 CYC:25024
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb03, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB03  B0 16     BCS $FB1B                       A:57 X:02 Y:02 P:24 SP:F9 PPU:220, 58 CYC:25026
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb05, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB05  C9 57     CMP #$57                        A:57 X:02 Y:02 P:24 SP:F9 PPU:220, 64 CYC:25028
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb07, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB07  D0 12     BNE $FB1B                       A:57 X:02 Y:02 P:27 SP:F9 PPU:220, 70 CYC:25030
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb09, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB09  60        RTS                             A:57 X:02 Y:02 P:27 SP:F9 PPU:220, 76 CYC:25032
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf582, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F582  AD 47 06  LDA $0647 = 14                  A:57 X:02 Y:02 P:27 SP:FB PPU:220, 94 CYC:25038
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf585, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F585  C9 14     CMP #$14                        A:14 X:02 Y:02 P:25 SP:FB PPU:220,106 CYC:25042
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf587, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F587  F0 02     BEQ $F58B                       A:14 X:02 Y:02 P:27 SP:FB PPU:220,112 CYC:25044
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf58b, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x02, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F58B  C8        INY                             A:14 X:02 Y:02 P:27 SP:FB PPU:220,121 CYC:25047
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf58c, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F58C  A9 37     LDA #$37                        A:14 X:02 Y:03 P:25 SP:FB PPU:220,127 CYC:25049
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf58e, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F58E  8D 47 06  STA $0647 = 14                  A:37 X:02 Y:03 P:25 SP:FB PPU:220,133 CYC:25051
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf591, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F591  20 0A FB  JSR $FB0A                       A:37 X:02 Y:03 P:25 SP:FB PPU:220,145 CYC:25055
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0A  24 01     BIT $01 = FF                    A:37 X:02 Y:03 P:25 SP:F9 PPU:220,163 CYC:25061
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0C  38        SEC                             A:37 X:02 Y:03 P:E5 SP:F9 PPU:220,172 CYC:25064
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0D  A9 75     LDA #$75                        A:37 X:02 Y:03 P:E5 SP:F9 PPU:220,178 CYC:25066
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0f, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0F  60        RTS                             A:75 X:02 Y:03 P:65 SP:F9 PPU:220,184 CYC:25068
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf594, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F594  63 45    *RRA ($45,X) @ 47 = 0647 = 37    A:75 X:02 Y:03 P:65 SP:FB PPU:220,202 CYC:25074
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf596, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F596  EA        NOP                             A:11 X:02 Y:03 P:25 SP:FB PPU:220,226 CYC:25082
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf597, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F597  EA        NOP                             A:11 X:02 Y:03 P:25 SP:FB PPU:220,232 CYC:25084
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf598, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F598  EA        NOP                             A:11 X:02 Y:03 P:25 SP:FB PPU:220,238 CYC:25086
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf599, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F599  EA        NOP                             A:11 X:02 Y:03 P:25 SP:FB PPU:220,244 CYC:25088
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf59a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F59A  20 10 FB  JSR $FB10                       A:11 X:02 Y:03 P:25 SP:FB PPU:220,250 CYC:25090
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb10, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB10  70 09     BVS $FB1B                       A:11 X:02 Y:03 P:25 SP:F9 PPU:220,268 CYC:25096
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb12, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB12  30 07     BMI $FB1B                       A:11 X:02 Y:03 P:25 SP:F9 PPU:220,274 CYC:25098
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb14, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB14  90 05     BCC $FB1B                       A:11 X:02 Y:03 P:25 SP:F9 PPU:220,280 CYC:25100
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb16, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB16  C9 11     CMP #$11                        A:11 X:02 Y:03 P:25 SP:F9 PPU:220,286 CYC:25102
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb18, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB18  D0 01     BNE $FB1B                       A:11 X:02 Y:03 P:27 SP:F9 PPU:220,292 CYC:25104
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1A  60        RTS                             A:11 X:02 Y:03 P:27 SP:F9 PPU:220,298 CYC:25106
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf59d, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F59D  AD 47 06  LDA $0647 = 9B                  A:11 X:02 Y:03 P:27 SP:FB PPU:220,316 CYC:25112
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf5a0, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5A0  C9 9B     CMP #$9B                        A:9B X:02 Y:03 P:A5 SP:FB PPU:220,328 CYC:25116
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5a2, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5A2  F0 02     BEQ $F5A6                       A:9B X:02 Y:03 P:27 SP:FB PPU:220,334 CYC:25118
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5a6, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x03, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5A6  C8        INY                             A:9B X:02 Y:03 P:27 SP:FB PPU:221,  2 CYC:25121
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5a7, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5A7  A9 A5     LDA #$A5                        A:9B X:02 Y:04 P:25 SP:FB PPU:221,  8 CYC:25123
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5a9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5A9  85 47     STA $47 = 47                    A:A5 X:02 Y:04 P:A5 SP:FB PPU:221, 14 CYC:25125
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5ab, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5AB  20 E9 FA  JSR $FAE9                       A:A5 X:02 Y:04 P:A5 SP:FB PPU:221, 23 CYC:25128
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfae9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE9  24 01     BIT $01 = FF                    A:A5 X:02 Y:04 P:A5 SP:F9 PPU:221, 41 CYC:25134
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaeb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEB  18        CLC                             A:A5 X:02 Y:04 P:E5 SP:F9 PPU:221, 50 CYC:25137
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaec, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEC  A9 B2     LDA #$B2                        A:A5 X:02 Y:04 P:E4 SP:F9 PPU:221, 56 CYC:25139
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaee, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEE  60        RTS                             A:B2 X:02 Y:04 P:E4 SP:F9 PPU:221, 62 CYC:25141
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5ae, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5AE  67 47    *RRA $47 = A5                    A:B2 X:02 Y:04 P:E4 SP:FB PPU:221, 80 CYC:25147
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf5b0, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5B0  EA        NOP                             A:05 X:02 Y:04 P:25 SP:FB PPU:221, 95 CYC:25152
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5b1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5B1  EA        NOP                             A:05 X:02 Y:04 P:25 SP:FB PPU:221,101 CYC:25154
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5b2, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5B2  EA        NOP                             A:05 X:02 Y:04 P:25 SP:FB PPU:221,107 CYC:25156
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5b3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5B3  EA        NOP                             A:05 X:02 Y:04 P:25 SP:FB PPU:221,113 CYC:25158
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5b4, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5B4  20 EF FA  JSR $FAEF                       A:05 X:02 Y:04 P:25 SP:FB PPU:221,119 CYC:25160
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaef, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEF  70 2A     BVS $FB1B                       A:05 X:02 Y:04 P:25 SP:F9 PPU:221,137 CYC:25166
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF1  90 28     BCC $FB1B                       A:05 X:02 Y:04 P:25 SP:F9 PPU:221,143 CYC:25168
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF3  30 26     BMI $FB1B                       A:05 X:02 Y:04 P:25 SP:F9 PPU:221,149 CYC:25170
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF5  C9 05     CMP #$05                        A:05 X:02 Y:04 P:25 SP:F9 PPU:221,155 CYC:25172
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF7  D0 22     BNE $FB1B                       A:05 X:02 Y:04 P:27 SP:F9 PPU:221,161 CYC:25174
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF9  60        RTS                             A:05 X:02 Y:04 P:27 SP:F9 PPU:221,167 CYC:25176
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5b7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5B7  A5 47     LDA $47 = 52                    A:05 X:02 Y:04 P:27 SP:FB PPU:221,185 CYC:25182
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5b9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5B9  C9 52     CMP #$52                        A:52 X:02 Y:04 P:25 SP:FB PPU:221,194 CYC:25185
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5bb, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5BB  F0 02     BEQ $F5BF                       A:52 X:02 Y:04 P:27 SP:FB PPU:221,200 CYC:25187
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5bf, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x04, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5BF  C8        INY                             A:52 X:02 Y:04 P:27 SP:FB PPU:221,209 CYC:25190
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5c0, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5C0  A9 29     LDA #$29                        A:52 X:02 Y:05 P:25 SP:FB PPU:221,215 CYC:25192
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5c2, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5C2  85 47     STA $47 = 52                    A:29 X:02 Y:05 P:25 SP:FB PPU:221,221 CYC:25194
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5c4, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5C4  20 FA FA  JSR $FAFA                       A:29 X:02 Y:05 P:25 SP:FB PPU:221,230 CYC:25197
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfafa, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFA  B8        CLV                             A:29 X:02 Y:05 P:25 SP:F9 PPU:221,248 CYC:25203
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafb, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFB  18        CLC                             A:29 X:02 Y:05 P:25 SP:F9 PPU:221,254 CYC:25205
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFC  A9 42     LDA #$42                        A:29 X:02 Y:05 P:24 SP:F9 PPU:221,260 CYC:25207
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafe, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFE  60        RTS                             A:42 X:02 Y:05 P:24 SP:F9 PPU:221,266 CYC:25209
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5c7, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5C7  67 47    *RRA $47 = 29                    A:42 X:02 Y:05 P:24 SP:FB PPU:221,284 CYC:25215
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf5c9, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5C9  EA        NOP                             A:57 X:02 Y:05 P:24 SP:FB PPU:221,299 CYC:25220
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5ca, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5CA  EA        NOP                             A:57 X:02 Y:05 P:24 SP:FB PPU:221,305 CYC:25222
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5cb, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5CB  EA        NOP                             A:57 X:02 Y:05 P:24 SP:FB PPU:221,311 CYC:25224
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5cc, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5CC  EA        NOP                             A:57 X:02 Y:05 P:24 SP:FB PPU:221,317 CYC:25226
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5cd, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5CD  20 FF FA  JSR $FAFF                       A:57 X:02 Y:05 P:24 SP:FB PPU:221,323 CYC:25228
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaff, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFF  70 1A     BVS $FB1B                       A:57 X:02 Y:05 P:24 SP:F9 PPU:222,  0 CYC:25234
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb01, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB01  30 18     BMI $FB1B                       A:57 X:02 Y:05 P:24 SP:F9 PPU:222,  6 CYC:25236
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb03, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB03  B0 16     BCS $FB1B                       A:57 X:02 Y:05 P:24 SP:F9 PPU:222, 12 CYC:25238
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb05, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB05  C9 57     CMP #$57                        A:57 X:02 Y:05 P:24 SP:F9 PPU:222, 18 CYC:25240
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb07, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB07  D0 12     BNE $FB1B                       A:57 X:02 Y:05 P:27 SP:F9 PPU:222, 24 CYC:25242
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb09, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB09  60        RTS                             A:57 X:02 Y:05 P:27 SP:F9 PPU:222, 30 CYC:25244
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5d0, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5D0  A5 47     LDA $47 = 14                    A:57 X:02 Y:05 P:27 SP:FB PPU:222, 48 CYC:25250
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5d2, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5D2  C9 14     CMP #$14                        A:14 X:02 Y:05 P:25 SP:FB PPU:222, 57 CYC:25253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5d4, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5D4  F0 02     BEQ $F5D8                       A:14 X:02 Y:05 P:27 SP:FB PPU:222, 63 CYC:25255
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5d8, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x05, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5D8  C8        INY                             A:14 X:02 Y:05 P:27 SP:FB PPU:222, 72 CYC:25258
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5d9, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5D9  A9 37     LDA #$37                        A:14 X:02 Y:06 P:25 SP:FB PPU:222, 78 CYC:25260
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5db, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5DB  85 47     STA $47 = 14                    A:37 X:02 Y:06 P:25 SP:FB PPU:222, 84 CYC:25262
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5dd, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5DD  20 0A FB  JSR $FB0A                       A:37 X:02 Y:06 P:25 SP:FB PPU:222, 93 CYC:25265
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0A  24 01     BIT $01 = FF                    A:37 X:02 Y:06 P:25 SP:F9 PPU:222,111 CYC:25271
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0C  38        SEC                             A:37 X:02 Y:06 P:E5 SP:F9 PPU:222,120 CYC:25274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0D  A9 75     LDA #$75                        A:37 X:02 Y:06 P:E5 SP:F9 PPU:222,126 CYC:25276
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0f, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0F  60        RTS                             A:75 X:02 Y:06 P:65 SP:F9 PPU:222,132 CYC:25278
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5e0, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5E0  67 47    *RRA $47 = 37                    A:75 X:02 Y:06 P:65 SP:FB PPU:222,150 CYC:25284
    for (0..5) |_| {
        cpu.process();
    }
    try expectEqual(0xf5e2, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5E2  EA        NOP                             A:11 X:02 Y:06 P:25 SP:FB PPU:222,165 CYC:25289
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5e3, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5E3  EA        NOP                             A:11 X:02 Y:06 P:25 SP:FB PPU:222,171 CYC:25291
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5e4, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5E4  EA        NOP                             A:11 X:02 Y:06 P:25 SP:FB PPU:222,177 CYC:25293
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5e5, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5E5  EA        NOP                             A:11 X:02 Y:06 P:25 SP:FB PPU:222,183 CYC:25295
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5e6, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5E6  20 10 FB  JSR $FB10                       A:11 X:02 Y:06 P:25 SP:FB PPU:222,189 CYC:25297
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb10, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB10  70 09     BVS $FB1B                       A:11 X:02 Y:06 P:25 SP:F9 PPU:222,207 CYC:25303
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb12, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB12  30 07     BMI $FB1B                       A:11 X:02 Y:06 P:25 SP:F9 PPU:222,213 CYC:25305
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb14, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB14  90 05     BCC $FB1B                       A:11 X:02 Y:06 P:25 SP:F9 PPU:222,219 CYC:25307
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb16, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB16  C9 11     CMP #$11                        A:11 X:02 Y:06 P:25 SP:F9 PPU:222,225 CYC:25309
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb18, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB18  D0 01     BNE $FB1B                       A:11 X:02 Y:06 P:27 SP:F9 PPU:222,231 CYC:25311
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1A  60        RTS                             A:11 X:02 Y:06 P:27 SP:F9 PPU:222,237 CYC:25313
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5e9, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5E9  A5 47     LDA $47 = 9B                    A:11 X:02 Y:06 P:27 SP:FB PPU:222,255 CYC:25319
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5eb, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5EB  C9 9B     CMP #$9B                        A:9B X:02 Y:06 P:A5 SP:FB PPU:222,264 CYC:25322
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5ed, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5ED  F0 02     BEQ $F5F1                       A:9B X:02 Y:06 P:27 SP:FB PPU:222,270 CYC:25324
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf5f1, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x06, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5F1  C8        INY                             A:9B X:02 Y:06 P:27 SP:FB PPU:222,279 CYC:25327
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5f2, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5F2  A9 A5     LDA #$A5                        A:9B X:02 Y:07 P:25 SP:FB PPU:222,285 CYC:25329
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5f4, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5F4  8D 47 06  STA $0647 = 9B                  A:A5 X:02 Y:07 P:A5 SP:FB PPU:222,291 CYC:25331
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf5f7, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5F7  20 E9 FA  JSR $FAE9                       A:A5 X:02 Y:07 P:A5 SP:FB PPU:222,303 CYC:25335
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfae9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE9  24 01     BIT $01 = FF                    A:A5 X:02 Y:07 P:A5 SP:F9 PPU:222,321 CYC:25341
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaeb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEB  18        CLC                             A:A5 X:02 Y:07 P:E5 SP:F9 PPU:222,330 CYC:25344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaec, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEC  A9 B2     LDA #$B2                        A:A5 X:02 Y:07 P:E4 SP:F9 PPU:222,336 CYC:25346
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaee, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEE  60        RTS                             A:B2 X:02 Y:07 P:E4 SP:F9 PPU:223,  1 CYC:25348
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5fa, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5FA  6F 47 06 *RRA $0647 = A5                  A:B2 X:02 Y:07 P:E4 SP:FB PPU:223, 19 CYC:25354
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf5fd, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5FD  EA        NOP                             A:05 X:02 Y:07 P:25 SP:FB PPU:223, 37 CYC:25360
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5fe, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5FE  EA        NOP                             A:05 X:02 Y:07 P:25 SP:FB PPU:223, 43 CYC:25362
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf5ff, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F5FF  EA        NOP                             A:05 X:02 Y:07 P:25 SP:FB PPU:223, 49 CYC:25364
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf600, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F600  EA        NOP                             A:05 X:02 Y:07 P:25 SP:FB PPU:223, 55 CYC:25366
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf601, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F601  20 EF FA  JSR $FAEF                       A:05 X:02 Y:07 P:25 SP:FB PPU:223, 61 CYC:25368
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaef, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEF  70 2A     BVS $FB1B                       A:05 X:02 Y:07 P:25 SP:F9 PPU:223, 79 CYC:25374
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF1  90 28     BCC $FB1B                       A:05 X:02 Y:07 P:25 SP:F9 PPU:223, 85 CYC:25376
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF3  30 26     BMI $FB1B                       A:05 X:02 Y:07 P:25 SP:F9 PPU:223, 91 CYC:25378
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF5  C9 05     CMP #$05                        A:05 X:02 Y:07 P:25 SP:F9 PPU:223, 97 CYC:25380
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF7  D0 22     BNE $FB1B                       A:05 X:02 Y:07 P:27 SP:F9 PPU:223,103 CYC:25382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF9  60        RTS                             A:05 X:02 Y:07 P:27 SP:F9 PPU:223,109 CYC:25384
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf604, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F604  AD 47 06  LDA $0647 = 52                  A:05 X:02 Y:07 P:27 SP:FB PPU:223,127 CYC:25390
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf607, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F607  C9 52     CMP #$52                        A:52 X:02 Y:07 P:25 SP:FB PPU:223,139 CYC:25394
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf609, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F609  F0 02     BEQ $F60D                       A:52 X:02 Y:07 P:27 SP:FB PPU:223,145 CYC:25396
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf60d, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x07, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F60D  C8        INY                             A:52 X:02 Y:07 P:27 SP:FB PPU:223,154 CYC:25399
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf60e, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F60E  A9 29     LDA #$29                        A:52 X:02 Y:08 P:25 SP:FB PPU:223,160 CYC:25401
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf610, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F610  8D 47 06  STA $0647 = 52                  A:29 X:02 Y:08 P:25 SP:FB PPU:223,166 CYC:25403
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf613, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F613  20 FA FA  JSR $FAFA                       A:29 X:02 Y:08 P:25 SP:FB PPU:223,178 CYC:25407
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfafa, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFA  B8        CLV                             A:29 X:02 Y:08 P:25 SP:F9 PPU:223,196 CYC:25413
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafb, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFB  18        CLC                             A:29 X:02 Y:08 P:25 SP:F9 PPU:223,202 CYC:25415
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFC  A9 42     LDA #$42                        A:29 X:02 Y:08 P:24 SP:F9 PPU:223,208 CYC:25417
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafe, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFE  60        RTS                             A:42 X:02 Y:08 P:24 SP:F9 PPU:223,214 CYC:25419
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf616, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F616  6F 47 06 *RRA $0647 = 29                  A:42 X:02 Y:08 P:24 SP:FB PPU:223,232 CYC:25425
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf619, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F619  EA        NOP                             A:57 X:02 Y:08 P:24 SP:FB PPU:223,250 CYC:25431
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf61a, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F61A  EA        NOP                             A:57 X:02 Y:08 P:24 SP:FB PPU:223,256 CYC:25433
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf61b, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F61B  EA        NOP                             A:57 X:02 Y:08 P:24 SP:FB PPU:223,262 CYC:25435
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf61c, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F61C  EA        NOP                             A:57 X:02 Y:08 P:24 SP:FB PPU:223,268 CYC:25437
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf61d, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F61D  20 FF FA  JSR $FAFF                       A:57 X:02 Y:08 P:24 SP:FB PPU:223,274 CYC:25439
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaff, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFF  70 1A     BVS $FB1B                       A:57 X:02 Y:08 P:24 SP:F9 PPU:223,292 CYC:25445
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb01, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB01  30 18     BMI $FB1B                       A:57 X:02 Y:08 P:24 SP:F9 PPU:223,298 CYC:25447
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb03, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB03  B0 16     BCS $FB1B                       A:57 X:02 Y:08 P:24 SP:F9 PPU:223,304 CYC:25449
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb05, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB05  C9 57     CMP #$57                        A:57 X:02 Y:08 P:24 SP:F9 PPU:223,310 CYC:25451
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb07, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB07  D0 12     BNE $FB1B                       A:57 X:02 Y:08 P:27 SP:F9 PPU:223,316 CYC:25453
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb09, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB09  60        RTS                             A:57 X:02 Y:08 P:27 SP:F9 PPU:223,322 CYC:25455
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf620, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F620  AD 47 06  LDA $0647 = 14                  A:57 X:02 Y:08 P:27 SP:FB PPU:223,340 CYC:25461
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf623, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F623  C9 14     CMP #$14                        A:14 X:02 Y:08 P:25 SP:FB PPU:224, 11 CYC:25465
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf625, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F625  F0 02     BEQ $F629                       A:14 X:02 Y:08 P:27 SP:FB PPU:224, 17 CYC:25467
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf629, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x08, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F629  C8        INY                             A:14 X:02 Y:08 P:27 SP:FB PPU:224, 26 CYC:25470
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf62a, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F62A  A9 37     LDA #$37                        A:14 X:02 Y:09 P:25 SP:FB PPU:224, 32 CYC:25472
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf62c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F62C  8D 47 06  STA $0647 = 14                  A:37 X:02 Y:09 P:25 SP:FB PPU:224, 38 CYC:25474
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf62f, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F62F  20 0A FB  JSR $FB0A                       A:37 X:02 Y:09 P:25 SP:FB PPU:224, 50 CYC:25478
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0A  24 01     BIT $01 = FF                    A:37 X:02 Y:09 P:25 SP:F9 PPU:224, 68 CYC:25484
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0C  38        SEC                             A:37 X:02 Y:09 P:E5 SP:F9 PPU:224, 77 CYC:25487
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0D  A9 75     LDA #$75                        A:37 X:02 Y:09 P:E5 SP:F9 PPU:224, 83 CYC:25489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0f, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0F  60        RTS                             A:75 X:02 Y:09 P:65 SP:F9 PPU:224, 89 CYC:25491
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf632, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F632  6F 47 06 *RRA $0647 = 37                  A:75 X:02 Y:09 P:65 SP:FB PPU:224,107 CYC:25497
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf635, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F635  EA        NOP                             A:11 X:02 Y:09 P:25 SP:FB PPU:224,125 CYC:25503
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf636, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F636  EA        NOP                             A:11 X:02 Y:09 P:25 SP:FB PPU:224,131 CYC:25505
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf637, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F637  EA        NOP                             A:11 X:02 Y:09 P:25 SP:FB PPU:224,137 CYC:25507
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf638, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F638  EA        NOP                             A:11 X:02 Y:09 P:25 SP:FB PPU:224,143 CYC:25509
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf639, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F639  20 10 FB  JSR $FB10                       A:11 X:02 Y:09 P:25 SP:FB PPU:224,149 CYC:25511
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb10, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB10  70 09     BVS $FB1B                       A:11 X:02 Y:09 P:25 SP:F9 PPU:224,167 CYC:25517
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb12, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB12  30 07     BMI $FB1B                       A:11 X:02 Y:09 P:25 SP:F9 PPU:224,173 CYC:25519
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb14, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB14  90 05     BCC $FB1B                       A:11 X:02 Y:09 P:25 SP:F9 PPU:224,179 CYC:25521
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb16, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB16  C9 11     CMP #$11                        A:11 X:02 Y:09 P:25 SP:F9 PPU:224,185 CYC:25523
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb18, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB18  D0 01     BNE $FB1B                       A:11 X:02 Y:09 P:27 SP:F9 PPU:224,191 CYC:25525
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1A  60        RTS                             A:11 X:02 Y:09 P:27 SP:F9 PPU:224,197 CYC:25527
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf63c, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F63C  AD 47 06  LDA $0647 = 9B                  A:11 X:02 Y:09 P:27 SP:FB PPU:224,215 CYC:25533
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf63f, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F63F  C9 9B     CMP #$9B                        A:9B X:02 Y:09 P:A5 SP:FB PPU:224,227 CYC:25537
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf641, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F641  F0 02     BEQ $F645                       A:9B X:02 Y:09 P:27 SP:FB PPU:224,233 CYC:25539
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf645, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F645  A9 A5     LDA #$A5                        A:9B X:02 Y:09 P:27 SP:FB PPU:224,242 CYC:25542
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf647, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F647  8D 47 06  STA $0647 = 9B                  A:A5 X:02 Y:09 P:A5 SP:FB PPU:224,248 CYC:25544
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf64a, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F64A  A9 48     LDA #$48                        A:A5 X:02 Y:09 P:A5 SP:FB PPU:224,260 CYC:25548
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf64c, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F64C  85 45     STA $45 = 48                    A:48 X:02 Y:09 P:25 SP:FB PPU:224,266 CYC:25550
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf64e, cpu.pc);
    try expectEqual(0x48, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F64E  A9 05     LDA #$05                        A:48 X:02 Y:09 P:25 SP:FB PPU:224,275 CYC:25553
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf650, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F650  85 46     STA $46 = 05                    A:05 X:02 Y:09 P:25 SP:FB PPU:224,281 CYC:25555
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf652, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x09, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F652  A0 FF     LDY #$FF                        A:05 X:02 Y:09 P:25 SP:FB PPU:224,290 CYC:25558
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf654, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F654  20 E9 FA  JSR $FAE9                       A:05 X:02 Y:FF P:A5 SP:FB PPU:224,296 CYC:25560
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfae9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE9  24 01     BIT $01 = FF                    A:05 X:02 Y:FF P:A5 SP:F9 PPU:224,314 CYC:25566
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaeb, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEB  18        CLC                             A:05 X:02 Y:FF P:E5 SP:F9 PPU:224,323 CYC:25569
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaec, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEC  A9 B2     LDA #$B2                        A:05 X:02 Y:FF P:E4 SP:F9 PPU:224,329 CYC:25571
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaee, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEE  60        RTS                             A:B2 X:02 Y:FF P:E4 SP:F9 PPU:224,335 CYC:25573
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf657, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F657  73 45    *RRA ($45),Y = 0548 @ 0647 = A5  A:B2 X:02 Y:FF P:E4 SP:FB PPU:225, 12 CYC:25579
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf659, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F659  EA        NOP                             A:05 X:02 Y:FF P:25 SP:FB PPU:225, 36 CYC:25587
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf65a, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F65A  EA        NOP                             A:05 X:02 Y:FF P:25 SP:FB PPU:225, 42 CYC:25589
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf65b, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F65B  08        PHP                             A:05 X:02 Y:FF P:25 SP:FB PPU:225, 48 CYC:25591
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf65c, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F65C  48        PHA                             A:05 X:02 Y:FF P:25 SP:FA PPU:225, 57 CYC:25594
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf65d, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F65D  A0 0A     LDY #$0A                        A:05 X:02 Y:FF P:25 SP:F9 PPU:225, 66 CYC:25597
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf65f, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F65F  68        PLA                             A:05 X:02 Y:0A P:25 SP:F9 PPU:225, 72 CYC:25599
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf660, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F660  28        PLP                             A:05 X:02 Y:0A P:25 SP:FA PPU:225, 84 CYC:25603
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf661, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F661  20 EF FA  JSR $FAEF                       A:05 X:02 Y:0A P:25 SP:FB PPU:225, 96 CYC:25607
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaef, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEF  70 2A     BVS $FB1B                       A:05 X:02 Y:0A P:25 SP:F9 PPU:225,114 CYC:25613
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF1  90 28     BCC $FB1B                       A:05 X:02 Y:0A P:25 SP:F9 PPU:225,120 CYC:25615
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF3  30 26     BMI $FB1B                       A:05 X:02 Y:0A P:25 SP:F9 PPU:225,126 CYC:25617
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF5  C9 05     CMP #$05                        A:05 X:02 Y:0A P:25 SP:F9 PPU:225,132 CYC:25619
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF7  D0 22     BNE $FB1B                       A:05 X:02 Y:0A P:27 SP:F9 PPU:225,138 CYC:25621
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF9  60        RTS                             A:05 X:02 Y:0A P:27 SP:F9 PPU:225,144 CYC:25623
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf664, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F664  AD 47 06  LDA $0647 = 52                  A:05 X:02 Y:0A P:27 SP:FB PPU:225,162 CYC:25629
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf667, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F667  C9 52     CMP #$52                        A:52 X:02 Y:0A P:25 SP:FB PPU:225,174 CYC:25633
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf669, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F669  F0 02     BEQ $F66D                       A:52 X:02 Y:0A P:27 SP:FB PPU:225,180 CYC:25635
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf66d, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0a, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F66D  A0 FF     LDY #$FF                        A:52 X:02 Y:0A P:27 SP:FB PPU:225,189 CYC:25638
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf66f, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F66F  A9 29     LDA #$29                        A:52 X:02 Y:FF P:A5 SP:FB PPU:225,195 CYC:25640
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf671, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F671  8D 47 06  STA $0647 = 52                  A:29 X:02 Y:FF P:25 SP:FB PPU:225,201 CYC:25642
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf674, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F674  20 FA FA  JSR $FAFA                       A:29 X:02 Y:FF P:25 SP:FB PPU:225,213 CYC:25646
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfafa, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFA  B8        CLV                             A:29 X:02 Y:FF P:25 SP:F9 PPU:225,231 CYC:25652
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafb, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFB  18        CLC                             A:29 X:02 Y:FF P:25 SP:F9 PPU:225,237 CYC:25654
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFC  A9 42     LDA #$42                        A:29 X:02 Y:FF P:24 SP:F9 PPU:225,243 CYC:25656
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafe, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFE  60        RTS                             A:42 X:02 Y:FF P:24 SP:F9 PPU:225,249 CYC:25658
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf677, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F677  73 45    *RRA ($45),Y = 0548 @ 0647 = 29  A:42 X:02 Y:FF P:24 SP:FB PPU:225,267 CYC:25664
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf679, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F679  EA        NOP                             A:57 X:02 Y:FF P:24 SP:FB PPU:225,291 CYC:25672
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf67a, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F67A  EA        NOP                             A:57 X:02 Y:FF P:24 SP:FB PPU:225,297 CYC:25674
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf67b, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F67B  08        PHP                             A:57 X:02 Y:FF P:24 SP:FB PPU:225,303 CYC:25676
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf67c, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F67C  48        PHA                             A:57 X:02 Y:FF P:24 SP:FA PPU:225,312 CYC:25679
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf67d, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F67D  A0 0B     LDY #$0B                        A:57 X:02 Y:FF P:24 SP:F9 PPU:225,321 CYC:25682
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf67f, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F67F  68        PLA                             A:57 X:02 Y:0B P:24 SP:F9 PPU:225,327 CYC:25684
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf680, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F680  28        PLP                             A:57 X:02 Y:0B P:24 SP:FA PPU:225,339 CYC:25688
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf681, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F681  20 FF FA  JSR $FAFF                       A:57 X:02 Y:0B P:24 SP:FB PPU:226, 10 CYC:25692
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaff, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFF  70 1A     BVS $FB1B                       A:57 X:02 Y:0B P:24 SP:F9 PPU:226, 28 CYC:25698
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb01, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB01  30 18     BMI $FB1B                       A:57 X:02 Y:0B P:24 SP:F9 PPU:226, 34 CYC:25700
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb03, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB03  B0 16     BCS $FB1B                       A:57 X:02 Y:0B P:24 SP:F9 PPU:226, 40 CYC:25702
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb05, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB05  C9 57     CMP #$57                        A:57 X:02 Y:0B P:24 SP:F9 PPU:226, 46 CYC:25704
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb07, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB07  D0 12     BNE $FB1B                       A:57 X:02 Y:0B P:27 SP:F9 PPU:226, 52 CYC:25706
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb09, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB09  60        RTS                             A:57 X:02 Y:0B P:27 SP:F9 PPU:226, 58 CYC:25708
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf684, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F684  AD 47 06  LDA $0647 = 14                  A:57 X:02 Y:0B P:27 SP:FB PPU:226, 76 CYC:25714
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf687, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F687  C9 14     CMP #$14                        A:14 X:02 Y:0B P:25 SP:FB PPU:226, 88 CYC:25718
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf689, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F689  F0 02     BEQ $F68D                       A:14 X:02 Y:0B P:27 SP:FB PPU:226, 94 CYC:25720
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf68d, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0b, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F68D  A0 FF     LDY #$FF                        A:14 X:02 Y:0B P:27 SP:FB PPU:226,103 CYC:25723
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf68f, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F68F  A9 37     LDA #$37                        A:14 X:02 Y:FF P:A5 SP:FB PPU:226,109 CYC:25725
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf691, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F691  8D 47 06  STA $0647 = 14                  A:37 X:02 Y:FF P:25 SP:FB PPU:226,115 CYC:25727
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf694, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F694  20 0A FB  JSR $FB0A                       A:37 X:02 Y:FF P:25 SP:FB PPU:226,127 CYC:25731
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0A  24 01     BIT $01 = FF                    A:37 X:02 Y:FF P:25 SP:F9 PPU:226,145 CYC:25737
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0C  38        SEC                             A:37 X:02 Y:FF P:E5 SP:F9 PPU:226,154 CYC:25740
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0D  A9 75     LDA #$75                        A:37 X:02 Y:FF P:E5 SP:F9 PPU:226,160 CYC:25742
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0f, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0F  60        RTS                             A:75 X:02 Y:FF P:65 SP:F9 PPU:226,166 CYC:25744
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf697, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F697  73 45    *RRA ($45),Y = 0548 @ 0647 = 37  A:75 X:02 Y:FF P:65 SP:FB PPU:226,184 CYC:25750
    for (0..8) |_| {
        cpu.process();
    }
    try expectEqual(0xf699, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F699  EA        NOP                             A:11 X:02 Y:FF P:25 SP:FB PPU:226,208 CYC:25758
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf69a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F69A  EA        NOP                             A:11 X:02 Y:FF P:25 SP:FB PPU:226,214 CYC:25760
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf69b, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F69B  08        PHP                             A:11 X:02 Y:FF P:25 SP:FB PPU:226,220 CYC:25762
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf69c, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F69C  48        PHA                             A:11 X:02 Y:FF P:25 SP:FA PPU:226,229 CYC:25765
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf69d, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F69D  A0 0C     LDY #$0C                        A:11 X:02 Y:FF P:25 SP:F9 PPU:226,238 CYC:25768
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf69f, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F69F  68        PLA                             A:11 X:02 Y:0C P:25 SP:F9 PPU:226,244 CYC:25770
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf6a0, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F6A0  28        PLP                             A:11 X:02 Y:0C P:25 SP:FA PPU:226,256 CYC:25774
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf6a1, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6A1  20 10 FB  JSR $FB10                       A:11 X:02 Y:0C P:25 SP:FB PPU:226,268 CYC:25778
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb10, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB10  70 09     BVS $FB1B                       A:11 X:02 Y:0C P:25 SP:F9 PPU:226,286 CYC:25784
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb12, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB12  30 07     BMI $FB1B                       A:11 X:02 Y:0C P:25 SP:F9 PPU:226,292 CYC:25786
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb14, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB14  90 05     BCC $FB1B                       A:11 X:02 Y:0C P:25 SP:F9 PPU:226,298 CYC:25788
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb16, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB16  C9 11     CMP #$11                        A:11 X:02 Y:0C P:25 SP:F9 PPU:226,304 CYC:25790
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb18, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB18  D0 01     BNE $FB1B                       A:11 X:02 Y:0C P:27 SP:F9 PPU:226,310 CYC:25792
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1A  60        RTS                             A:11 X:02 Y:0C P:27 SP:F9 PPU:226,316 CYC:25794
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6a4, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6A4  AD 47 06  LDA $0647 = 9B                  A:11 X:02 Y:0C P:27 SP:FB PPU:226,334 CYC:25800
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf6a7, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6A7  C9 9B     CMP #$9B                        A:9B X:02 Y:0C P:A5 SP:FB PPU:227,  5 CYC:25804
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6a9, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6A9  F0 02     BEQ $F6AD                       A:9B X:02 Y:0C P:27 SP:FB PPU:227, 11 CYC:25806
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ad, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0c, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6AD  A0 0D     LDY #$0D                        A:9B X:02 Y:0C P:27 SP:FB PPU:227, 20 CYC:25809
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6af, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0x02, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6AF  A2 FF     LDX #$FF                        A:9B X:02 Y:0D P:25 SP:FB PPU:227, 26 CYC:25811
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6b1, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6B1  A9 A5     LDA #$A5                        A:9B X:FF Y:0D P:A5 SP:FB PPU:227, 32 CYC:25813
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6b3, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6B3  85 47     STA $47 = 9B                    A:A5 X:FF Y:0D P:A5 SP:FB PPU:227, 38 CYC:25815
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6b5, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6B5  20 E9 FA  JSR $FAE9                       A:A5 X:FF Y:0D P:A5 SP:FB PPU:227, 47 CYC:25818
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfae9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE9  24 01     BIT $01 = FF                    A:A5 X:FF Y:0D P:A5 SP:F9 PPU:227, 65 CYC:25824
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaeb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEB  18        CLC                             A:A5 X:FF Y:0D P:E5 SP:F9 PPU:227, 74 CYC:25827
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaec, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEC  A9 B2     LDA #$B2                        A:A5 X:FF Y:0D P:E4 SP:F9 PPU:227, 80 CYC:25829
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaee, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEE  60        RTS                             A:B2 X:FF Y:0D P:E4 SP:F9 PPU:227, 86 CYC:25831
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6b8, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6B8  77 48    *RRA $48,X @ 47 = A5             A:B2 X:FF Y:0D P:E4 SP:FB PPU:227,104 CYC:25837
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ba, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6BA  EA        NOP                             A:05 X:FF Y:0D P:25 SP:FB PPU:227,122 CYC:25843
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6bb, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6BB  EA        NOP                             A:05 X:FF Y:0D P:25 SP:FB PPU:227,128 CYC:25845
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6bc, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6BC  EA        NOP                             A:05 X:FF Y:0D P:25 SP:FB PPU:227,134 CYC:25847
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6bd, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6BD  EA        NOP                             A:05 X:FF Y:0D P:25 SP:FB PPU:227,140 CYC:25849
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6be, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6BE  20 EF FA  JSR $FAEF                       A:05 X:FF Y:0D P:25 SP:FB PPU:227,146 CYC:25851
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaef, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEF  70 2A     BVS $FB1B                       A:05 X:FF Y:0D P:25 SP:F9 PPU:227,164 CYC:25857
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF1  90 28     BCC $FB1B                       A:05 X:FF Y:0D P:25 SP:F9 PPU:227,170 CYC:25859
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF3  30 26     BMI $FB1B                       A:05 X:FF Y:0D P:25 SP:F9 PPU:227,176 CYC:25861
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF5  C9 05     CMP #$05                        A:05 X:FF Y:0D P:25 SP:F9 PPU:227,182 CYC:25863
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF7  D0 22     BNE $FB1B                       A:05 X:FF Y:0D P:27 SP:F9 PPU:227,188 CYC:25865
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF9  60        RTS                             A:05 X:FF Y:0D P:27 SP:F9 PPU:227,194 CYC:25867
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6c1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6C1  A5 47     LDA $47 = 52                    A:05 X:FF Y:0D P:27 SP:FB PPU:227,212 CYC:25873
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6c3, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6C3  C9 52     CMP #$52                        A:52 X:FF Y:0D P:25 SP:FB PPU:227,221 CYC:25876
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6c5, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6C5  F0 02     BEQ $F6C9                       A:52 X:FF Y:0D P:27 SP:FB PPU:227,227 CYC:25878
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6c9, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0d, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6C9  C8        INY                             A:52 X:FF Y:0D P:27 SP:FB PPU:227,236 CYC:25881
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ca, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6CA  A9 29     LDA #$29                        A:52 X:FF Y:0E P:25 SP:FB PPU:227,242 CYC:25883
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6cc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6CC  85 47     STA $47 = 52                    A:29 X:FF Y:0E P:25 SP:FB PPU:227,248 CYC:25885
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ce, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6CE  20 FA FA  JSR $FAFA                       A:29 X:FF Y:0E P:25 SP:FB PPU:227,257 CYC:25888
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfafa, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFA  B8        CLV                             A:29 X:FF Y:0E P:25 SP:F9 PPU:227,275 CYC:25894
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafb, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFB  18        CLC                             A:29 X:FF Y:0E P:25 SP:F9 PPU:227,281 CYC:25896
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFC  A9 42     LDA #$42                        A:29 X:FF Y:0E P:24 SP:F9 PPU:227,287 CYC:25898
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafe, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFE  60        RTS                             A:42 X:FF Y:0E P:24 SP:F9 PPU:227,293 CYC:25900
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6d1, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6D1  77 48    *RRA $48,X @ 47 = 29             A:42 X:FF Y:0E P:24 SP:FB PPU:227,311 CYC:25906
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6d3, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6D3  EA        NOP                             A:57 X:FF Y:0E P:24 SP:FB PPU:227,329 CYC:25912
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6d4, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6D4  EA        NOP                             A:57 X:FF Y:0E P:24 SP:FB PPU:227,335 CYC:25914
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6d5, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6D5  EA        NOP                             A:57 X:FF Y:0E P:24 SP:FB PPU:228,  0 CYC:25916
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6d6, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6D6  EA        NOP                             A:57 X:FF Y:0E P:24 SP:FB PPU:228,  6 CYC:25918
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6d7, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6D7  20 FF FA  JSR $FAFF                       A:57 X:FF Y:0E P:24 SP:FB PPU:228, 12 CYC:25920
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaff, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFF  70 1A     BVS $FB1B                       A:57 X:FF Y:0E P:24 SP:F9 PPU:228, 30 CYC:25926
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb01, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB01  30 18     BMI $FB1B                       A:57 X:FF Y:0E P:24 SP:F9 PPU:228, 36 CYC:25928
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb03, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB03  B0 16     BCS $FB1B                       A:57 X:FF Y:0E P:24 SP:F9 PPU:228, 42 CYC:25930
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb05, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB05  C9 57     CMP #$57                        A:57 X:FF Y:0E P:24 SP:F9 PPU:228, 48 CYC:25932
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb07, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB07  D0 12     BNE $FB1B                       A:57 X:FF Y:0E P:27 SP:F9 PPU:228, 54 CYC:25934
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb09, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB09  60        RTS                             A:57 X:FF Y:0E P:27 SP:F9 PPU:228, 60 CYC:25936
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6da, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6DA  A5 47     LDA $47 = 14                    A:57 X:FF Y:0E P:27 SP:FB PPU:228, 78 CYC:25942
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6dc, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6DC  C9 14     CMP #$14                        A:14 X:FF Y:0E P:25 SP:FB PPU:228, 87 CYC:25945
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6de, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6DE  F0 02     BEQ $F6E2                       A:14 X:FF Y:0E P:27 SP:FB PPU:228, 93 CYC:25947
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6e2, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0e, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6E2  C8        INY                             A:14 X:FF Y:0E P:27 SP:FB PPU:228,102 CYC:25950
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6e3, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6E3  A9 37     LDA #$37                        A:14 X:FF Y:0F P:25 SP:FB PPU:228,108 CYC:25952
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6e5, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6E5  85 47     STA $47 = 14                    A:37 X:FF Y:0F P:25 SP:FB PPU:228,114 CYC:25954
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6e7, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6E7  20 0A FB  JSR $FB0A                       A:37 X:FF Y:0F P:25 SP:FB PPU:228,123 CYC:25957
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0A  24 01     BIT $01 = FF                    A:37 X:FF Y:0F P:25 SP:F9 PPU:228,141 CYC:25963
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0C  38        SEC                             A:37 X:FF Y:0F P:E5 SP:F9 PPU:228,150 CYC:25966
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0D  A9 75     LDA #$75                        A:37 X:FF Y:0F P:E5 SP:F9 PPU:228,156 CYC:25968
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0f, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0F  60        RTS                             A:75 X:FF Y:0F P:65 SP:F9 PPU:228,162 CYC:25970
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ea, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6EA  77 48    *RRA $48,X @ 47 = 37             A:75 X:FF Y:0F P:65 SP:FB PPU:228,180 CYC:25976
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ec, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6EC  EA        NOP                             A:11 X:FF Y:0F P:25 SP:FB PPU:228,198 CYC:25982
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ed, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6ED  EA        NOP                             A:11 X:FF Y:0F P:25 SP:FB PPU:228,204 CYC:25984
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ee, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6EE  EA        NOP                             A:11 X:FF Y:0F P:25 SP:FB PPU:228,210 CYC:25986
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6ef, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6EF  EA        NOP                             A:11 X:FF Y:0F P:25 SP:FB PPU:228,216 CYC:25988
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6f0, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6F0  20 10 FB  JSR $FB10                       A:11 X:FF Y:0F P:25 SP:FB PPU:228,222 CYC:25990
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb10, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB10  70 09     BVS $FB1B                       A:11 X:FF Y:0F P:25 SP:F9 PPU:228,240 CYC:25996
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb12, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB12  30 07     BMI $FB1B                       A:11 X:FF Y:0F P:25 SP:F9 PPU:228,246 CYC:25998
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb14, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB14  90 05     BCC $FB1B                       A:11 X:FF Y:0F P:25 SP:F9 PPU:228,252 CYC:26000
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb16, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB16  C9 11     CMP #$11                        A:11 X:FF Y:0F P:25 SP:F9 PPU:228,258 CYC:26002
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb18, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB18  D0 01     BNE $FB1B                       A:11 X:FF Y:0F P:27 SP:F9 PPU:228,264 CYC:26004
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1A  60        RTS                             A:11 X:FF Y:0F P:27 SP:F9 PPU:228,270 CYC:26006
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf6f3, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6F3  A5 47     LDA $47 = 9B                    A:11 X:FF Y:0F P:27 SP:FB PPU:228,288 CYC:26012
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6f5, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6F5  C9 9B     CMP #$9B                        A:9B X:FF Y:0F P:A5 SP:FB PPU:228,297 CYC:26015
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6f7, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6F7  F0 02     BEQ $F6FB                       A:9B X:FF Y:0F P:27 SP:FB PPU:228,303 CYC:26017
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf6fb, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6FB  A9 A5     LDA #$A5                        A:9B X:FF Y:0F P:27 SP:FB PPU:228,312 CYC:26020
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf6fd, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F6FD  8D 47 06  STA $0647 = 9B                  A:A5 X:FF Y:0F P:A5 SP:FB PPU:228,318 CYC:26022
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf700, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x0f, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F700  A0 FF     LDY #$FF                        A:A5 X:FF Y:0F P:A5 SP:FB PPU:228,330 CYC:26026
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf702, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F702  20 E9 FA  JSR $FAE9                       A:A5 X:FF Y:FF P:A5 SP:FB PPU:228,336 CYC:26028
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfae9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE9  24 01     BIT $01 = FF                    A:A5 X:FF Y:FF P:A5 SP:F9 PPU:229, 13 CYC:26034
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaeb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEB  18        CLC                             A:A5 X:FF Y:FF P:E5 SP:F9 PPU:229, 22 CYC:26037
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaec, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEC  A9 B2     LDA #$B2                        A:A5 X:FF Y:FF P:E4 SP:F9 PPU:229, 28 CYC:26039
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaee, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEE  60        RTS                             A:B2 X:FF Y:FF P:E4 SP:F9 PPU:229, 34 CYC:26041
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf705, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F705  7B 48 05 *RRA $0548,Y @ 0647 = A5         A:B2 X:FF Y:FF P:E4 SP:FB PPU:229, 52 CYC:26047
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf708, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F708  EA        NOP                             A:05 X:FF Y:FF P:25 SP:FB PPU:229, 73 CYC:26054
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf709, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F709  EA        NOP                             A:05 X:FF Y:FF P:25 SP:FB PPU:229, 79 CYC:26056
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf70a, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F70A  08        PHP                             A:05 X:FF Y:FF P:25 SP:FB PPU:229, 85 CYC:26058
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf70b, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F70B  48        PHA                             A:05 X:FF Y:FF P:25 SP:FA PPU:229, 94 CYC:26061
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf70c, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F70C  A0 10     LDY #$10                        A:05 X:FF Y:FF P:25 SP:F9 PPU:229,103 CYC:26064
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf70e, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F70E  68        PLA                             A:05 X:FF Y:10 P:25 SP:F9 PPU:229,109 CYC:26066
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf70f, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F70F  28        PLP                             A:05 X:FF Y:10 P:25 SP:FA PPU:229,121 CYC:26070
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf710, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F710  20 EF FA  JSR $FAEF                       A:05 X:FF Y:10 P:25 SP:FB PPU:229,133 CYC:26074
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaef, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEF  70 2A     BVS $FB1B                       A:05 X:FF Y:10 P:25 SP:F9 PPU:229,151 CYC:26080
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF1  90 28     BCC $FB1B                       A:05 X:FF Y:10 P:25 SP:F9 PPU:229,157 CYC:26082
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF3  30 26     BMI $FB1B                       A:05 X:FF Y:10 P:25 SP:F9 PPU:229,163 CYC:26084
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF5  C9 05     CMP #$05                        A:05 X:FF Y:10 P:25 SP:F9 PPU:229,169 CYC:26086
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF7  D0 22     BNE $FB1B                       A:05 X:FF Y:10 P:27 SP:F9 PPU:229,175 CYC:26088
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF9  60        RTS                             A:05 X:FF Y:10 P:27 SP:F9 PPU:229,181 CYC:26090
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf713, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F713  AD 47 06  LDA $0647 = 52                  A:05 X:FF Y:10 P:27 SP:FB PPU:229,199 CYC:26096
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf716, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F716  C9 52     CMP #$52                        A:52 X:FF Y:10 P:25 SP:FB PPU:229,211 CYC:26100
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf718, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F718  F0 02     BEQ $F71C                       A:52 X:FF Y:10 P:27 SP:FB PPU:229,217 CYC:26102
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf71c, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x10, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F71C  A0 FF     LDY #$FF                        A:52 X:FF Y:10 P:27 SP:FB PPU:229,226 CYC:26105
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf71e, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F71E  A9 29     LDA #$29                        A:52 X:FF Y:FF P:A5 SP:FB PPU:229,232 CYC:26107
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf720, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F720  8D 47 06  STA $0647 = 52                  A:29 X:FF Y:FF P:25 SP:FB PPU:229,238 CYC:26109
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf723, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F723  20 FA FA  JSR $FAFA                       A:29 X:FF Y:FF P:25 SP:FB PPU:229,250 CYC:26113
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfafa, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFA  B8        CLV                             A:29 X:FF Y:FF P:25 SP:F9 PPU:229,268 CYC:26119
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafb, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFB  18        CLC                             A:29 X:FF Y:FF P:25 SP:F9 PPU:229,274 CYC:26121
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFC  A9 42     LDA #$42                        A:29 X:FF Y:FF P:24 SP:F9 PPU:229,280 CYC:26123
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafe, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFE  60        RTS                             A:42 X:FF Y:FF P:24 SP:F9 PPU:229,286 CYC:26125
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf726, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F726  7B 48 05 *RRA $0548,Y @ 0647 = 29         A:42 X:FF Y:FF P:24 SP:FB PPU:229,304 CYC:26131
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf729, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F729  EA        NOP                             A:57 X:FF Y:FF P:24 SP:FB PPU:229,325 CYC:26138
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf72a, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F72A  EA        NOP                             A:57 X:FF Y:FF P:24 SP:FB PPU:229,331 CYC:26140
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf72b, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F72B  08        PHP                             A:57 X:FF Y:FF P:24 SP:FB PPU:229,337 CYC:26142
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf72c, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F72C  48        PHA                             A:57 X:FF Y:FF P:24 SP:FA PPU:230,  5 CYC:26145
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf72d, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F72D  A0 11     LDY #$11                        A:57 X:FF Y:FF P:24 SP:F9 PPU:230, 14 CYC:26148
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf72f, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F72F  68        PLA                             A:57 X:FF Y:11 P:24 SP:F9 PPU:230, 20 CYC:26150
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf730, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F730  28        PLP                             A:57 X:FF Y:11 P:24 SP:FA PPU:230, 32 CYC:26154
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf731, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F731  20 FF FA  JSR $FAFF                       A:57 X:FF Y:11 P:24 SP:FB PPU:230, 44 CYC:26158
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaff, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFF  70 1A     BVS $FB1B                       A:57 X:FF Y:11 P:24 SP:F9 PPU:230, 62 CYC:26164
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb01, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB01  30 18     BMI $FB1B                       A:57 X:FF Y:11 P:24 SP:F9 PPU:230, 68 CYC:26166
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb03, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB03  B0 16     BCS $FB1B                       A:57 X:FF Y:11 P:24 SP:F9 PPU:230, 74 CYC:26168
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb05, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB05  C9 57     CMP #$57                        A:57 X:FF Y:11 P:24 SP:F9 PPU:230, 80 CYC:26170
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb07, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB07  D0 12     BNE $FB1B                       A:57 X:FF Y:11 P:27 SP:F9 PPU:230, 86 CYC:26172
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb09, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB09  60        RTS                             A:57 X:FF Y:11 P:27 SP:F9 PPU:230, 92 CYC:26174
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf734, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F734  AD 47 06  LDA $0647 = 14                  A:57 X:FF Y:11 P:27 SP:FB PPU:230,110 CYC:26180
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf737, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F737  C9 14     CMP #$14                        A:14 X:FF Y:11 P:25 SP:FB PPU:230,122 CYC:26184
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf739, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F739  F0 02     BEQ $F73D                       A:14 X:FF Y:11 P:27 SP:FB PPU:230,128 CYC:26186
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf73d, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x11, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F73D  A0 FF     LDY #$FF                        A:14 X:FF Y:11 P:27 SP:FB PPU:230,137 CYC:26189
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf73f, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F73F  A9 37     LDA #$37                        A:14 X:FF Y:FF P:A5 SP:FB PPU:230,143 CYC:26191
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf741, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F741  8D 47 06  STA $0647 = 14                  A:37 X:FF Y:FF P:25 SP:FB PPU:230,149 CYC:26193
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf744, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F744  20 0A FB  JSR $FB0A                       A:37 X:FF Y:FF P:25 SP:FB PPU:230,161 CYC:26197
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0A  24 01     BIT $01 = FF                    A:37 X:FF Y:FF P:25 SP:F9 PPU:230,179 CYC:26203
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0C  38        SEC                             A:37 X:FF Y:FF P:E5 SP:F9 PPU:230,188 CYC:26206
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0D  A9 75     LDA #$75                        A:37 X:FF Y:FF P:E5 SP:F9 PPU:230,194 CYC:26208
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0f, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0F  60        RTS                             A:75 X:FF Y:FF P:65 SP:F9 PPU:230,200 CYC:26210
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf747, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F747  7B 48 05 *RRA $0548,Y @ 0647 = 37         A:75 X:FF Y:FF P:65 SP:FB PPU:230,218 CYC:26216
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf74a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F74A  EA        NOP                             A:11 X:FF Y:FF P:25 SP:FB PPU:230,239 CYC:26223
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf74b, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F74B  EA        NOP                             A:11 X:FF Y:FF P:25 SP:FB PPU:230,245 CYC:26225
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf74c, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F74C  08        PHP                             A:11 X:FF Y:FF P:25 SP:FB PPU:230,251 CYC:26227
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf74d, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F74D  48        PHA                             A:11 X:FF Y:FF P:25 SP:FA PPU:230,260 CYC:26230
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf74e, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0xff, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F74E  A0 12     LDY #$12                        A:11 X:FF Y:FF P:25 SP:F9 PPU:230,269 CYC:26233
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf750, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // F750  68        PLA                             A:11 X:FF Y:12 P:25 SP:F9 PPU:230,275 CYC:26235
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf751, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfa, cpu.sp);

    // F751  28        PLP                             A:11 X:FF Y:12 P:25 SP:FA PPU:230,287 CYC:26239
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf752, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F752  20 10 FB  JSR $FB10                       A:11 X:FF Y:12 P:25 SP:FB PPU:230,299 CYC:26243
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb10, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB10  70 09     BVS $FB1B                       A:11 X:FF Y:12 P:25 SP:F9 PPU:230,317 CYC:26249
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb12, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB12  30 07     BMI $FB1B                       A:11 X:FF Y:12 P:25 SP:F9 PPU:230,323 CYC:26251
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb14, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB14  90 05     BCC $FB1B                       A:11 X:FF Y:12 P:25 SP:F9 PPU:230,329 CYC:26253
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb16, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB16  C9 11     CMP #$11                        A:11 X:FF Y:12 P:25 SP:F9 PPU:230,335 CYC:26255
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb18, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB18  D0 01     BNE $FB1B                       A:11 X:FF Y:12 P:27 SP:F9 PPU:231,  0 CYC:26257
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1A  60        RTS                             A:11 X:FF Y:12 P:27 SP:F9 PPU:231,  6 CYC:26259
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf755, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F755  AD 47 06  LDA $0647 = 9B                  A:11 X:FF Y:12 P:27 SP:FB PPU:231, 24 CYC:26265
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf758, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F758  C9 9B     CMP #$9B                        A:9B X:FF Y:12 P:A5 SP:FB PPU:231, 36 CYC:26269
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf75a, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F75A  F0 02     BEQ $F75E                       A:9B X:FF Y:12 P:27 SP:FB PPU:231, 42 CYC:26271
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf75e, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x12, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F75E  A0 13     LDY #$13                        A:9B X:FF Y:12 P:27 SP:FB PPU:231, 51 CYC:26274
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf760, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F760  A2 FF     LDX #$FF                        A:9B X:FF Y:13 P:25 SP:FB PPU:231, 57 CYC:26276
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf762, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F762  A9 A5     LDA #$A5                        A:9B X:FF Y:13 P:A5 SP:FB PPU:231, 63 CYC:26278
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf764, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F764  8D 47 06  STA $0647 = 9B                  A:A5 X:FF Y:13 P:A5 SP:FB PPU:231, 69 CYC:26280
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf767, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F767  20 E9 FA  JSR $FAE9                       A:A5 X:FF Y:13 P:A5 SP:FB PPU:231, 81 CYC:26284
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfae9, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAE9  24 01     BIT $01 = FF                    A:A5 X:FF Y:13 P:A5 SP:F9 PPU:231, 99 CYC:26290
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfaeb, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEB  18        CLC                             A:A5 X:FF Y:13 P:E5 SP:F9 PPU:231,108 CYC:26293
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaec, cpu.pc);
    try expectEqual(0xa5, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEC  A9 B2     LDA #$B2                        A:A5 X:FF Y:13 P:E4 SP:F9 PPU:231,114 CYC:26295
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaee, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEE  60        RTS                             A:B2 X:FF Y:13 P:E4 SP:F9 PPU:231,120 CYC:26297
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf76a, cpu.pc);
    try expectEqual(0xb2, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0xe4, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F76A  7F 48 05 *RRA $0548,X @ 0647 = A5         A:B2 X:FF Y:13 P:E4 SP:FB PPU:231,138 CYC:26303
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf76d, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F76D  EA        NOP                             A:05 X:FF Y:13 P:25 SP:FB PPU:231,159 CYC:26310
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf76e, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F76E  EA        NOP                             A:05 X:FF Y:13 P:25 SP:FB PPU:231,165 CYC:26312
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf76f, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F76F  EA        NOP                             A:05 X:FF Y:13 P:25 SP:FB PPU:231,171 CYC:26314
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf770, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F770  EA        NOP                             A:05 X:FF Y:13 P:25 SP:FB PPU:231,177 CYC:26316
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf771, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F771  20 EF FA  JSR $FAEF                       A:05 X:FF Y:13 P:25 SP:FB PPU:231,183 CYC:26318
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaef, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAEF  70 2A     BVS $FB1B                       A:05 X:FF Y:13 P:25 SP:F9 PPU:231,201 CYC:26324
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf1, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF1  90 28     BCC $FB1B                       A:05 X:FF Y:13 P:25 SP:F9 PPU:231,207 CYC:26326
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf3, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF3  30 26     BMI $FB1B                       A:05 X:FF Y:13 P:25 SP:F9 PPU:231,213 CYC:26328
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf5, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF5  C9 05     CMP #$05                        A:05 X:FF Y:13 P:25 SP:F9 PPU:231,219 CYC:26330
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf7, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF7  D0 22     BNE $FB1B                       A:05 X:FF Y:13 P:27 SP:F9 PPU:231,225 CYC:26332
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfaf9, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAF9  60        RTS                             A:05 X:FF Y:13 P:27 SP:F9 PPU:231,231 CYC:26334
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf774, cpu.pc);
    try expectEqual(0x05, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F774  AD 47 06  LDA $0647 = 52                  A:05 X:FF Y:13 P:27 SP:FB PPU:231,249 CYC:26340
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf777, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F777  C9 52     CMP #$52                        A:52 X:FF Y:13 P:25 SP:FB PPU:231,261 CYC:26344
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf779, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F779  F0 02     BEQ $F77D                       A:52 X:FF Y:13 P:27 SP:FB PPU:231,267 CYC:26346
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf77d, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x13, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F77D  C8        INY                             A:52 X:FF Y:13 P:27 SP:FB PPU:231,276 CYC:26349
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf77e, cpu.pc);
    try expectEqual(0x52, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F77E  A9 29     LDA #$29                        A:52 X:FF Y:14 P:25 SP:FB PPU:231,282 CYC:26351
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf780, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F780  8D 47 06  STA $0647 = 52                  A:29 X:FF Y:14 P:25 SP:FB PPU:231,288 CYC:26353
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf783, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F783  20 FA FA  JSR $FAFA                       A:29 X:FF Y:14 P:25 SP:FB PPU:231,300 CYC:26357
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfafa, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFA  B8        CLV                             A:29 X:FF Y:14 P:25 SP:F9 PPU:231,318 CYC:26363
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafb, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFB  18        CLC                             A:29 X:FF Y:14 P:25 SP:F9 PPU:231,324 CYC:26365
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafc, cpu.pc);
    try expectEqual(0x29, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFC  A9 42     LDA #$42                        A:29 X:FF Y:14 P:24 SP:F9 PPU:231,330 CYC:26367
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfafe, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFE  60        RTS                             A:42 X:FF Y:14 P:24 SP:F9 PPU:231,336 CYC:26369
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf786, cpu.pc);
    try expectEqual(0x42, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F786  7F 48 05 *RRA $0548,X @ 0647 = 29         A:42 X:FF Y:14 P:24 SP:FB PPU:232, 13 CYC:26375
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf789, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F789  EA        NOP                             A:57 X:FF Y:14 P:24 SP:FB PPU:232, 34 CYC:26382
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf78a, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F78A  EA        NOP                             A:57 X:FF Y:14 P:24 SP:FB PPU:232, 40 CYC:26384
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf78b, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F78B  EA        NOP                             A:57 X:FF Y:14 P:24 SP:FB PPU:232, 46 CYC:26386
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf78c, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F78C  EA        NOP                             A:57 X:FF Y:14 P:24 SP:FB PPU:232, 52 CYC:26388
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf78d, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F78D  20 FF FA  JSR $FAFF                       A:57 X:FF Y:14 P:24 SP:FB PPU:232, 58 CYC:26390
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfaff, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FAFF  70 1A     BVS $FB1B                       A:57 X:FF Y:14 P:24 SP:F9 PPU:232, 76 CYC:26396
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb01, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB01  30 18     BMI $FB1B                       A:57 X:FF Y:14 P:24 SP:F9 PPU:232, 82 CYC:26398
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb03, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB03  B0 16     BCS $FB1B                       A:57 X:FF Y:14 P:24 SP:F9 PPU:232, 88 CYC:26400
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb05, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x24, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB05  C9 57     CMP #$57                        A:57 X:FF Y:14 P:24 SP:F9 PPU:232, 94 CYC:26402
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb07, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB07  D0 12     BNE $FB1B                       A:57 X:FF Y:14 P:27 SP:F9 PPU:232,100 CYC:26404
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb09, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB09  60        RTS                             A:57 X:FF Y:14 P:27 SP:F9 PPU:232,106 CYC:26406
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf790, cpu.pc);
    try expectEqual(0x57, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F790  AD 47 06  LDA $0647 = 14                  A:57 X:FF Y:14 P:27 SP:FB PPU:232,124 CYC:26412
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf793, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F793  C9 14     CMP #$14                        A:14 X:FF Y:14 P:25 SP:FB PPU:232,136 CYC:26416
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf795, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F795  F0 02     BEQ $F799                       A:14 X:FF Y:14 P:27 SP:FB PPU:232,142 CYC:26418
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf799, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x14, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F799  C8        INY                             A:14 X:FF Y:14 P:27 SP:FB PPU:232,151 CYC:26421
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf79a, cpu.pc);
    try expectEqual(0x14, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F79A  A9 37     LDA #$37                        A:14 X:FF Y:15 P:25 SP:FB PPU:232,157 CYC:26423
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf79c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F79C  8D 47 06  STA $0647 = 14                  A:37 X:FF Y:15 P:25 SP:FB PPU:232,163 CYC:26425
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf79f, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F79F  20 0A FB  JSR $FB0A                       A:37 X:FF Y:15 P:25 SP:FB PPU:232,175 CYC:26429
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0a, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0A  24 01     BIT $01 = FF                    A:37 X:FF Y:15 P:25 SP:F9 PPU:232,193 CYC:26435
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0c, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0C  38        SEC                             A:37 X:FF Y:15 P:E5 SP:F9 PPU:232,202 CYC:26438
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0d, cpu.pc);
    try expectEqual(0x37, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0xe5, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0D  A9 75     LDA #$75                        A:37 X:FF Y:15 P:E5 SP:F9 PPU:232,208 CYC:26440
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb0f, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB0F  60        RTS                             A:75 X:FF Y:15 P:65 SP:F9 PPU:232,214 CYC:26442
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7a2, cpu.pc);
    try expectEqual(0x75, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x65, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7A2  7F 48 05 *RRA $0548,X @ 0647 = 37         A:75 X:FF Y:15 P:65 SP:FB PPU:232,232 CYC:26448
    for (0..7) |_| {
        cpu.process();
    }
    try expectEqual(0xf7a5, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7A5  EA        NOP                             A:11 X:FF Y:15 P:25 SP:FB PPU:232,253 CYC:26455
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7a6, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7A6  EA        NOP                             A:11 X:FF Y:15 P:25 SP:FB PPU:232,259 CYC:26457
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7a7, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7A7  EA        NOP                             A:11 X:FF Y:15 P:25 SP:FB PPU:232,265 CYC:26459
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7a8, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7A8  EA        NOP                             A:11 X:FF Y:15 P:25 SP:FB PPU:232,271 CYC:26461
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7a9, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7A9  20 10 FB  JSR $FB10                       A:11 X:FF Y:15 P:25 SP:FB PPU:232,277 CYC:26463
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xfb10, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB10  70 09     BVS $FB1B                       A:11 X:FF Y:15 P:25 SP:F9 PPU:232,295 CYC:26469
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb12, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB12  30 07     BMI $FB1B                       A:11 X:FF Y:15 P:25 SP:F9 PPU:232,301 CYC:26471
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb14, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB14  90 05     BCC $FB1B                       A:11 X:FF Y:15 P:25 SP:F9 PPU:232,307 CYC:26473
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb16, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x25, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB16  C9 11     CMP #$11                        A:11 X:FF Y:15 P:25 SP:F9 PPU:232,313 CYC:26475
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb18, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB18  D0 01     BNE $FB1B                       A:11 X:FF Y:15 P:27 SP:F9 PPU:232,319 CYC:26477
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xfb1a, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xf9, cpu.sp);

    // FB1A  60        RTS                             A:11 X:FF Y:15 P:27 SP:F9 PPU:232,325 CYC:26479
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xf7ac, cpu.pc);
    try expectEqual(0x11, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7AC  AD 47 06  LDA $0647 = 9B                  A:11 X:FF Y:15 P:27 SP:FB PPU:233,  2 CYC:26485
    for (0..4) |_| {
        cpu.process();
    }
    try expectEqual(0xf7af, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0xa5, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7AF  C9 9B     CMP #$9B                        A:9B X:FF Y:15 P:A5 SP:FB PPU:233, 14 CYC:26489
    for (0..2) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b1, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7B1  F0 02     BEQ $F7B5                       A:9B X:FF Y:15 P:27 SP:FB PPU:233, 20 CYC:26491
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xf7b5, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfb, cpu.sp);

    // F7B5  60        RTS                             A:9B X:FF Y:15 P:27 SP:FB PPU:233, 29 CYC:26494
    for (0..6) |_| {
        cpu.process();
    }
    try expectEqual(0xc655, cpu.pc);
    try expectEqual(0x9b, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C655  A5 00     LDA $00 = 00                    A:9B X:FF Y:15 P:27 SP:FD PPU:233, 47 CYC:26500
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc657, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C657  05 10     ORA $10 = 00                    A:00 X:FF Y:15 P:27 SP:FD PPU:233, 56 CYC:26503
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc659, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C659  05 11     ORA $11 = 00                    A:00 X:FF Y:15 P:27 SP:FD PPU:233, 65 CYC:26506
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc65b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);

    // C65B  F0 0E     BEQ $C66B                       A:00 X:FF Y:15 P:27 SP:FD PPU:233, 74 CYC:26509
    for (0..3) |_| {
        cpu.process();
    }
    try expectEqual(0xc66b, cpu.pc);
    try expectEqual(0x00, cpu.acc);
    try expectEqual(0xff, cpu.x);
    try expectEqual(0x15, cpu.y);
    try expectEqual(0x27, cpu.getP());
    try expectEqual(0xfd, cpu.sp);
}
